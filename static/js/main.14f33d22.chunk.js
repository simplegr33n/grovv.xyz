(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){},215:function(e,t){e.exports="data:image/png;base64,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"},246:function(e,t,a){e.exports=a(515)},251:function(e,t,a){},514:function(e,t){e.exports="data:image/png;base64,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"},515:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),r=a(41),o=a.n(r),s=(a(251),a(8)),l=a(9),c=a(11),u=a(10),d=a(12),p=(a(19),a(65)),m=a.n(p),h=(a(252),a(254),a(521),{apiKey:"AIzaSyBJuUseKfGN_MjNEWg722WY1FsO2xZ1AuE",authDomain:"grovv-22cbd.firebaseapp.com",databaseURL:"https://grovv-22cbd.firebaseio.com",projectId:"grovv-22cbd",storageBucket:"grovv-22cbd.appspot.com",messagingSenderId:"30272449560"}),f=function e(){Object(s.a)(this,e),m.a.apps.length||m.a.initializeApp(h),this.db=m.a.database(),this.auth=m.a.auth(),this.storage=m.a.storage()},g=a(22),v=a.n(g),y=a(27),E=function(){function e(){Object(s.a)(this,e),this.firebase=new f,this.userID="wR4QKyZ77mho1fL0FQWSMBQ170S2"}return Object(l.a)(e,[{key:"getUser",value:function(e,t){this.firebase.db.ref().child("users").child(e).on("value",function(e){null!==e.val()?t(e.val()):t(!1)},function(e){console.log("get user failed: "+e.code)})}},{key:"setUser",value:function(e){this.firebase.db.ref().child("users").child(e.uid).set(e)}},{key:"getLifetimeData",value:function(e,t){this.firebase.db.ref().child("lifetime").child(this.userID).on("value",function(e){t(e.val())},function(e){console.log("Get Lifetime Data failed: "+e.code)})}},{key:"postLifetimeData",value:function(e,t,a,n,i){console.log("Post Lifetime Data",e),this.firebase.db.ref().child("lifetime").child(this.userID).child(t).child(a).child(n).child(i).set(e)}},{key:"getMonthChunk",value:function(e,t,a,n){console.log("getMonthCHunk!"+e+" "+t+" "+a),this.firebase.db.ref().child("grow_data").child(this.userID).child(e).child("sensor_data").child(t).child(a).on("value",function(e){n(e.val())},function(e){console.log("getMonthChunk: "+e.code)})}},{key:"getLiveGrowData",value:function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(e){n.firebase.db.ref().child("grow_data").child(n.userID).child(e.id).child("live_data").on("value",function(t){a(e.id,t.val())},function(t){console.log("follow "+e+" live failed: "+t.code)})});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getThreeDays",value:function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n,i,r,o,s,l,c,u,d,p;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.firebase.db.ref().child("grow_data").child(this.userID).child(t).child("sensor_data"),i=new Date,r=i.getFullYear().toString(),(o=(i.getMonth()+1).toString()).length<2&&(o="0"+o),s=[],l=null,(c=i.getDate())-2>=1&&((l=c-2).toString().length<2&&(l="0"+l),s[s.length]=l),c-1>=1&&((l=c-1).toString().length<2&&(l="0"+l),s[s.length]=l),c.toString().length<2&&(c="0"+c),s[s.length]=c,u=0,d=[],p=[],s.forEach(function(e){e.toString()!==c.toString()&&n.child(r).child(o).child(e).on("value",function(i){p.includes(e)||(p[p.length]=e,i.forEach(function(e){e.forEach(function(e){if(++u%10===0||0===u){var t=e.val(),a=new Date(t.time).getTime();t.time=a,d[d.length]=t}})}),p.length===s.length-1&&n.child(r).child(o).child(c).on("value",function(e){var n=[];e.forEach(function(e){e.forEach(function(e){if(++u%10===0||0===u){var t=e.val(),a=new Date(t.time).getTime();t.time=a,n[n.length]=t}})}),n.sort(function(e,t){return e.time>t.time?1:-1}),console.log("DBHELPER Test 3-day Datapoints to return... grow:"+t),console.log(n.length),console.log(n[0]),console.log(n[n.length-1]);var i=d.concat(n);i.sort(function(e,t){return e.time>t.time?1:-1}),a(i)}))})});case 16:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getThreeDayData",value:function(e,t){var a=this.firebase.db.ref().child("grow_data").child(this.userID).child(e).child("sensor_data"),n=new Date,i=n.getFullYear().toString(),r=(n.getMonth()+1).toString();r.length<2&&(r="0"+r);var o=[],s=null,l=n.getDate();l-2>=1&&((s=l-2).toString().length<2&&(s="0"+s),o[o.length]=s),l-1>=1&&((s=l-1).toString().length<2&&(s="0"+s),o[o.length]=s),l.toString().length<2&&(l="0"+l),o[o.length]=l,o.forEach(function(n){a.child(i).child(r).child(n).on("value",function(a){var i=[];a.forEach(function(e){e.forEach(function(e){var t=e.val();t.time=1e3*t.time,i[i.length]=t})}),i.sort(function(e,t){return e.time>t.time?1:-1}),t(e,n,i)})})}},{key:"getGrowConfig",value:function(e,t){this.firebase.db.ref().child("grows").child(this.userID).child(e).child("config").on("value",function(e){null!==e.val()?t(e.val()):t(!1)},function(e){console.log("watch isResetting failed: "+e.code)})}},{key:"setGrowConfig",value:function(e,t){this.firebase.db.ref().child("grows").child(this.userID).child(e).child("config").update(t)}},{key:"getResetValue",value:function(e,t){this.firebase.db.ref().child("grows").child(this.userID).child(e).child("config").child("isResetting").on("value",function(e){null!==e.val()?t(e.val()):t(!1)},function(e){console.log("watch isResetting failed: "+e.code)})}},{key:"resetGrow",value:function(e){this.firebase.db.ref().child("grows").child(this.userID).child(e).child("config").child("isResetting").set(!0)}},{key:"getUserGrows",value:function(e){var t=this;this.firebase.db.ref().child("users").child(this.userID).child("grows").on("value",function(a){var n=[];a.forEach(function(e){e.val().sensors_live||(n[n.length]=e.key)});var i=[];n.forEach(function(a){t.firebase.db.ref().child("grows").child(t.userID).child(a).once("value",function(t){i.includes(t.val())||(i[i.length]=t.val()),i.sort(function(e,t){return e.createdAt>t.createdAt?1:-1}),e(i)},function(e){console.log("watch user grows grow failed: "+e.code)})})},function(e){console.log("watch user grows failed: "+e.code)})}},{key:"getLinkedJournals",value:function(e,t){this.firebase.db.ref().child("users").child(this.userID).child("journals").on("value",function(a){var n=[];a.forEach(function(t){e&&Object.keys(e).forEach(function(e){t.val().id===e&&n.push(t.val())})}),n.sort(function(e,t){return e.updatedAt<t.updatedAt?1:-1}),t(n)},function(e){console.log("GrowDetails watch user journals failed: "+e.code)})}},{key:"getUserJournals",value:function(e){this.firebase.db.ref().child("users").child(this.userID).child("journals").on("value",function(t){var a=[];t.forEach(function(e){a.push(e.val())}),console.log("Journals List: ",a),a.sort(function(e,t){return e.updatedAt<t.updatedAt?1:-1}),e(a)},function(e){console.log("watch user journals failed: "+e.code)})}},{key:"watchJournalEntries",value:function(e,t){var a=this.firebase.db.ref().child("journals").child(this.userID).child(e).child("entries");console.log("watchin... "+e),a.on("value",function(e){var a=[];e.forEach(function(e){a.push(e.val())}),a.sort(function(e,t){return e.datetime_true>t.datetime_true?1:-1});var n=[];a.forEach(function(e){n.includes(e.datetime_short)||(n[n.length]=e.datetime_short)});var i=[];n.forEach(function(e){var t=[];a.forEach(function(a){e===a.datetime_short&&(t[t.length]=a)}),i[i.length]=t}),t(a,i)},function(e){console.log("follow journal failed: "+e.code)})}},{key:"createJournal",value:function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n,i,r,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.firebase.db.ref().child("journals").child(this.userID).push(),i=this.firebase.db.ref().child("users").child(this.userID).child("journals").child(n.key),r=n.key,o=new Date,n.update({id:r,name:t,updatedAt:o.getTime(),createdAt:o.getTime(),previewImage:"https://via.placeholder.com/160x120?text=NO+PREVIEW"}),i.update({id:r,name:t,updatedAt:o.getTime(),createdAt:o.getTime(),previewImage:"https://via.placeholder.com/160x120?text=NO+PREVIEW"}),a(r);case 7:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveJournalEntry",value:function(e,t,a,n,i,r,o,s,l){var c=this.firebase.db.ref().child("journals").child(this.userID).child(e).child("entries"),u=(new Date).getTime(),d=a,p=d.getMonth()+1+"-";2===p.length&&(p="0"+p);var m=p+d.getDate()+"-"+d.getFullYear();t||(t=c.push().key);o||(o=new Date),a||(a=new Date),c.child(t).update({id:t,title:n,published:!0,content:i,grow_stage:r,datetime_post:o.getTime(),datetime_edit:u,datetime_true:a.getTime(),datetime_short:m,journal_id:e,images:s}),console.log("set journal entry "+t);var h=this.firebase.db.ref().child("journals").child(this.userID).child(e),f=this.firebase.db.ref().child("users").child(this.userID).child("journals").child(e),g=new Date;h.child("updatedAt").set(g.getTime()),f.child("updatedAt").set(g.getTime()),l(t)}},{key:"handleImageUpload",value:function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n,i,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.firebase.storage.ref().child("journals").child(this.userID),console.log("filename:"+t.name),i=new Date,r={contentType:t.type},n.child(i.getTime()+t.name).put(t,r).then(function(e){return e.ref.getDownloadURL()}).then(function(e){var t=e.split("%2F"),n=t[0]+"%2F"+t[1]+"%2Fthumb_"+t[2];a(e,n)});case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleImageDelete",value:function(e){this.firebase.storage.refFromURL(e).delete().then(function(){console.log("deleted "+e+"successfully :)")}).catch(function(t){console.log("delete "+e+"error :(")})}}]),e}(),w=a(23),S=function(){function e(){Object(s.a)(this,e),this.concatAllGrowsData=function(e,t,a,n,i){var r=[],o=!1;a.forEach(function(a){if(t[a.id])if(n&&n[a.id]&&t[a.id]&&n[a.id]===t[a.id][t[a.id].length-1].length)r[a.id]=t[a.id][t[a.id].length-1].length;else{o=!0,r[a.id]=t[a.id][t[a.id].length-1].length;var i=[];t[a.id].forEach(function(e){i=i.concat(e)}),n&&n[a.id]===i.length||(i.sort(function(e,t){return e.time>t.time?1:-1}),e[a.id]=i)}else r[a.id]=0}),o&&i(e,r)},this.processAllGrowsData=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:108e5,i=(new Date).getTime(),r=[],o=[];t&&(t.forEach(function(t){if(e[t.id]){var a=[],s=-1;e[t.id].forEach(function(e){var r={},l=Math.round(n/108e5);if(l<1&&(l=1),i-e.time<n&&(0===++s||s%l===0)){for(var c=e,u=0,d=Object.entries(c);u<d.length;u++){var p=d[u],m=Object(w.a)(p,2),h=m[0],f=m[1];"time"!==h?r[h+"^"+t.id]=f:r.time=f}o[o.length]=r,a[a.length]=c}}),r[t.id]=a}}),o.sort(function(e,t){return e.time>t.time?1:-1}),a(o,r))}}return Object(l.a)(e,[{key:"normalizeLifetimeData",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(new Date).valueOf(),i=["01","02","03","04","05","06","07","08","09","10","11","12"],r=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],o=[],s=[],l=[];[2019,2020].forEach(function(t){i.forEach(function(i){var c=new Date(t+"-"+i).valueOf();c<n&&c>a&&r.forEach(function(a){for(var n={},r=0,c=Object.entries(e);r<c.length;r++){var u=c[r],d=Object(w.a)(u,2),p=d[0],m=d[1];if(m[t]&&m[t][i]&&m[t][i][a])for(var h=0,f=Object.entries(m[t][i][a]);h<f.length;h++)for(var g=f[h],v=Object(w.a)(g,2),y=v[0],E=v[1],S=0,D=Object.entries(E);S<D.length;S++){var b=D[S],x=Object(w.a)(b,2),I=x[0],k=x[1],A=I+"^"+p+"^"+y;n[A]=k,s.includes(A)||(s[s.length]=A),("HIGH"===y&&!l[I+"^"+p]||l[I+"^"+p]<k)&&(l[I+"^"+p]=k)}}if(0!==Object.keys(n).length){var G=new Date(t+"-"+i+"-"+a).valueOf();n.time=G,o[o.length]=n}})})}),t(s,o,l)}}]),e}(),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(){console.log("SignIn submit pressed");var e=a.state.username,t=a.state.password;console.log("SignUp submit pressed - username ".concat(e)),a.validateEmail(e)?(a.setState({username:"",password:""}),a.hideSigninFields(),a.firebase.auth.signInWithEmailAndPassword(e,t).catch(function(e){var t=e.code,a=e.message;console.log("".concat(t,": ").concat(a)),alert("".concat(t,": ").concat(a)),this.setState({SHOWFIELDS:!0})}),console.log("username ".concat(e," - logged in"))):alert("Bad email me thinks :(")},a.hideSigninFields=function(){a.setState({SHOWFIELDS:!1})},a.showSigninFields=function(){a.setState({SHOWFIELDS:!0})},a.state={username:"",password:"",SHOWFIELDS:!1},a.firebase=new f,a.firebase.auth.onAuthStateChanged(function(e){e||a.showSigninFields()}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"validateEmail",value:function(e){return/^\S+@\S+$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/.test(String(e))}},{key:"enterSubmit",value:function(){console.log("SignIn submit enter pressed");var e=this.state.username,t=this.state.password;console.log("SignUp submit enter pressed - username ".concat(e)),this.validateEmail(e)?(this.setState({username:"",password:""}),this.hideSigninFields(),this.firebase.auth.signInWithEmailAndPassword(e,t).catch(function(e){var t=e.code,a=e.message;console.log("".concat(t,": ").concat(a)),alert("".concat(t,": ").concat(a)),this.setState({SHOWFIELDS:!0})}),console.log("username ".concat(e," - logged in"))):alert("Bad email me thinks :(")}},{key:"render",value:function(){var e=this;return this.state.SHOWFIELDS?i.a.createElement("div",{id:"signin-div"},i.a.createElement("h3",null,"Sign In"),i.a.createElement("div",null,"Email:",i.a.createElement("input",{id:"signin-username",value:this.state.username,onChange:this.handleUsernameChange})),i.a.createElement("div",null,"Password:",i.a.createElement("input",{type:"password",id:"signin-password",value:this.state.password,onChange:this.handlePasswordChange,onKeyPress:function(t){console.log("Pressed keyCode ".concat(t.key)),"Enter"!==t.key&&"13"!==t.key||e.enterSubmit()}})),i.a.createElement("div",null,i.a.createElement("button",{id:"submit-signin-btn",onClick:this.handleSubmit}," Sign in! "))):i.a.createElement("div",null,"One Moment...")}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).hideSignupFields=function(){a.setState({SHOWFIELDS:!1})},a.showSignupFields=function(){a.setState({SHOWFIELDS:!0})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(){var e=a.state.username,t=a.state.password;return console.log("SignUp submit pressed - username ".concat(e)),a.validateEmail(e)?a.validatePassword(t)?void a.firebase.auth.createUserWithEmailAndPassword(e,t).catch(function(e){var t=e.code,a=e.message;console.log("".concat(t,": ").concat(a))}):(alert("Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character."),void a.setState({password:""})):(alert("Bad email me thinks :("),void a.setState({username:""}))},a.handleGotoSignIn=function(){a.props.gotoSignIn("signin"),console.log("Goto signin pressed")},a.state={username:"",password:"",SHOWFIELDS:!1},a.firebase=new f,a.firebase.auth.onAuthStateChanged(function(e){e?a.postUserToFirebase(e.uid,e.email):a.showSignupFields()}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"postUserToFirebase",value:function(e,t){var a=(new Date).getTime(),n={uid:e,username:t,createdAt:a,updatedAt:a},i={};return i["/users/"+e]=n,this.firebase.db.ref().update(i)}},{key:"validateEmail",value:function(e){return/^\S+@\S+$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/.test(String(e))}},{key:"render",value:function(){return this.state.SHOWFIELDS?i.a.createElement("div",{id:"signup-div"},i.a.createElement("h3",null,"Sign Up"),i.a.createElement("div",null,"Email:",i.a.createElement("input",{id:"signup-username",value:this.state.username,onChange:this.handleUsernameChange})),i.a.createElement("div",null,"Password:",i.a.createElement("input",{type:"password",id:"signup-password",value:this.state.password,onChange:this.handlePasswordChange})),i.a.createElement("div",null,i.a.createElement("button",{id:"submit-signup-btn",onClick:this.handleSubmit}," Sign up! ")),i.a.createElement("div",null,i.a.createElement("button",{id:"goto-signin-btn",onClick:this.handleGotoSignIn}," Sign in! "))):i.a.createElement("div",null,"One Moment...")}}]),t}(n.Component),x=a(203),I=a.n(x),k=(a(258),a(216)),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleTitleChange=function(e){a.setState({title:e.target.value})},a.handleContentChange=function(e){a.setState({content:e.target.value})},a.cancelModal=function(){a.deleteAllAddedImages(),a.props.closeModal(a.state.entryID)},a.saveEntry=Object(y.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.state.content||0!==a.state.images.length){e.next=3;break}return alert("Needs content or images!"),e.abrupt("return");case 3:a.setState({published:!0}),t=null,t=""!==a.state.title&&a.state.title?a.state.title:"",n=null,n=""!==a.state.content&&a.state.content?a.state.content:"",a.dbHelper.saveJournalEntry(a.state.journalID,a.state.entryID,a.state.trueDate,t,n,a.state.growStage,a.state.postDate,a.state.images,a.closeModal);case 9:case"end":return e.stop()}},e)})),a.closeModal=function(e){a.props.closeModal(e)},a.displayFullImage=function(){console.log("JournalAddEditModal todo")},a.handleImageUpload=function(){var e=Object(y.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.dbHelper.handleImageUpload(t,a.setImages);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","caught "+e.t0);case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),a.setImages=function(e,t){var n=a.state.images,i=a.state.addedImages;n.push({url:e,thumb:t}),i.push({url:e,thumb:t}),a.setState({images:n,addedImages:i})},a.deleteImage=function(e){var t=e.target.dataset.value;console.log(t),console.log(a.state.images);var n=[];a.state.images.forEach(function(e){e.url.toString()===t?(a.handleImageDelete(e.url),a.handleImageDelete(e.thumb)):n.push(e)}),a.setState({images:n})},a.deleteAllAddedImages=function(){a.state.addedImages.forEach(function(e){a.handleImageDelete(e.url),a.handleImageDelete(e.thumb)})},a.handleImageDelete=function(e){a.dbHelper.handleImageDelete(e)},a.handleDateChange=function(e){a.setState({trueDate:e})},a.handleGrowStageChange=function(e){a.setState({growStage:e.target.value})},a.state={title:"",content:"",images:[],addedImages:[],journalID:a.props.journalID,postDate:new Date,trueDate:new Date,growStage:"veg",published:!1,entryID:""},a.dbHelper=new E,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.editPost){var e=null;e=this.props.editPost.datetime_true?new Date(this.props.editPost.datetime_true):this.state.trueDate;var t=null;t=this.props.editPost.datetime_post?new Date(this.props.editPost.datetime_post):this.state.postDate;var a=this.props.editPost.content,n=this.props.editPost.title,i=this.props.editPost.images;null!==i&&void 0!==i||(i=[]);var r=null;r=this.props.editPost.grow_stage?this.props.editPost.grow_stage:this.state.growStage;var o=this.props.editPost.id;this.setState({title:n,content:a,trueDate:e,postDate:t,growStage:r,images:i,entryID:o,published:!0})}}},{key:"onImageDrop",value:function(e){var t=this;console.log(e),e.forEach(function(e){t.handleImageUpload(e),console.log("upload "+e)})}},{key:"render",value:function(){var e=this;if(console.log("true DATE!!"),console.log(this.state.trueDate),this.state.images)var t=this.state.images.map(function(t,a){return i.a.createElement("div",{className:"Temp-Image-Div"},i.a.createElement("img",{key:a,alt:"grow img","data-value":t.url,src:t.url,className:"Journal-Entry-Preview-Thumbnail",onClick:e.displayFullImage}),i.a.createElement("div",{"data-value":t.url,onClick:e.deleteImage,className:"Delete-Image-Btn"},"X"))});return i.a.createElement("div",{id:"Journal-Modal-Space"},i.a.createElement("div",{id:"Journal-Edit-Entry-Modal"},i.a.createElement("div",{id:"Journal-Edit-Topline"},i.a.createElement(I.a,{id:"journal-edit-datepicker",selected:this.state.trueDate,onChange:this.handleDateChange}),i.a.createElement("select",{id:"journal-edit-grow-stage",onChange:this.handleGrowStageChange,value:this.state.growStage},i.a.createElement("option",{value:"post"},"Post"),i.a.createElement("option",{value:"flower"},"Flower"),i.a.createElement("option",{value:"veg"},"Veg"),i.a.createElement("option",{value:"seedling"},"Seedling"),i.a.createElement("option",{value:"pre"},"Pre")),i.a.createElement("input",{className:"journal-modal-edit-title",placeholder:"enter title...",value:this.state.title,onChange:this.handleTitleChange})),i.a.createElement("textarea",{className:"journal-modal-edit-body",placeholder:"enter body content...",value:this.state.content,onChange:this.handleContentChange}),i.a.createElement("div",{className:"journal-add-images-area"},i.a.createElement(k.a,{className:"journal-add-images-dropzone",onDrop:this.onImageDrop.bind(this),accept:"image/*",multiple:!0},function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("div",t(),i.a.createElement("input",a()),i.a.createElement("p",{id:"Image-Drop-Text"},"Try dropping some ",i.a.createElement("br",null)," images ",i.a.createElement("span",{role:"img","aria-label":"camera"},"\ud83d\udcf7")," here, ",i.a.createElement("br",null),"or click to ",i.a.createElement("br",null)," select files."))}),function(){if(t)return i.a.createElement("div",{className:"Journal-Edit-Post-Images"},t)}()),i.a.createElement("div",{id:"journal-cancel-save-btns"},i.a.createElement("button",{className:"journal-cancel-btn",onClick:this.cancelModal},"Cancel"),i.a.createElement("button",{className:"journal-save-entry-btn",onClick:this.saveEntry},"Save Entry"))))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).closeModal=function(){a.props.closeModal("")},a.nextImage=function(){a.state.fullSizeList.forEach(function(e,t){e!==a.state.currentImage||t<a.state.fullSizeList.length-1&&a.setState({currentImage:a.state.fullSizeList[t+1]})})},a.previousImage=function(){a.state.fullSizeList.forEach(function(e,t){e!==a.state.currentImage||t>0&&a.setState({currentImage:a.state.fullSizeList[t-1]})})},a.state={imageList:a.props.imageList,currentImage:a.props.currentFullImage,fullSizeList:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.imageList){var e=[];this.props.imageList.forEach(function(t){e[e.length]=t.url}),this.setState({fullSizeList:e})}}},{key:"render",value:function(){return console.log("FULLIMAGE MODAL!"),console.log(this.state.imageList),console.log(this.state.currentImage),i.a.createElement("div",{id:"Full-Image-Modal-Space"},i.a.createElement("img",{id:"Full-Image-Image",alt:"full size",src:this.state.currentImage}),i.a.createElement("button",{onClick:this.closeModal,id:"Full-Image-Close-Btn"},"x"),i.a.createElement("button",{onClick:this.previousImage,id:"Full-Image-Last-Btn"},"\u2264"),i.a.createElement("button",{onClick:this.nextImage,id:"Full-Image-Next-Btn"},"\u2265"))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleJournalNameChange=function(e){a.setState({journalName:e.target.value})},a.cancelModal=function(){a.props.setJournalID(null)},a.createJournal=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.state.journalName){e.next=3;break}return alert("Journal needs a name!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.dbHelper.createJournal(a.state.journalName,a.openJournal);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return","caught "+e.t0);case 12:case"end":return e.stop()}},e,null,[[3,8]])})),a.openJournal=function(e){a.setState({journalID:e}),a.props.setJournalID(e)},a.state={journalName:"",journalID:a.props.journalID},a.dbHelper=new E,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{id:"Journal-Modal-Space"},i.a.createElement("div",{id:"Journal-Create-Modal"},i.a.createElement("input",{className:"journal-modal-journal-name",placeholder:"enter journal name...",value:this.state.journalName,onChange:this.handleJournalNameChange}),i.a.createElement("div",{id:"journal-create-btns"},i.a.createElement("button",{className:"journal-cancel-create-btn",onClick:this.cancelModal},"Cancel"),i.a.createElement("button",{className:"journal-create-journal-btn",onClick:this.createJournal},"Create Journal"))))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setEntries=function(){a.props.setEntries(a.props.entries)},a.state={journalName:"",journalID:a.props.journalID,monthDayDate:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.entry){var e=new Date(this.props.entry.datetime_true),t=e.getMonth()+1+"-";2===t.length&&(t="0"+t);var a=t+e.getDate();this.setState({monthDayDate:a})}}},{key:"render",value:function(){var e=this,t=this.props.entry.grow_stage,a="Timeline-Dot-"+t.charAt(0).toUpperCase()+t.slice(1),n=!1;this.props.currentEntryID===this.props.entry.id&&(n=!0);var r=this.props.entry.datetime_short.split("-"),o=r[0]+"-"+r[1],s=new Date(this.props.entry.datetime_true).toDateString(),l=null;return this.props.entries[0].images&&(l=this.props.entries[0].images[0].thumb),i.a.createElement("div",null,function(){if(n)return i.a.createElement("div",{className:"Timeline-Dot-Connector"},i.a.createElement("div",{className:"Dot-Connector-Text-rotate-180"},o))}(),i.a.createElement("button",{"data-value":this.props.entries,id:a,className:"Timeline-Dot",onClick:this.setEntries},function(){if(!n)return i.a.createElement("div",{className:"Dot-Preview-rotate-180"},i.a.createElement("div",{className:"Dot-Preview-Window"},i.a.createElement("div",{className:"Dot-Preview-Date-String"},s),function(){if(l)return i.a.createElement("img",{alt:"journal preview",src:l,className:"Preview-Image-Thumbnail",onClick:e.displayFullImage})}()))}()))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).openJournal=function(){a.props.openJournal(a.props.journal)},a.state={journal:a.props.journal},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=new Date(this.props.journal.createdAt).toDateString(),t=new Date(this.props.journal.updatedAt),a=t.getHours().toString();1===a.length&&(a="0"+a);var n=t.getMinutes().toString();1===n.length&&(n="0"+n);var r=t.toDateString()+" - "+a+":"+n;return i.a.createElement("div",{className:"Journal-Box-Item","data-value":this.props.journal.id,onClick:this.openJournal},i.a.createElement("div",{className:"Journal-Box-Item-Main"},i.a.createElement("div",{className:"Journal-Box-Item-Header"},i.a.createElement("div",null,this.props.journal.name),i.a.createElement("div",{className:"Journal-Box-Created"},"updated: ",i.a.createElement("i",null,i.a.createElement("b",null,r)))),i.a.createElement("div",{className:"Journal-Box-Info"},"created: ",i.a.createElement("i",null,i.a.createElement("b",null,e)))),i.a.createElement("img",{alt:"preview",src:this.props.journal.previewImage,className:"Journal-Box-Preview-Image"}))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).displayFullImage=function(e){a.props.displayFullImage(a.props.currentEntry.images),a.props.currentFullImage(e.target.dataset.value)},a.editEntryByID=function(e){a.props.editEntryByID(e.target.dataset.value)},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.currentEntry&&this.state.currentEntry.id===e.currentEntry.id||this.setState({currentEntry:e.currentEntry})}},{key:"render",value:function(){var e=this,t=null;this.props.currentEntry&&this.props.currentEntry.images&&(t=this.props.currentEntry.images.map(function(t,a){return i.a.createElement("img",{key:a,alt:"grow img","data-value":t.url,src:t.thumb,className:"Journal-Entry-Thumbnail",onClick:e.displayFullImage})}));var a=null;return this.props.currentEntry&&""!==this.props.currentEntry&&(a=new Date(this.props.currentEntry.datetime_true)),i.a.createElement("div",{className:"Journal-Post-View"},i.a.createElement("div",{className:"Journal-Post-Header"},i.a.createElement("div",{className:"Journal-Post-Date"},a.toDateString()),i.a.createElement("div",{className:"Journal-Post-Title"},this.props.currentEntry.title),i.a.createElement("button",{className:"Journal-Edit-Post-Btn","data-value":this.props.currentEntry.id,onClick:this.editEntryByID},"edit \u270e")),i.a.createElement("div",{className:"Journal-Post-Content"},this.props.currentEntry.content),function(){if(t)return i.a.createElement("div",{className:"Journal-Post-Images-Wrapper"},i.a.createElement("div",{className:"Journal-Post-Images"},t))}())}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).watchEntries=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.journalID;a.dbHelper.watchJournalEntries(e,a.setJournalEntries)},a.setJournalEntries=function(e,t){e.length>0?a.setState({currentEntry:e[e.length-1],currentEntryID:e[e.length-1].id,timelineEntries:e,timelineDots:t,displayEntries:t[t.length-1]}):a.setState({currentEntry:null,currentEntryID:null,timelineEntries:[],timelineDots:[],displayEntries:[]}),a.setEntries(t[t.length-1])},a.addTimelineEntry=function(){a.setState({displayContent:"add"})},a.editEntryByID=function(e){console.log("edit: "+e),console.log(e),a.state.timelineEntries.forEach(function(t){t.id!==e||a.setState({currentEntry:t,currentEntryID:t.id,displayContent:"edit"})})},a.openFullImageModal=function(e){a.setState({displayContent:"full-image",fullImageModalImages:e})},a.openFullImage=function(e){console.log("imageURL"),console.log(e),a.setState({currentFullImage:e})},a.closeModal=function(e){e&&""!==e?(a.setState({displayContent:"main"}),a.state.timelineEntries.forEach(function(t){t.id!==e||a.setState({currentEntry:t,currentEntryID:t.id})})):a.setState({displayContent:"main"})},a.setJournalID=function(e){if(null===e)return a.setState({displayContent:"main"}),void a.props.setJournalID(null);a.setState({displayContent:"main",journalID:e}),a.props.setJournalID(e),a.watchEntries(e)},a.setEntries=function(e){e&&a.setState({currentEntry:e[0],currentEntryID:e[0].id,displayEntries:e})},a.handleJournalChange=function(e){console.log("JOURNAL CHANGE!!!!"),console.log(e.target.value),a.setState({currentEntry:null,currentEntryID:null,displayEntries:[]}),a.props.setJournalID(e.target.value),a.watchEntries(e.target.value)},a.openCreateJournalModal=function(){a.setState({displayContent:"create-journal"})},a.openJournal=function(e){a.setState({journalID:e.id}),a.props.setJournalID(e.id),a.watchEntries(e.id)},a.state={displayContent:"main",displayEntries:[],currentEntry:null,currentEntryID:null,testContent:"",timelineEntries:[],journalID:a.props.journalID,fullImageModalImages:null,currentFullImage:null},a.dbHelper=new E,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.props.journalID&&this.watchEntries(this.props.journalID)}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this,t="";this.props.userJournals.length>0&&(t=this.props.userJournals.map(function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}));var a=null;this.props.userJournals&&(a=this.props.userJournals.map(function(t){return i.a.createElement("div",{key:t.id,className:"Journal-Box-Item-Container"},i.a.createElement(j,{journal:t,openJournal:e.openJournal}))}));var n=null;this.state.displayEntries&&(n=this.state.displayEntries.map(function(t){return i.a.createElement(T,{key:t.id,editEntryByID:e.editEntryByID,currentEntry:t,currentFullImage:e.openFullImage,displayFullImage:e.openFullImageModal})}));var r=null;return this.state.timelineDots&&(r=this.state.timelineDots.map(function(t){return i.a.createElement(O,{key:t[0].datetime_short,currentEntryID:e.state.currentEntryID,setEntries:e.setEntries,entry:t[0],entries:t})})),i.a.createElement("div",{id:"Journal-Page"},i.a.createElement("div",{id:"Journal-Main"},i.a.createElement("div",{id:"Grow-Journal-Main-Area"},a&&!e.props.journalID?i.a.createElement("div",{id:"Journal-Box-Area-Scroll"},i.a.createElement("div",{id:"Grow-Journal-Header-Area"},i.a.createElement("div",{id:"Grow-Journal-Header-Text"},"Grow Journals"),i.a.createElement("button",{className:"New-Journal-Btn",onClick:e.openCreateJournalModal},"+")),i.a.createElement("div",{id:"Journal-Box-Area"},a)):e.props.journalID?void 0:i.a.createElement("div",{id:"Grow-Journal-Header-Area"},i.a.createElement("div",{id:"Grow-Journal-Header-Text"},"Grow Journals"),i.a.createElement("button",{className:"New-Journal-Btn",onClick:e.openCreateJournalModal},"+")),function(){if(t&&e.props.journalID)return i.a.createElement("div",{className:"Grow-Journal-Title-Div"},i.a.createElement("select",{id:"Grow-Journal-Title-Select",onChange:e.handleJournalChange,value:e.props.journalID},t),i.a.createElement("button",{className:"New-Journal-Btn",onClick:e.openCreateJournalModal},"+"))}(),function(){if(e.props.journalID)return i.a.createElement("div",{id:"Journal-Posts-Container"},n?i.a.createElement("div",null,n):i.a.createElement("div",{className:"Journal-Post-View"},"Let's get some journal entries..."))}()),function(){if(e.props.journalID)return i.a.createElement("div",{id:"Timeline-Container"},i.a.createElement("div",{id:"Timeline-Inner-Container"},i.a.createElement("div",{id:"Timeline-Line"}),i.a.createElement("div",{id:"Timeline-Spots"},r,i.a.createElement("button",{id:"Timeline-Add-Dot",onClick:e.addTimelineEntry},"+"))))}()),function(){switch(e.state.displayContent){case"add":return i.a.createElement(A,{journalID:e.props.journalID,closeModal:e.closeModal,editPost:"new"});case"edit":return i.a.createElement(A,{journalID:e.props.journalID,closeModal:e.closeModal,editPost:e.state.currentEntry});case"full-image":return i.a.createElement(G,{closeModal:e.closeModal,imageList:e.state.fullImageModalImages,currentFullImage:e.state.currentFullImage});case"create-journal":return i.a.createElement(C,{journalID:e.props.journalID,setJournalID:e.setJournalID});case"main":default:return i.a.createElement("div",null)}}())}}]),t}(n.Component),R=a(16),N=a(17),H=a.n(N),z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(){a.displayWindow===a.props.displayWindow&&a.props.grow.id===a.growID||(a.growID=a.props.grow.id,a.displayWindow=a.props.displayWindow,a.generateTickSourceArrays())},a.generateTickSourceArrays=function(){if(!a.props.grow.config.LIGHTS)return a.setState({lightsOnArray:[],lightsOffArray:[]}),a.lightsOnArray=[],a.lightsOffArray=[],void a.createTickArray();var e=H()(new Date);e.subtract(3,"days");var t=[],n=[];t[t.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.on)).format("x"),n[n.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.off)).format("x"),e.add(1,"days"),t[t.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.on)).format("x"),n[n.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.off)).format("x"),e.add(1,"days"),t[t.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.on)).format("x"),n[n.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.off)).format("x"),e.add(1,"days"),t[t.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.on)).format("x"),n[n.length]=H()(new Date(e.format("L")+" "+a.props.grow.config.LIGHTS.off)).format("x"),a.setState({lightsOnArray:t,lightsOffArray:n}),a.lightsOnArray=t,a.lightsOffArray=n,a.createTickArray()},a.createTickArray=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.processedData;if(e&&e[0]){var t=[new Date(e[0].time).getTime(),new Date(e[e.length-1].time).getTime()],n=[],i=a.lightsOnArray,r=a.lightsOffArray;if(r||i){var o=i.concat(r);o.sort(function(e,t){return e>t?1:-1}),o.forEach(function(e){e>t[0]&&e<t[1]&&(n[n.length]=e)}),i.includes(n[0])?a.setState({lightBackgrounds:["#7344e740","#fff9365C"]}):a.setState({lightBackgrounds:["#fff9365C","#7344e740"]}),a.setState({tickArray:n})}}},a.toggleWindow=function(e){a.props.setDisplayWindow(parseInt(e.target.value))},a.renderTooltip=function(e){var t=e.payload;if(null!==t&&0!==t.length){var n=H()(e.payload[0].payload.time).format("ddd - HH:mm"),r=t.map(function(e){return function(){if(a.props.activeLines){var n=a.props.activeLines.indexOf(e.dataKey),r=a.props.grow.config.SENSORS[n];if(!r)return;return i.a.createElement("div",{className:"Grow-Details-Graph-Tooltip-Data",key:r.PID,style:{color:e.stroke,paddingLeft:"2px",paddingRight:"2px"}},i.a.createElement("div",{style:{color:e.stroke,display:"flex",flexDirection:"row",justifyContent:"space-between"}},i.a.createElement("div",null,e.name,": "),i.a.createElement("div",{style:{fontWeight:600}},t[0].payload[e.dataKey]," ",r.unit)),i.a.createElement("div",{style:{width:"100%",height:"1px",background:"#2d2d2e"}}))}}()});return i.a.createElement("div",{className:"Grow-Details-Graph-Tooltip"},i.a.createElement("div",null,n),r)}},a.state={lightsOnArray:[],lightsOffArray:[],tickArray:[],lightBackgrounds:["#7344e740","#fff9365C"]},a.displayWindow=0,a.growID=null,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.displayWindow===this.props.displayWindow&&this.props.grow.id===this.growID||(this.growID=this.props.grow.id,this.displayWindow=this.props.displayWindow,this.generateTickSourceArrays())}},{key:"render",value:function(){var e=this,t=(new Date).getTime(),a=this.props.grow.config.SENSORS.map(function(t){return e.props.activeLines&&e.props.activeLines.includes(t.PID)?"airTemp"===t.type||"waterTemp"===t.type||"co2"===t.type?i.a.createElement(R.b,{yAxisId:"left",type:"monotone",name:t.name,dataKey:t.PID,key:t.PID,stroke:t.color,strokeWidth:t.thickness,dot:!1}):i.a.createElement(R.b,{yAxisId:"right",type:"monotone",name:t.name,dataKey:t.PID,key:t.PID,stroke:t.color,strokeWidth:t.thickness,dot:!1}):e.props.activeLines?void 0:"airTemp"===t.type||"waterTemp"===t.type||"co2"===t.type?i.a.createElement(R.b,{yAxisId:"left",type:"monotone",name:t.name,dataKey:t.PID,key:t.PID,stroke:t.color,strokeWidth:t.thickness,dot:!1}):i.a.createElement(R.b,{yAxisId:"right",type:"monotone",name:t.name,dataKey:t.PID,key:t.PID,stroke:t.color,strokeWidth:t.thickness,dot:!1})}),n=null;if(this.props.processedData&&this.props.processedData[0]&&this.props.parentSize){var r=Math.floor(.91*this.props.parentSize[0]),o=Math.floor(.9*this.props.parentSize[1]);n=i.a.createElement(R.c,{width:r,height:o,data:this.props.processedData},a,i.a.createElement(R.a,{vertical:!0,horizontal:!1,verticalFill:[this.state.lightBackgrounds[0],this.state.lightBackgrounds[1]],stroke:"none",fillOpacity:.2}),i.a.createElement(R.e,{tick:{fill:"#B3C2B5"},dataKey:"time",type:"number",domain:[new Date(t-this.props.displayWindow).getTime(),t],allowDataOverflow:!0,ticks:this.state.tickArray,tickFormatter:function(e){return H()(1*e).format("ddd - HH:mm")}}),i.a.createElement(R.f,{yAxisId:"left",orientation:"left",type:"number",allowDataOverflow:!0,tick:{fill:"#B3C2B5"}}),i.a.createElement(R.f,{yAxisId:"right",hide:!0,orientation:"right",tick:{fill:"#B3C2B5"}}),i.a.createElement(R.d,{content:this.renderTooltip}))}return i.a.createElement("div",{className:"Chart-Container"},n,i.a.createElement("div",{style:{width:"40px",fontSize:"0.55em",display:"flex",flexDirection:"column",position:"absolute",marginLeft:"2.5%",marginTop:"4%"}},i.a.createElement("select",{onChange:this.toggleWindow,id:"GraphSensors-Time-Scale",defaultValue:parseInt(this.props.displayWindow),style:{fontSize:"0.8em",maxWidth:"74px",height:"20px"}},i.a.createElement("option",{value:18e5},"\xbdh"),i.a.createElement("option",{value:108e5},"3h"),i.a.createElement("option",{value:432e5},"12h"),i.a.createElement("option",{value:864e5},"24h"),i.a.createElement("option",{value:2592e5},"72h"))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={elementSize:[]},a.graphSizeUpdated=0,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0}},{key:"componentDidUpdate",value:function(){if(!1!==this._ismounted){var e=new Date;if(this.state.elementSize!==[this.divRef.clientWidth,this.divRef.clientHeight]&&e.getTime()-this.graphSizeUpdated>500){var t=[this.divRef.clientWidth+this.divRef.clientWidth/100*10,this.divRef.clientHeight+this.divRef.clientHeight/100*14];t!==this.state.elementSize&&(this.setState({elementSize:t}),this.graphSizeUpdated=e.getTime())}}}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{position:"relative",width:"100vw",height:"80vh",minHeight:"80vh",background:"#000"},ref:function(t){return e.divRef=t}},i.a.createElement(z,{setDisplayWindow:this.props.setDisplayWindow,displayWindow:this.props.displayWindow,activeLines:this.props.activeLines,parentSize:this.state.elementSize,processedData:this.props.processedData,grow:this.props.grow}))}}]),t}(n.Component),F=a(26),P=a(74),W=a.n(P),B=a(75),U=a.n(B),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentWillUnmount=function(){a._ismounted=!1},a.componentDidUpdate=function(){if(a.props.threeDayData){if(!a.props.threeDayData[a.props.grow.id])return;if(a.props.grow!==a.state.GROW){a.harmonyRatiosUpdated=null;for(var e=[],t=[],n=0,i=Object.entries(a.props.grow.config.SENSORS);n<i.length;n++){var r=i[n],o=Object(w.a)(r,2),s=(o[0],o[1]);e[s.PID]=s._deviation,t[s.PID]=s._mean}a.setState({GROW:a.props.grow,SENSOR_DEVIATIONS:e,SENSOR_MEANS:t})}var l=a.props.threeDayData[a.props.grow.id][a.props.threeDayData[a.props.grow.id].length-1].length;a.dataLengthRef!==l?(a.dataLengthRef=l,a.processGrowData(a.props.threeDayData)):a.state.TABLE_INIT||(a.dataLengthRef=l,a.processGrowData(a.props.threeDayData),a.setState({TABLE_INIT:!0}))}},a.processGrowData=function(e){var t=[];e[a.props.grow.id].forEach(function(e){t=t.concat(e)}),t.sort(function(e,t){return e.time>t.time?1:-1}),a.setState({liveData:t[t.length-1],lastLiveData:t[t.length-2]});var n=(new Date).valueOf(),i=[],r=[],o=[],s=[],l=[],c=[],u=0,d=0,p=[],m=[],h=[];a.state.SENSORS_INIT!==a.props.grow&&a.props.grow.config.SENSORS!==a.state.SENSOR_PIDS&&(a.props.grow.config.SENSORS.forEach(function(e,t){h[t]!==e.PID&&(h[t]=e.PID)}),a.setState({SENSOR_PIDS:h}),a.state.ACTIVE_INIT!==a.props.grow&&a.setState({ACTIVE_INIT:a.props.grow})),t.forEach(function(e){if(n-e.time<864e5)for(var t in u+=1,p[p.length]=e,e)if(h.includes(t)){var a=h.indexOf(t);(!i[a]||parseFloat(e[t])>=i[a])&&(i[a]=e[t],r[a]=e.time),(!o[a]||parseFloat(e[t])<=o[a])&&(o[a]=e[t],s[a]=e.time),l[a]||(l[a]=0),l[a]=parseFloat(e[t])+parseFloat(l[a])}if(n-e.time<1728e5&&n-e.time>864e5)for(var f in d+=1,m[m.length]=e,e)if(h.includes(f)){var g=h.indexOf(f);c[g]||(c[g]=0),c[g]=parseFloat(e[f])+parseFloat(c[g])}}),l.forEach(function(e,t){l[t]=l[t]/u}),c.forEach(function(e,t){c[t]=c[t]/d}),a.setState({DAILY_HIGHS:i,DAILY_HIGHS_TIMES:r,DAILY_LOWS:o,DAILY_LOWS_TIMES:s,DAILY_AVGS:l,YEST_AVGS:c}),(!a.processedDevs||n-a.processedDevs>15e4)&&(a.processDevs=n,console.log("PROCESS DEVIATION"),a.processDeviationData(t,n))},a.processDeviationData=function(e,t){var n=[],i=[],r=[];if(e.forEach(function(e){if(t-e.time<864e5)for(var o=0,s=Object.entries(a.props.grow.config.SENSORS);o<s.length;o++){var l=s[o],c=Object(w.a)(l,2),u=(c[0],c[1]),d=u.PID;n[d]||(n[d]=0,i[d]=0,r[d]=0),n[d]=n[d]+1,e[d]>u._mean+2*u._deviation||e[d]<u._mean-2*u._deviation?r[d]=r[d]+1:(e[d]>u._mean+u._deviation||e[d]<u._mean-u._deviation)&&(i[d]=i[d]+1)}}),0!==Object.keys(n).length){for(var o=0,s=Object.entries(i);o<s.length;o++){var l=s[o],c=Object(w.a)(l,2),u=c[0];c[1];i[u]=Math.round(i[u]/n[u]*100)}for(var d=0,p=Object.entries(r);d<p.length;d++){var m=p[d],h=Object(w.a)(m,2),f=h[0];h[1];r[f]=Math.round(r[f]/n[f]*100)}a.setState({HARMONY_DANGER:r,HARMONY_WARN:i})}},a.toggleLine=function(e){var t=e.currentTarget.getAttribute("data-value");a.props.toggleLine(t+"^"+a.props.grow.id)},a.state={SENSOR_PIDS:[],SENSORS_INIT:!1,DAILY_HIGHS:[],DAILY_HIGHS_TIMES:[],DAILY_LOWS:[],DAILY_LOWS_TIMES:[],DAILY_AVGS:[],YEST_AVGS:[],ACTIVE_LINES:[],ACTIVE_INIT:!1,TABLE_INIT:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this._ismounted=!0,this.props.grow&&!this.state.SENSOR_DEVIATIONS){for(var e=[],t=[],a=0,n=Object.entries(this.props.grow.config.SENSORS);a<n.length;a++){var i=n[a],r=Object(w.a)(i,2),o=(r[0],r[1]);e[o.PID]=o._deviation,t[o.PID]=o._mean}this.setState({SENSOR_DEVIATIONS:e,SENSOR_MEANS:t})}if(this.props.threeDayData&&this.state.SENSOR_PIDS&&this.state.SENSOR_MEANS){if(!this.props.threeDayData[this.props.grow.id])return;var s=this.props.threeDayData[this.props.grow.id][this.props.threeDayData[this.props.grow.id].length-1].length;this.dataLengthRef!==s&&(this.dataLengthRef=s,this.processGrowData(this.props.threeDayData)),this.forceUpdate()}}},{key:"render",value:function(){var e=this,t="#FFF";if(this.props.liveGrowData&&this.props.liveGrowData[this.props.grow.id]){var a=(new Date).getTime(),n=new Date(1e3*this.props.liveGrowData[this.props.grow.id].time);this.updatedAtDate&&n!==this.updatedAtDate[this.props.grow.id]&&(this.updatedAtDate[this.props.grow.id]=n);var r=a-1e3*this.props.liveGrowData[this.props.grow.id].time;r>1e7?t="#989e98":r>3e5?t="#fa360a":r>6e4?t="#facb23":r<6e4&&(t="#27d927"),H()(n).fromNow()}var o=this.state.SENSOR_PIDS.map(function(t){return i.a.createElement("div",{className:"Grow-Details-Main-Data-Display-Row",key:t},function(){var a=e.state.SENSOR_PIDS.indexOf(t),n=e.props.grow.config.SENSORS[a],r=t+"^"+e.props.grow.id,o=1,s="4px";if(!e.props.activeLines&&e.props.user&&e.props.user.PREFS&&e.props.user.PREFS.GRAPHS&&e.props.user.PREFS.GRAPHS.AllGraph&&e.props.user.PREFS.GRAPHS.AllGraph.showSensors&&!1===e.props.user.PREFS.GRAPHS.AllGraph.showSensors[r]&&(o=.3,s="3px"),e.props.activeLines&&!e.props.activeLines.includes(t)&&(o=.3,s="3px"),e.props.grow.config.SENSORS[a])return i.a.createElement("div",{"data-value":t,key:t,onClick:e.toggleLine,style:{width:"120px",maxHeight:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",fontSize:"0.65em",cursor:"pointer",background:"#0c140d",opacity:o,color:e.props.grow.config.SENSORS[a].color}},i.a.createElement("div",{style:{paddingTop:s,fontSize:"12px",lineHeight:"12px",overflow:"hidden",fontWeight:"500"}}," ",n.name),"airTemp"===n.type?i.a.createElement(F.d,{style:{color:"#FFF",fontSize:"30px"}}):"humidity"===n.type?i.a.createElement(F.b,{style:{color:"#FFF",fontSize:"30px"}}):"fan"===n.type?i.a.createElement(F.c,{style:{color:"#FFF",fontSize:"30px"}}):"humidifier"===n.type?i.a.createElement(F.a,{style:{color:"#FFF",fontSize:"30px"}}):"waterTemp"===n.type?i.a.createElement(F.e,{style:{color:"#FFF",fontSize:"30px"}}):"co2"===n.type?i.a.createElement("img",{src:W.a,alt:"CO2 Icon",style:{position:"relative",display:"inline-block",maxHeight:"20px",marginLeft:"4px",marginRight:"2px"}}):"tvoc"===n.type?i.a.createElement("img",{src:U.a,alt:"TVOC Icon",style:{position:"relative",display:"inline-block",maxHeight:"20px",marginLeft:"4px",marginRight:"2px"}}):i.a.createElement("div",null),function(){var a=0,n=0,r=100;return e.state.HARMONY_WARN&&(a=2*e.state.HARMONY_WARN[t]),e.state.HARMONY_DANGER&&(n=10*e.state.HARMONY_DANGER[t]),n>100&&(a=0),r=r-a-n,i.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"4px",maxWidth:"4px",flex:99}},i.a.createElement("div",{style:{flex:n,background:"#FF0000"}}),i.a.createElement("div",{style:{flex:a,background:"#fcba03"}}),i.a.createElement("div",{style:{flex:r,background:"#38c538"}}))}())}(),function(){var a=e.state.SENSOR_PIDS.indexOf(t),n=e.props.grow.config.SENSORS[a],r="#FFF";if(n)return!n._mean&&0!==n._mean||!n._deviation&&0!==n._deviation||(r=n._mean+2*n._deviation<e.state.liveData[t]||n._mean-2*n._deviation>e.state.liveData[t]?"#FF0000":n._mean+n._deviation<e.state.liveData[t]||n._mean-n._deviation>e.state.liveData[t]?"#ded954":"#38c538"),i.a.createElement("div",{className:"Grow-Details-Main-Data-Current-Data",style:{background:r}},i.a.createElement("div",{style:{width:"1px",background:"#000"}}),function(){var a=e.state.SENSOR_PIDS.indexOf(t),n=e.props.grow.config.SENSORS[a];if(n)return i.a.createElement("div",{style:{userSelect:"none",flex:1,display:"flex",justifyContent:"center"}},i.a.createElement("div",{style:{fontSize:"20px",userSelect:"none",display:"flex",fontWeight:700}},Math.round(10*e.state.liveData[t])/10),i.a.createElement("div",{style:{fontSize:"14px",userSelect:"none",display:"flex",fontWeight:600,marginTop:"2px"}},n.unit))}(),e.state.liveData[t]>e.state.lastLiveData[t]?i.a.createElement("div",{style:{fontSize:"11px",userSelect:"none",color:"#a02525",marginRight:"2px"}},i.a.createElement("span",{role:"img","aria-label":"higher value"},"\u25b2")):e.state.liveData[t]<e.state.lastLiveData[t]?i.a.createElement("div",{style:{fontSize:"11px",userSelect:"none",color:"#242490",marginRight:"2px"}},i.a.createElement("span",{role:"img","aria-label":"lower value"},"\u25bc")):i.a.createElement("div",null))}(),i.a.createElement("div",{className:"Grow-Details-Main-Data-Data",style:{marginBottom:"1px"}},i.a.createElement("div",{className:"Grow-Details-Main-Yest-Data",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"10px",userSelect:"none"}},function(){var a=e.state.SENSOR_PIDS.indexOf(t),n=e.props.grow.config.SENSORS[a];if(n)return e.state.YEST_AVGS[a]?i.a.createElement("div",{style:{userSelect:"none",flex:1,display:"flex",justifyContent:"center"}},i.a.createElement("div",{style:{fontSize:"9px",userSelect:"none",display:"flex",fontWeight:"600"}},Math.round(10*e.state.YEST_AVGS[a])/10),i.a.createElement("div",{style:{fontSize:"9px",userSelect:"none",display:"flex",fontWeight:400}},n.unit)):void 0}(),function(){var a=e.state.SENSOR_PIDS.indexOf(t);if(e.state.DAILY_AVGS[a]&&e.state.YEST_AVGS[a])return e.state.DAILY_AVGS[a]>e.state.YEST_AVGS[a]?i.a.createElement("div",{style:{fontSize:"9px",color:"#FFF",userSelect:"none",marginRight:"2px"}},i.a.createElement("span",{role:"img","aria-label":"higher value"},"\u25b2")):e.state.DAILY_AVGS[a]<e.state.YEST_AVGS[a]?i.a.createElement("div",{style:{fontSize:"9px",color:"#FFF",userSelect:"none",marginRight:"2px"}},i.a.createElement("span",{role:"img","aria-label":"lower value"},"\u25bc")):i.a.createElement("div",null)}()),function(){var a=e.state.SENSOR_PIDS.indexOf(t),n=e.props.grow.config.SENSORS[a];if(n)return e.state.DAILY_AVGS[a]?i.a.createElement("div",{style:{userSelect:"none",flex:1,display:"flex",justifyContent:"center",paddingBottom:"2px"}},i.a.createElement("div",{style:{fontSize:"16px",userSelect:"none",display:"flex",fontWeight:"600"}},Math.round(10*e.state.DAILY_AVGS[a])/10),i.a.createElement("div",{style:{fontSize:"11px",userSelect:"none",display:"flex",fontWeight:600,marginTop:"2px"}},n.unit)):void 0}()),i.a.createElement("div",{className:"Grow-Details-Main-Data-Data",style:{backgroundColor:"#c77725",marginBottom:"1px"}},i.a.createElement("div",{className:"Grow-Details-Main-Data-Time"},function(){var a=e.state.SENSOR_PIDS.indexOf(t);if(e.state.DAILY_HIGHS_TIMES){var n=H()(e.state.DAILY_HIGHS_TIMES[a]);return i.a.createElement("div",{style:{fontSize:"9px",userSelect:"none",textAlign:"right",fontWeight:"200",background:"#4b1a0a"}},n.format("HH:mm"))}}()),function(){var a=e.state.SENSOR_PIDS.indexOf(t),n=e.props.grow.config.SENSORS[a];if(n)return e.state.DAILY_HIGHS?i.a.createElement("div",{style:{userSelect:"none",flex:1,display:"flex",justifyContent:"center"}},i.a.createElement("div",{style:{fontSize:"16px",userSelect:"none",display:"flex",fontWeight:"600",paddingBottom:"2px"}},Math.round(10*e.state.DAILY_HIGHS[a])/10),i.a.createElement("div",{style:{fontSize:"11px",userSelect:"none",display:"flex",fontWeight:600}},n.unit)):void 0}()),i.a.createElement("div",{className:"Grow-Details-Main-Data-Data",style:{backgroundColor:"#2584c7",marginBottom:"1px"}},i.a.createElement("div",{className:"Grow-Details-Main-Data-Time"},function(){var a=e.state.SENSOR_PIDS.indexOf(t);if(e.state.DAILY_LOWS_TIMES){var n=H()(e.state.DAILY_LOWS_TIMES[a]);return i.a.createElement("div",{style:{fontSize:"9px",userSelect:"none",textAlign:"right",fontWeight:"200",background:"#20314e"}},n.format("HH:mm"))}}()),function(){var a=e.state.SENSOR_PIDS.indexOf(t),n=e.props.grow.config.SENSORS[a];if(n)return e.state.DAILY_LOWS?i.a.createElement("div",{style:{userSelect:"none",flex:1,display:"flex",justifyContent:"center"}},i.a.createElement("div",{style:{fontSize:"16px",userSelect:"none",display:"flex",fontWeight:"600",paddingBottom:"2px"}},Math.round(10*e.state.DAILY_LOWS[a])/10),i.a.createElement("div",{style:{fontSize:"11px",userSelect:"none",display:"flex",fontWeight:600}},n.unit)):void 0}()))});return i.a.createElement("div",{className:"Grow-Details-Page-Panel"},i.a.createElement("div",{id:"Grow-Details-Data-Display"},function(){if(e.state.liveData)return i.a.createElement("div",{className:"Component-Grow-Data-Display"},i.a.createElement("div",{className:"Grow-Details-Headers-Display-Row"},e.props.activeLines?i.a.createElement("div",{className:"Grow-Details-Main-Data-Row-Header",style:{color:"#FFF",fontSize:"12px",userSelect:"none",width:"120px",maxWidth:"120px",display:"flex",flexDirection:"row"}}):i.a.createElement("div",{className:"Grow-Details-Main-Data-Row-Header",style:{color:"#FFF",fontSize:"12px",userSelect:"none",width:"120px",maxWidth:"120px",display:"flex",flexDirection:"row"}},i.a.createElement("div",{style:{color:t,marginLeft:"2px",marginRight:"2px",marginTop:"-1px"}},"\u2b24"),e.props.grow.name),i.a.createElement("div",{className:"Grow-Details-Main-Data-Row-Header",style:{width:"88px",maxWidth:"88px",userSelect:"none"}}),i.a.createElement("div",{className:"Grow-Details-Main-Data-Row-Header",style:{width:"64px",maxWidth:"64px",userSelect:"none"}},"24h~"),i.a.createElement("div",{className:"Grow-Details-Main-Data-Row-Header",style:{width:"64px",maxWidth:"64px",userSelect:"none"}},"24h\u2191"),i.a.createElement("div",{className:"Grow-Details-Main-Data-Row-Header",style:{width:"64px",maxWidth:"64px",userSelect:"none"}},"24h\u2193")),o)}()))}}]),t}(n.Component),V=a(142),Y=a.n(V),K=a(47),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getConfig=function(){var e=Object(y.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.dbHelper.getGrowConfig(a.props.grow.id,t);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","caught "+e.t0);case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),a.setFetchedConfig=function(e){a.setState({config:e})},a.postConfig=function(){a.dbHelper.setGrowConfig(a.props.grow.id,a.state.config),a.props.refreshGrows(a.state.config),a.props.close()},a.sensorMeanChange=function(e){console.log("Change "+e.target.id+": "+e.target.value);var t=a.state.config;t.SENSORS.forEach(function(t){t.PID===e.target.id&&(t._mean=parseFloat(e.target.value))}),a.setState({config:t})},a.sensorDeviationChange=function(e){console.log("Change "+e.target.id+": "+e.target.value);var t=a.state.config;t.SENSORS.forEach(function(t){t.PID===e.target.id&&(t._deviation=parseFloat(e.target.value))}),a.setState({config:t})},a.sensorWeightChange=function(e){console.log("Change "+e.target.id+": "+e.target.value);var t=a.state.config;t.SENSORS.forEach(function(t){t.PID===e.target.id&&(t.thickness=e.target.value)}),a.setState({config:t})},a.sensorColorChange=function(e){var t=a.state.config;t.SENSORS.forEach(function(t){t.PID===e.target.id&&(t.color=e.target.value)}),a.setState({config:t})},a.sensorTypeChange=function(e){console.log("Change "+e.target.id+": "+e.target.value);var t=a.state.config;t.SENSORS.forEach(function(t){t.PID===e.target.id&&(t.type=e.target.value)}),a.setState({config:t})},a.sensorNameChange=function(e){console.log("Change "+e.target.id+": "+e.target.value);var t=a.state.config;t.SENSORS.forEach(function(t){t.PID===e.target.id&&(t.name=e.target.value)}),a.setState({config:t})},a.handleLightsOnChange=function(e){var t=a.state.config;t.LIGHTS.on=e,a.setState({config:t})},a.handleLightsOffChange=function(e){var t=a.state.config;t.LIGHTS.off=e,a.setState({config:t})},a.close=function(){a.props.close()},a.state={config:null},a.dbHelper=new E,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.watchConfig=this.getConfig(this.setFetchedConfig)}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this,t=this.props.grow.config.SENSORS.map(function(t){return i.a.createElement("div",{key:t.PID,className:"Config-Settings-Field",style:{backgroundColor:"#3d7a80"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{userSelect:"none",fontsize:"0.6em",color:"#FFF",background:"#131B14",maxHeight:"30px",height:"30px"}},"airTemp"===t.type?i.a.createElement(F.d,{style:{fontSize:"1.3em",color:t.color}}):"waterTemp"===t.type?i.a.createElement(F.e,{style:{fontSize:"1.3em",color:t.color}}):"humidity"===t.type?i.a.createElement(F.b,{style:{fontSize:"1.3em",color:t.color}}):"fan"===t.type?i.a.createElement(F.c,{style:{fontSize:"1.3em",color:t.color}}):"humidifier"===t.type?i.a.createElement(F.a,{style:{fontSize:"1.3em",color:t.color}}):"co2"===t.type?i.a.createElement("img",{src:W.a,alt:"CO2 Icon",style:{position:"relative",display:"inline-block",maxHeight:"80%",color:t.color}}):"tvoc"===t.type?i.a.createElement("img",{src:U.a,alt:"CO2 Icon",style:{position:"relative",display:"inline-block",maxHeight:"80%",color:t.color}}):i.a.createElement("div",null),t.PID),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{fontSize:"0.7em",userSelect:"none"}},"Name"),i.a.createElement("div",{style:{fontWeight:"400"}},i.a.createElement("input",{onChange:e.sensorNameChange,id:t.PID,name:"name",type:"name",defaultValue:t.name,maxLength:"16",style:{fontSize:"0.8em",maxWidth:"70px"}}))),i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{fontSize:"0.7em",userSelect:"none"}},"Type"),i.a.createElement("div",null,i.a.createElement("select",{onChange:e.sensorTypeChange,id:t.PID,defaultValue:t.type,style:{fontSize:"0.8em",maxWidth:"74px",height:"20px"}},i.a.createElement("option",{value:"airTemp"},"airTemp"),i.a.createElement("option",{value:"waterTemp"},"waterTemp"),i.a.createElement("option",{value:"humidity"},"humidity"),i.a.createElement("option",{value:"co2"},"CO\u2082"),i.a.createElement("option",{value:"fan"},"fan"),i.a.createElement("option",{value:"humidifier"},"humidifier")))),i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{fontSize:"0.7em",userSelect:"none"}},"Weight"),i.a.createElement("div",null,i.a.createElement("select",{onChange:e.sensorWeightChange,id:t.PID,defaultValue:t.thickness,style:{fontSize:"0.7em",maxWidth:"44px",height:"20px"}},i.a.createElement("option",{value:"3"},"3"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"1.5"},"1.5"),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"0.75"},"0.75"),i.a.createElement("option",{value:"0.5"},"0.5"),i.a.createElement("option",{value:"0.25"},"0.25")))),i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{fontSize:"0.7em",userSelect:"none"}},"Mean"),i.a.createElement("div",{style:{fontSize:"1em",fontWeight:"400"}},i.a.createElement("input",{type:"number",onChange:e.sensorMeanChange,id:t.PID,name:"_mean",defaultValue:t._mean,style:{fontSize:"0.8em",maxWidth:"36px"}}))),i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{fontSize:"0.7em",userSelect:"none"}},"SDev"),i.a.createElement("div",{style:{fontSize:"1em",fontWeight:"400"}},i.a.createElement("input",{type:"number",onChange:e.sensorDeviationChange,id:t.PID,name:"_deviation",defaultValue:t._deviation,style:{fontSize:"0.8em",maxWidth:"36px"}}))),i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{fontSize:"0.7em",userSelect:"none"}},"Color"),i.a.createElement("div",{style:{fontSize:"1em",fontWeight:"400"}},i.a.createElement("input",{onChange:e.sensorColorChange,id:t.PID,name:"color",type:"color",defaultValue:t.color,maxLength:"10",style:{fontSize:"0.8em",padding:0,marginTop:"1px",maxWidth:"18px",maxHeight:"18px"}}))))))});return i.a.createElement("div",{style:{height:"100%",maxHeight:"100%",width:"100%",maxWidth:"100%",backgroundColor:"#000000BF",position:"fixed",justifyItems:"center",justifyContent:"center",alignContent:"center",zIndex:3}},i.a.createElement("div",{style:{margin:"auto",width:"90%",height:"90%",border:"3px solid #262626",padding:"10px",background:"#303630",color:"#d3dbd5"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},i.a.createElement(K.a,{style:{color:"#9e9e9e",fontSize:"22px"}}),i.a.createElement("div",{style:{fontSize:"1em",fontWeight:"100",userSelect:"none",display:"flex",flexDirection:"row"}},i.a.createElement("div",null,"Settings")),i.a.createElement("div",{onClick:this.close,style:{fontSize:"1.2em",color:"#9e9e9e",userSelect:"none",cursor:"pointer",marginRight:"4px"}},"X")),function(){if(e.state.config)return i.a.createElement("div",{id:"Grow-Details-Config-Settings-Div",style:{margin:"4px",height:"95%"}},i.a.createElement("div",{id:"Grow-Details-Config-Scroll",style:{overflowY:"auto",height:"100%"}},function(){if(e.state.config.LIGHTS)return i.a.createElement("div",null,i.a.createElement("div",{className:"Config-Item-Header-Text"},"LIGHTS"),i.a.createElement("div",{className:"Config-Settings-Field",style:{backgroundColor:"#e8e81e"}},i.a.createElement("div",{className:"Settings-Data-Line"},i.a.createElement("div",null,"on ",i.a.createElement(Y.a,{clearIcon:null,id:"lights_on",value:e.state.config.LIGHTS.on,onChange:e.handleLightsOnChange.bind(e)})),i.a.createElement("div",null,"off ",i.a.createElement(Y.a,{clearIcon:null,id:"lights_off",value:e.state.config.LIGHTS.off,onChange:e.handleLightsOffChange.bind(e)})))))}(),i.a.createElement("div",{className:"Config-Item-Header-Text"},"SENSORS"),t,i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"4px"}},i.a.createElement("div",{id:"GROW-DETAILS-SAVE-CONFIG-BTN",onClick:function(){return e.postConfig()}},"SAVE ",i.a.createElement("br",null)," SETTINGS"))))}()),void 0)}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentWillUnmount=function(){a._ismounted=!1},a.componentDidUpdate=function(){if(a.props.rawGrowData){if(!a.props.rawGrowData[a.props.grow.id])return;var e=a.props.rawGrowData[a.props.grow.id][a.props.rawGrowData[a.props.grow.id].length-1].length;a.dataLengthRef!==e?(a.dataLengthRef=e,a.initializeGrowPage()):a.state.TABLE_INIT||(a.dataLengthRef=e,a.initializeGrowPage(),a.setState({TABLE_INIT:!0}))}},a.initializeGrowPage=function(){var e=[];a.state.SENSORS_INIT!==a.props.grow&&a.props.grow.config.SENSORS!==a.state.SENSOR_PIDS&&(a.props.grow.config.SENSORS.forEach(function(t,a){e[a]!==t.PID&&(e[a]=t.PID)}),a.setState({SENSOR_PIDS:e}),a.state.ACTIVE_INIT!==a.props.grow&&a.setState({ACTIVE_LINES:e,ACTIVE_INIT:a.props.grow}))},a.toggleLine=function(e){var t=e.split("^")[0],n=a.state.SENSOR_PIDS.indexOf(t),i=a.state.ACTIVE_LINES;i.includes(t)?i[n]=null:i[n]=t,a.setState({ACTIVE_LINES:i}),a.forceUpdate()},a.openCloseSettings=function(){a.state.SHOW_SETTINGS?a.setState({SHOW_SETTINGS:!1}):a.setState({SHOW_SETTINGS:!0})},a.state={SENSOR_PIDS:[],SENSORS_INIT:!1,ACTIVE_LINES:[],ACTIVE_INIT:!1,TABLE_INIT:!1,SHOW_SETTINGS:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this._ismounted=!0,this.props.rawGrowData&&this.state.SENSOR_PIDS&&this.state.SENSOR_MEANS){if(!this.props.rawGrowData[this.props.grow.id])return;var e=this.props.rawGrowData[this.props.grow.id][this.props.rawGrowData[this.props.grow.id].length-1].length;this.dataLengthRef!==e&&(this.dataLengthRef=e,this.initializeGrowPage()),this.forceUpdate()}}},{key:"render",value:function(){var e=this,t="#FFF";if(this.props.liveGrowData&&this.props.liveGrowData[this.props.grow.id]){var a=(new Date).getTime(),n=new Date(1e3*this.props.liveGrowData[this.props.grow.id].time);this.updatedAtDate&&n!==this.updatedAtDate[this.props.grow.id]&&(this.updatedAtDate[this.props.grow.id]=n);var r=a-1e3*this.props.liveGrowData[this.props.grow.id].time;r>1e7?t="#989e98":r>3e5?t="#fa360a":r>6e4?t="#facb23":r<6e4&&(t="#27d927"),H()(n).fromNow()}return i.a.createElement("div",{className:"Grow-Details-Page"},i.a.createElement("div",{className:"Grow-Details-Page-Content"},i.a.createElement("div",{className:"Grow-Details-Content-Bottom"},i.a.createElement("div",{className:"Grow-Details-Header"},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1}},i.a.createElement("div",{style:{color:t,marginLeft:"1px",fontSize:"1.1em"}},"\u2b24"),i.a.createElement("div",{id:"Grow-Header-Text"},this.props.grow.name)),i.a.createElement("div",{onClick:function(){return e.openCloseSettings()},style:{paddingRight:"30px",color:"#A9A9A9",userSelect:"none",cursor:"pointer"}},i.a.createElement(K.a,{style:{color:"#9e9e9e",fontSize:"22px",marginTop:"8px"}}))),i.a.createElement("div",{className:"Grow-Details-Bottom-Item"},i.a.createElement(M,{setDisplayWindow:this.props.setDisplayWindow,displayWindow:this.props.displayWindow,activeLines:this.state.ACTIVE_LINES,processedData:this.props.processedData,grow:this.props.grow}))),function(){if(e.state.SHOW_SETTINGS)return i.a.createElement(Q,{grow:e.props.grow,refreshGrows:e.props.refreshGrows,close:e.openCloseSettings})}(),i.a.createElement("div",{className:"Grow-Details-Page-Panel"},i.a.createElement("div",{id:"Grow-Details-Data-Display"},i.a.createElement(J,{grow:this.props.grow,toggleLine:this.toggleLine,threeDayData:this.props.rawGrowData,liveGrowData:this.props.liveGrowData,user:this.props.user,activeLines:this.state.ACTIVE_LINES})))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(){a.props.processedData&&a.props.processedData[a.props.grow.id]!==a.state.processedData&&a.setState({processedData:a.props.processedData[a.props.grow.id]})},a.closeModal=function(e){a.setState({displayContent:"main"})},a.openMainPage=function(e,t){a.props.openMainPage(e,t)},a.openCreateGrowModal=function(){alert("GrowPage.js openCreateGrowModal() TODO")},a.openGrow=function(e){e||a.props.setGrow(null),a.props.setGrow(e)},a.setJournalID=function(e){console.log("setJournalID: "+e),a.props.setJournalID(e)},a.state={displayContent:"main",grow:a.props.grow,processedData:a.props.processedData[a.props.grow.id]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.processedData&&this.props.processedData[this.props.grow.id]!==this.state.processedData&&this.setState({processedData:this.props.processedData[this.props.grow.id]})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Grow-Page"},i.a.createElement("div",{id:"Grow-Main"},i.a.createElement("div",{id:"Grow-Main-Area"},function(){if(null===e.props.grow)return i.a.createElement("div",{style:{height:"100%"}})}(),function(){if(e.props.grow)return i.a.createElement(X,{setDisplayWindow:e.props.setDisplayWindow,displayWindow:e.props.displayWindow,grow:e.props.grow,refreshGrows:e.props.refreshGrows,processedData:e.state.processedData,openMainPage:e.openMainPage,setJournalID:e.setJournalID,rawGrowData:e.props.rawGrowData,liveGrowData:e.props.liveGrowData,user:e.props.user,userGrows:e.props.userGrows})}())))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(){},a.toggleWindow=function(e){a.setState({displayWindow:e.target.value}),a.props.setDisplayWindow(parseInt(e.target.value))},a.renderTooltip=function(e){var t=e.payload;if(null!==t&&0!==t.length){var n=H()(e.payload[0].payload.time).format("ddd - HH:mm"),r=t.map(function(e){var t=e.name.split("^")[1],n=e.name.split("^")[3];if(!(a.props.user&&a.props.user.PREFS&&a.props.user.PREFS.GRAPHS&&a.props.user.PREFS.GRAPHS.AllGraph&&a.props.user.PREFS.GRAPHS.AllGraph.showSensors&&!1===a.props.user.PREFS.GRAPHS.AllGraph.showSensors[e.dataKey])){var r=null;a.props.userGrows.forEach(function(e){return e.id===t?void(r=e):void 0});var o=null;return r.config.SENSORS.forEach(function(e){e.PID===n&&(o=e)}),i.a.createElement("div",{className:"AllGraph-Tooltip-Data",key:e.dataKey,style:{color:o.color,paddingLeft:"2px",paddingRight:"2px"}},i.a.createElement("div",{style:{color:o.color,display:"flex",flexDirection:"row",justifyContent:"space-between"}},i.a.createElement("div",null,o.name,": "),i.a.createElement("div",{style:{fontWeight:800}},e.payload[e.dataKey]," ",o.unit)),i.a.createElement("div",{style:{width:"100%",height:"1px",background:"#2d2d2e"}}))}});return i.a.createElement("div",{className:"AllGraph-Tooltip"},i.a.createElement("div",null,n),r)}},a.state={displayWindow:432e5,lightsOnArray:[],lightsOffArray:[],tickArray:[],lightBackgrounds:["#7344e740","#fff93640"]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.props.user&&this.props.user.PREFS&&this.props.user.PREFS.GRAPHS&&this.props.user.PREFS.GRAPHS.AllGraph&&this.props.user.PREFS.GRAPHS.AllGraph.timeWindow&&this.props.user.PREFS.GRAPHS.AllGraph.timeWindow!==this.state.displayWindow&&this.setState({displayWindow:this.props.user.PREFS.GRAPHS.AllGraph.timeWindow})}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this,t=(new Date).getTime(),a=432e5;if(this.props.user&&this.props.user.PREFS&&this.props.user.PREFS.GRAPHS&&this.props.user.PREFS.GRAPHS.AllGraph&&this.props.user.PREFS.GRAPHS.AllGraph.timeWindow&&(a=this.props.user.PREFS.GRAPHS.AllGraph.timeWindow),this.props.combinedProcessedData){var n=this.props.userGrows.map(function(t){return t.config.SENSORS.map(function(a){var n=a.name+"^"+t.id+"^"+a.unit+"^"+a.PID,r=a.PID+"^"+t.id;if(!(e.props.user&&e.props.user.PREFS&&e.props.user.PREFS.GRAPHS&&e.props.user.PREFS.GRAPHS.AllGraph&&e.props.user.PREFS.GRAPHS.AllGraph.showSensors&&!1===e.props.user.PREFS.GRAPHS.AllGraph.showSensors[r]))return"airTemp"===a.type||"waterTemp"===a.type?i.a.createElement(R.b,{yAxisId:"temperature",connectNulls:!0,type:"monotone",name:n,dataKey:r,key:r,stroke:a.color,strokeWidth:a.thickness,dot:!1}):"humidifier"===a.type||"fan"===a.type||"humidity"===a.type?i.a.createElement(R.b,{yAxisId:"percent",connectNulls:!0,type:"monotone",name:n,dataKey:r,key:r,stroke:a.color,strokeWidth:a.thickness,dot:!1}):"\u1d56\u1d56\u1d50"===a.unit?i.a.createElement(R.b,{yAxisId:"ppm",connectNulls:!0,type:"monotone",name:n,dataKey:r,key:r,stroke:a.color,strokeWidth:a.thickness,dot:!1}):"\u1d56\u1d56\u1d47"===a.unit?i.a.createElement(R.b,{yAxisId:"ppb",connectNulls:!0,type:"monotone",name:n,dataKey:r,key:r,stroke:a.color,strokeWidth:a.thickness,dot:!1}):i.a.createElement(R.b,{yAxisId:"ppm",connectNulls:!0,type:"monotone",name:n,dataKey:r,key:r,stroke:a.color,strokeWidth:a.thickness,dot:!1})})}),r=null;if(this.props.parentSize){var o=Math.floor(.9*this.props.parentSize[0]),s=Math.floor(.9*this.props.parentSize[1]);r=i.a.createElement(R.c,{width:o,height:s,data:this.props.combinedProcessedData},n,i.a.createElement(R.a,{vertical:!0,horizontal:!1,verticalFill:[this.state.lightBackgrounds[0],this.state.lightBackgrounds[1]],stroke:"none",fillOpacity:.2}),i.a.createElement(R.e,{tick:{fill:"#B3C2B5"},dataKey:"time",type:"number",domain:[new Date(t-this.state.displayWindow).getTime(),t],allowDataOverflow:!0,ticks:this.state.tickArray,tickFormatter:function(e){return H()(1*e).format("ddd - HH:mm")}}),i.a.createElement(R.f,{yAxisId:"temperature",orientation:"left",type:"number",allowDataOverflow:!0,tick:{fill:"#B3C2B5"}}),i.a.createElement(R.f,{yAxisId:"percent",orientation:"right",hide:!0,domain:[0,100],tick:{fill:"#B3C2B5"}}),i.a.createElement(R.f,{yAxisId:"ppm",orientation:"right",hide:!0,domain:[0,100],tick:{fill:"#false"}}),i.a.createElement(R.f,{yAxisId:"ppb",orientation:"right",hide:!0,domain:[0,100],tick:{fill:"false"}}),i.a.createElement(R.d,{content:this.renderTooltip}))}}return i.a.createElement("div",{className:"Chart-Container",style:{background:"#000"}},r,i.a.createElement("div",{style:{width:"40px",fontSize:"0.55em",display:"flex",flexDirection:"column",position:"absolute",marginLeft:"36px",marginTop:"18px"}},i.a.createElement("select",{onChange:this.toggleWindow,id:"AllGraph-Time-Scale",defaultValue:a,style:{fontSize:"0.8em",maxWidth:"74px",height:"20px"}},i.a.createElement("option",{value:18e5},"\xbdh"),i.a.createElement("option",{value:108e5},"3h"),i.a.createElement("option",{value:432e5},"12h"),i.a.createElement("option",{value:864e5},"24h"),i.a.createElement("option",{value:2592e5},"72h"))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){if(a._ismounted=!0,a.props.user&&a.setState({user:a.props.user,activeLines:a.props.user.PREFS.GRAPHS.AllGraph.showSensors}),a.props.userGrows&&a.props.user){if(a.props.userGrows===a.userGrows)return;a.userGrows=a.props.userGrows;for(var e=[],t=0,n=Object.entries(a.props.userGrows);t<n.length;t++){var i=n[t],r=Object(w.a)(i,1)[0],o=a.props.userGrows[r],s=[];a.props.userGrows[r].config.SENSORS.forEach(function(e,t){if(s[t]!==e.PID){var n=e.PID+"^"+o.id;if(a.props.user.PREFS&&a.props.user.PREFS.GRAPHS&&a.props.user.PREFS.GRAPHS.AllGraph&&a.props.user.PREFS.GRAPHS.AllGraph.showSensors&&!1===a.props.user.PREFS.GRAPHS.AllGraph.showSensors[n])return;s[s.length]=n}}),e[o.id]=s}a.setState({groupedSensors:e})}a.calcGraphDimensions()},a.componentWillUnmount=function(){a._ismounted=!1},a.toggleLine=function(e){var t=a.props.user;if(t.PREFS&&t.PREFS.GRAPHS&&t.PREFS.GRAPHS.AllGraph&&t.PREFS.GRAPHS.AllGraph.showSensors&&!1===t.PREFS.GRAPHS.AllGraph.showSensors[e])return t.PREFS.GRAPHS.AllGraph.showSensors[e]=!0,a.postUserPrefs(t),void a.setState({user:t});t.PREFS.GRAPHS.AllGraph.showSensors[e]=!1,a.postUserPrefs(t),a.setState({user:t})},a.postUserPrefs=function(e){a.props.postFirebaseUser(e)},a.state={grow:a.props.grow,graphElementSize:[150,150],graphSizeUpdated:0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){if(this.calcGraphDimensions(),this.state.growIDs){if(this.state.growIDs.length===this.props.userGrows.length)return}else;if(this.props.userGrows&&(!this.state.growIDs||this.state.growIDs&&this.state.growIDs.length!==this.props.userGrows.length)){var e=this.state.growIDs;e||(e=[]);for(var t=0,a=Object.entries(this.props.userGrows);t<a.length;t++){var n=a[t],i=Object(w.a)(n,1)[0];e&&e.includes(this.props.userGrows[i].id)||(e[e.length]=this.props.userGrows[i].id)}this.setState({growIDs:e})}}},{key:"calcGraphDimensions",value:function(){var e=new Date;if(this.state.graphElementSize!==[this.divRef.clientWidth,this.divRef.clientHeight]&&e.getTime()-this.state.graphSizeUpdated>500){var t=[this.divRef.clientWidth+this.divRef.clientWidth/100*12,this.divRef.clientHeight+this.divRef.clientHeight/100*14];t!==this.state.graphElementSize&&this._ismounted&&this.setState({graphElementSize:t,graphSizeUpdated:e.getTime()})}}},{key:"render",value:function(){var e=this,t=[];return this.state.growIDs&&this.props.userGrows&&(t=this.props.userGrows.map(function(t){return i.a.createElement(J,{grow:t,key:t.id,toggleLine:e.toggleLine,threeDayData:e.props.threeDayData,liveGrowData:e.props.liveGrowData,user:e.state.user})})),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",overflowY:"auto",overflowX:"hidden"}},i.a.createElement("div",{style:{width:"100vw",height:"60vh",minHeight:"60vh"},ref:function(t){return e.divRef=t}},function(){if(e.state.growIDs&&e.state.graphElementSize&&e.state.groupedSensors)return i.a.createElement(_,{setDisplayWindow:e.props.setDisplayWindow,parentSize:e.state.graphElementSize,combinedProcessedData:e.props.combinedProcessedData,groupedSensors:e.state.groupedSensors,userGrows:e.props.userGrows,user:e.state.user})}()),i.a.createElement("div",{className:"Grow-Details-Page-Panel",style:{zIndex:99}},i.a.createElement("div",{id:"Grow-Details-Data-Display"},i.a.createElement("div",{id:"All-Graphs-Buttons"},t))))}}]),t}(n.Component),$=a(144),ee=a(214),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggleLine=function(e){a.props.handleLineToggle(e.currentTarget.getAttribute("data-value"))},a.toggleSensorLines=function(e){a.props.toggleSensorLines(e.currentTarget.getAttribute("data-value"))},a.toggleGrowLines=function(e){a.props.toggleGrowLines(a.props.grow.id)},a.openGrowLineSettings=function(e){alert("TODO... ")},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=null;return this.props.sensorList&&(t=this.props.sensorList.map(function(t){return function(){if(t.split("^")[1]===e.props.grow.id&&"HIGH"===t.split("^")[2]){var a=t.split("^")[0]+"^"+t.split("^")[1],n="#1b5926",r=.25,o=.25,s=.25,l=.25;return e.props.activeLines&&(e.props.activeLines.includes(a+"^HIGH")&&(n="#1e7c2e",r=1,o=1),e.props.activeLines.includes(a+"^AVERAGE")&&(n="#1e7c2e",r=1,s=1),e.props.activeLines.includes(a+"^LOW")&&(n="#1e7c2e",r=1,l=1)),i.a.createElement("div",{"data-value":t,key:t,style:{margin:"2px",background:n,opacity:r,overflow:"hidden"}},i.a.createElement("div",{style:{userSelect:"none"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"row",background:"#233a27"}},i.a.createElement($.a,{"data-value":t,onClick:e.toggleSensorLines,style:{fontSize:"14px",padding:"2px",cursor:"pointer",background:"#355526"}}),i.a.createElement("div",{style:{flex:1}}),i.a.createElement("div",{style:{marginTop:"-2px",marginRight:"2px",fontSize:"14px",fontWeight:600}},t.split("^")[0]),i.a.createElement("div",{style:{marginTop:"-2px",marginRight:"2px",fontSize:"14px",fontWeight:600}},"(?)"))),i.a.createElement("div",{style:{display:"flex",userSelect:"none",flexDirection:"row",fontSize:"10px",fontWeight:600,background:"#000"}},i.a.createElement("div",{"data-value":a+"^HIGH",onClick:e.toggleLine,style:{minWidth:"60px",minHeight:"20px",flex:1,background:"#b44b00",cursor:"pointer",opacity:o}},i.a.createElement("div",{style:{width:"100%",height:"4px",background:"#FF0000"}}),i.a.createElement("div",null,"highs")),i.a.createElement("div",{"data-value":a+"^AVERAGE",onClick:e.toggleLine,style:{minWidth:"60px",minHeight:"20px",flex:1,background:"#495a65",marginRight:"2px",marginLeft:"2px",cursor:"pointer",opacity:s}},i.a.createElement("div",{style:{width:"100%",height:"4px",background:"#62ce92"}}),i.a.createElement("div",null,"averages")),i.a.createElement("div",{"data-value":a+"^LOW",onClick:e.toggleLine,style:{minWidth:"60px",minHeight:"20px",flex:1,background:"#2c48ad",cursor:"pointer",opacity:l}},i.a.createElement("div",{style:{width:"100%",height:"4px",background:"#19b2ff"}}),i.a.createElement("div",null,"lows"))))}}()})),i.a.createElement("div",{style:{background:"#000",width:"100%"}},i.a.createElement("div",{style:{textAlign:"left",fontSize:"30px",userSelect:"none",display:"flex",flexDirection:"row",background:"#1e4354"}},i.a.createElement($.a,{onClick:this.toggleGrowLines,style:{fontSize:"24px",padding:"4px",cursor:"pointer",background:"#222f4b"}}),i.a.createElement("div",{style:{fontSize:"24px",marginLeft:"4px",marginBottom:"2px"}},this.props.grow.name),i.a.createElement("div",{style:{flex:1}}),i.a.createElement(ee.a,{"data-value":this.props.grow,onClick:this.openGrowLineSettings,style:{fontSize:"30px",padding:"4px",background:"#555555",cursor:"pointer",marginRight:"16px"}})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},t))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidUpdate=function(){if(a.props.normalizedData&&a.props.normalizedData!==a.state.normalizedData&&a.setState({normalizedData:a.props.normalizedData}),!a.state.activeLines&&a.props.sensorList){var e=[],t=[];a.props.sensorList.forEach(function(a){e[e.length]=a,t[t.length]=a}),a.setState({activeLines:e,sensorList:t})}},a.renderTooltip=function(e){var t=e.payload;if(null!==t&&0!==t.length){var a=H()(e.payload[0].payload.time).format("MM-D-YYYY"),n=t.map(function(e){return i.a.createElement("div",{style:{fontSize:".6em",color:e.stroke},key:e.dataKey},e.dataKey.split("^")[0]," ",e.dataKey.split("^")[2]," : ",t[0].payload[e.dataKey])});return i.a.createElement("div",{className:"Lifetime-Graph-Tooltip"},i.a.createElement("div",null,a),n)}},a.toggleLine=function(e){var t=e.currentTarget.getAttribute("data-value"),n=a.state.activeLines;if(n.includes(t)){var i=n.indexOf(t);i>-1&&n.splice(i,1)}else n[n.length]=t;a.setState({activeLines:n})},a.toggleRangeMin=function(e){var t=new Date(e.target.value).valueOf(),n=a.state.rangeMax;n||(n=(new Date).valueOf()),a.setState({rangeMin:t}),a.props.updateTimeframe(t,n)},a.toggleRangeMax=function(e){var t=new Date(e.target.value).valueOf()+30298e5,n=a.state.rangeMin;n||(n=0),a.setState({rangeMax:t}),a.props.updateTimeframe(n,t)},a.handleLineToggle=function(e){var t=a.state.activeLines;if(t.includes(e)){var n=t.indexOf(e);n>-1&&t.splice(n,1)}else t[t.length]=e;a.setState({activeLines:t})},a.toggleSensorLines=function(e){var t=e.split("^")[0]+"^"+e.split("^")[1],n=a.state.activeLines,i=a.state.activatedGrows;["^AVERAGE","^HIGH","^LOW"].forEach(function(e){var r=t+e;i||(i=[]),!1===i[r]?(i[r]=!0,a.state.sensorList.forEach(function(e){r===e&&(n.includes(e)||(n[n.length]=e))})):i[r]&&!0!==i[r]||(i[r]=!1,a.state.sensorList.forEach(function(e){if(r===e&&n.includes(e)){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}))}),a.setState({activatedGrows:i,activeLines:n})},a.toggleGrowLines=function(e){var t=a.state.activeLines,n=a.state.activatedGrows;n||(n=[]),!1===n[e]?(n[e]=!0,a.state.sensorList.forEach(function(a){e===a.split("^")[1]&&(t.includes(a)||(t[t.length]=a))})):n[e]&&!0!==n[e]||(n[e]=!1,a.state.sensorList.forEach(function(a){if(e===a.split("^")[1]&&t.includes(a)){var n=t.indexOf(a);n>-1&&t.splice(n,1)}})),a.setState({activatedGrows:n,activeLines:t})},a.state={rangeMax:(new Date).valueOf(),rangeMin:new Date("2019-05").valueOf()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this,t=null;this.props.sensorList&&this.props.userGrows&&(t=this.props.userGrows.map(function(t){return i.a.createElement(te,{handleLineToggle:e.handleLineToggle,toggleGrowLines:e.toggleGrowLines,toggleSensorLines:e.toggleSensorLines,grow:t,sensorList:e.props.sensorList,"data-value":t.id,key:t.id,activeLines:e.state.activeLines})}));var a=null;if(this.state.activeLines){a=this.state.activeLines.map(function(t){return function(){var a=null,n=t.split("^")[0]+"^"+t.split("^")[1];return a=e.props.sampleHighs[n]>1e3?"ppb":e.props.sampleHighs[n]>100?"ppm":e.props.sampleHighs[n]>35?"percent":"temperature","HIGH"===t.split("^")[2]?i.a.createElement(R.b,{yAxisId:a,type:"monotone",name:t,dataKey:t,key:t,stroke:"#FF0000",thickness:.25,dot:!1}):"LOW"===t.split("^")[2]?i.a.createElement(R.b,{yAxisId:a,type:"monotone",name:t,dataKey:t,key:t,stroke:"#19b2ff",thickness:.25,dot:!1}):i.a.createElement(R.b,{yAxisId:a,type:"monotone",name:t,dataKey:t,key:t,stroke:"#62ce92",thickness:3,dot:!1})}()})}var n=null;if(this.state.normalizedData&&this.state.normalizedData[0]&&this.props.parentSize){var r=Math.floor(1*this.props.parentSize[0]),o=Math.floor(.9*this.props.parentSize[1]);n=i.a.createElement(R.c,{width:r,height:o,data:this.state.normalizedData},a,i.a.createElement(R.e,{dataKey:"time",type:"number",domain:[new Date(this.state.normalizedData[0].time).getTime(),new Date(this.state.normalizedData[this.state.normalizedData.length-1].time).getTime()],tickFormatter:function(e){return H()(e).format("MM-D-YYYY")},hide:!1}),i.a.createElement(R.f,{yAxisId:"temperature",orientation:"left",domain:[20],tick:{fill:"#B3C2B5"}}),i.a.createElement(R.f,{yAxisId:"percent",orientation:"right",hide:!0,domain:[0,100],tick:{fill:"#B3C2B5"}}),i.a.createElement(R.f,{yAxisId:"ppm",orientation:"right",hide:!0,tick:{fill:"#B3C2B5"}}),i.a.createElement(R.f,{yAxisId:"ppb",orientation:"right",hide:!0,tick:{fill:"#B3C2B5"}}),i.a.createElement(R.d,{content:this.renderTooltip}))}return i.a.createElement("div",{style:{overflowY:"auto",overflowX:"hidden",maxHeight:"100%"}},i.a.createElement("div",{className:"Chart-Container-Box",style:{marginLeft:"-5%",background:"#000101"}},n,i.a.createElement("div",{style:{width:"40px",fontSize:"0.55em",display:"flex",flexDirection:"column",position:"absolute",marginLeft:"36px",marginTop:"18px"}},i.a.createElement("input",{onChange:this.toggleRangeMin,id:"minimumToggle",name:"date",min:"2019-05",max:H()(new Date(this.state.rangeMax-30298e5)).format("YYYY-MM"),type:"month",defaultValue:"2019-05",style:{fontSize:"0.8em",padding:0,maxWidth:"40px",marginTop:"1px"}}),i.a.createElement("input",{onChange:this.toggleRangeMax,id:"maximumToggle",name:"date",min:H()(new Date(this.state.rangeMin+30298e5)).format("YYYY-MM"),max:H()(new Date).format("YYYY-MM"),type:"month",defaultValue:H()(new Date).format("YYYY-MM"),style:{fontSize:"0.8em",padding:0,marginTop:"1px"}}))),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",padding:"2px"}},t))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a._ismounted=!0,a.props.lifetimeData&&a.processingFunctions.normalizeLifetimeData(a.props.lifetimeData,a.setProcessedData,0,(new Date).valueOf()),a.calcGraphDimensions()},a.setProcessedData=function(e,t,n){a.setState({sensorList:e,normalizedData:t,sampleHighs:n})},a.updateTimeframe=function(e,t){a.processingFunctions.normalizeLifetimeData(a.props.lifetimeData,a.setProcessedData,e,t)},a.state={graphElementSize:[150,150],graphSizeUpdated:0,growID:"-C02kOvSXRrm1zIZ6EOx",year:"2020",month:"10"},a.processingFunctions=new S,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.calcGraphDimensions()}},{key:"calcGraphDimensions",value:function(){var e=new Date;if(this.state.graphElementSize!==[this.divRef.clientWidth,this.divRef.clientHeight]&&e.getTime()-this.state.graphSizeUpdated>500){var t=[this.divRef.clientWidth,this.divRef.clientHeight+this.divRef.clientHeight/100*5];t!==this.state.graphElementSize&&this._ismounted&&this.setState({graphElementSize:t,graphSizeUpdated:e.getTime()})}}},{key:"getMonthChunkData",value:function(){this.props.getMonthChunkData(this.state.growID,this.state.year,this.state.month,this.processChunk)}},{key:"processChunk",value:function(e){console.log("chunky0PRIME ",e);for(var t=0,a=Object.entries(e);t<a.length;t++){for(var n=a[t],i=Object(w.a)(n,2),r=i[0],o=i[1],s=[],l=[],c=[],u=[],d=0,p=Object.entries(o);d<p.length;d++)for(var m=p[d],h=Object(w.a)(m,2),f=(h[0],h[1]),g=0,v=Object.entries(f);g<v.length;g++)for(var y=v[g],E=Object(w.a)(y,2),S=(E[0],E[1]),D=0,b=Object.entries(S);D<b.length;D++){var x=b[D],I=Object(w.a)(x,2),k=I[0],A=I[1];"time"!==k&&(s[k]?s[k]=s[k]+1:s[k]=1,l[k]?l[k]=parseFloat(l[k])+parseFloat(A):l[k]=Math.round(10*A)/10,(!u[k]||u[k]<A)&&(u[k]=Math.round(10*A)/10),(!c[k]||c[k]>A)&&(c[k]=Math.round(10*A)/10))}for(var G=0,C=Object.entries(l);G<C.length;G++){var O=C[G],j=Object(w.a)(O,2),T=j[0],L=j[1];l[T]=Math.round(L/s[T]*10)/10}var R=[];R.HIGH=u,R.LOW=c,R.AVERAGE=l,this.postProcessedDayData(R,r)}}},{key:"postProcessedDayData",value:function(e,t){this.props.postLifetimeData(e,this.state.growID,this.state.year,this.state.month,t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},i.a.createElement("div",{style:{width:"100vw",minHeight:"80vh"},ref:function(t){return e.divRef=t}},i.a.createElement("div",{className:"Lifetime-Graph-Area"},i.a.createElement(ae,{updateTimeframe:this.updateTimeframe,parentSize:this.state.graphElementSize,normalizedData:this.state.normalizedData,sensorList:this.state.sensorList,sampleHighs:this.state.sampleHighs,userGrows:this.props.userGrows}))))}}]),t}(n.Component),ie=a(215),re=a.n(ie);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var le=e=>{var t=e.svgRef,a=se(e,["svgRef"]);return i.a.createElement("svg",oe({ref:t},a),i.a.createElement("path",{id:"path850",style:{fill:"#000",fillOpacity:1,stroke:"none",strokeWidth:"0.135952px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 17.315504,0.15962276 c -0.06433,-0.003251 -0.128656,-0.002972 -0.193054,0.001329 -2.059978,0.13739616 -5.21874,2.33479074 -5.21874,2.33479074 0,0 -1.098715,3.021282 -1.236048,4.2572531 -0.137327,1.2360055 -0.549383,9.3384634 -0.549383,9.3384634 l 1.51087,14.007802 v 4.394824 4.806629 l -5.7681266,7.141174 -3.0212081,6.042704 -0.9612208,3.845134 0.4118389,6.592079 0.6866625,6.866626 5.2187393,13.870544 7.8278518,13.595682 29.388948,8.514783 26.779843,-1.78541 16.342626,-14.969296 3.707871,-2.334546 7.690569,-20.050505 -5.4933,-14.419919 c 0,0 -2.334602,-3.433155 -2.883931,-3.845169 -0.54933,-0.411979 2.197373,-3.84524 1.92271,-4.943919 -0.274652,-1.09861 -0.41215,-3.570692 0.411839,-4.669337 0.823961,-1.098645 4.3948,-6.729336 4.3948,-6.729336 l 3.021219,-8.102423 2.74665,-9.750549 -5.30505,8.299674 -0.09719,5.243708 -6.117831,11.070531 -1.068229,-0.679779 c 0.194208,-0.582658 -0.582573,-9.807919 -0.582573,-9.807919 l 3.884182,-5.243954 5.923731,-8.254294 3.36295,-0.627967 c 0,0 -6e-5,-1.098715 -1.92271,-1.236041 -1.92265,-0.137396 -5.630584,2.883921 -5.630584,2.883921 l -5.0812,4.257255 c 0,0 -5.768072,4.53208 -6.592065,4.53208 -0.823989,0 -7.415746,1.373333 -7.415746,1.373333 0,0 -3.570807,0.137046 -4.394799,-0.412119 -0.823989,-0.54934 -2.197266,-2.197255 -2.197266,-2.197255 0,0 -3.708091,-1.78545 -3.845417,-0.412118 -0.113239,1.132522 -2.812748,1.513036 -3.766025,1.613373 -0.324472,-0.05419 -1.203591,-0.163267 -3.237882,-0.377332 -5.21862,-0.549305 -11.535724,-1.785416 -11.535724,-1.785416 L 45.412627,20.898088 43.902025,18.838125 39.644768,19.524791 35.936897,20.48625 31.267534,19.112952 25.224851,9.9114984 21.242156,3.8690742 c 0,0 -1.933013,-3.60876418 -3.92667,-3.70945144 z m -0.138061,1.62505044 1.165151,2.7190104 -0.485389,7.5742694 1.553621,8.642779 4.175739,5.535247 -3.98137,1.262332 L 16.01203,30.52865 14.652514,32.373814 11.350902,18.29298 12.32195,6.9311905 13.77865,3.5324012 Z m 23.295289,21.7445688 0.191446,2.106741 -2.010868,1.819398 2.585474,1.149233 -4.979499,-0.287378 -4.213442,-0.478754 -3.351532,2.010879 -1.24481,2.681322 1.436259,1.723535 -2.77692,2.01088 -0.799516,0.75914 -1.015655,2.437575 2.031313,1.049385 1.929874,-0.643104 -0.914219,2.336119 0.338561,2.573014 0.101701,1.523349 -1.185061,-2.809839 -0.778806,-1.320506 -1.523349,0.338421 -0.33933,0.746659 1.484319,2.489877 2.393759,2.298187 -1.101158,1.436261 -3.782485,-2.968386 -0.861649,-1.91526 -1.675764,1.627952 v 2.106741 l 5.697497,2.154497 3.399324,0.861925 0.574606,1.436262 -2.681064,0.0479 -5.697759,-0.766063 c 0,0 -3.016433,-1.340469 -3.016433,-1.148953 0,0.191585 -0.287134,1.292538 -0.382895,1.627707 -0.09576,0.335275 0.813854,1.771642 0.813854,1.771642 0,0 3.255785,0.52679 3.495183,0.52679 0.239412,0 4.548544,-0.622653 4.548544,-0.622653 l 3.447385,-0.335275 1.723559,0.957753 -0.47875,0.622408 -3.160084,-0.239482 -1.484315,0.191586 -1.197015,2.106741 -1.771354,1.532124 -5.506314,-0.957508 -1.532114,0.0479 -2.441823,4.117584 -2.250371,0.04825 -4.3090348,0.191586 -2.3940284,-2.968387 v -2.585739 l 4.8836442,-5.075093 4.500749,-3.734693 1.62797,-0.287029 -1.723829,-2.872768 3.543244,-3.543248 2.776923,-0.766062 1.532114,0.383171 0.526815,-2.058949 0.909705,-1.53209 -0.287308,-2.010878 1.436258,-0.67048 -0.909709,-0.335274 -1.14895,0.909717 -0.129845,1.939698 -0.812525,2.505295 -2.505018,0.05594 -2.729129,0.861645 -2.920573,2.729114 -1.96307,3.782485 -2.4898817,3.11232 -3.3034686,1.675743 -0.2873083,-3.112285 2.2981693,-4.021722 5.2668053,-3.112285 c 0,0 3.590927,-4.30903 4.261238,-5.075092 0.670312,-0.766062 3.064228,-5.410473 3.064228,-5.410473 l 4.979499,-3.926139 8.139317,-1.914981 4.213442,-0.478754 z m 10.364729,1.42032 2.746651,0.755189 1.579112,1.373333 c 0,0 0.961538,4.669406 1.167538,5.218711 l 2.403321,2.540606 1.167273,-1.09875 1.716655,-3.501819 -0.48061,-3.433331 1.716658,0.137396 2.265771,1.579357 -1.441831,3.501854 -2.26604,8.239924 0.274547,10.299957 0.618154,5.424527 -3.296033,-1.85394 -1.991216,-0.205919 -3.502085,0.137396 1.098764,-3.98267 0.411839,-5.081456 -1.510603,-9.681814 -0.755437,-5.973902 z m -2.197003,2.860043 1.650806,2.039266 -0.09691,5.340901 -2.913404,5.243953 1.94209,4.758312 0.275351,0.769244 -1.888186,3.913937 -1.613898,-0.240181 -0.686663,-2.609373 -1.819415,-3.845134 -2.26604,-2.884201 -4.236812,-2.193024 -5.146515,-0.582833 -5.243971,1.359523 -0.776942,-0.873882 2.816219,-1.359487 2.23338,-1.16542 4.758312,0.971317 2.42775,-0.194382 -0.194103,-3.398791 -0.971048,-3.107495 2.52467,-0.194033 c 0,0 2.233642,3.884326 2.233642,4.369862 0,0.485536 0.873864,4.369828 0.873864,4.369828 l 2.621851,1.068229 1.553884,-4.564209 1.553622,-3.107217 -1.650803,-3.301878 z m 18.741962,2.816236 1.990685,5.63216 -0.0486,3.981377 0.971045,2.282244 2.136461,-1.310927 1.359519,-4.127164 c 0,0 0.339855,-1.94232 0.631166,-1.893759 0.291329,0.04859 2.961995,1.068229 2.961995,1.068229 l 0.388206,2.864797 -1.116556,0.77669 1.408112,1.553871 c 0,0 2.427521,-1.05e-4 2.476074,0.194032 0.04856,0.194383 -0.582577,1.359488 -0.582577,1.359488 l -1.650806,0.631183 6.020647,-1.067984 1.165413,2.767361 -2.282237,0.534272 -4.272654,-1.310927 c 0,0 -3.787155,0.38845 -3.98137,0.38845 -0.194207,0 -5.43807,1.359523 -5.43807,1.359523 l -3.20469,3.786995 -1.553622,1.699412 c -0.242768,-0.291224 -1.2626,-4.369827 -1.2626,-4.369827 0,0 0.631435,-2.28186 0.631435,-2.476103 0,-0.194382 -0.679758,-4.564209 -0.679758,-4.564209 l 1.796313,-7.574515 z m 13.401075,3.107496 c 0,0 3.884113,1.45654 4.466756,1.262332 0.582651,-0.194382 3.981636,0.873847 3.981636,0.873847 l -1.942359,1.650816 2.112828,3.132458 0.02377,-0.02447 0.679758,1.068229 -0.703391,-1.043267 -1.724353,1.820237 0.291294,2.816202 -1.262332,-2.136458 -2.23338,-3.010304 c 0,0 -2.805126,-4.000501 -4.041114,-4.687167 z m -29.328143,0.417397 1.647884,5.836646 0.412104,7.415756 -0.892715,3.982671 -2.609373,3.982706 -1.029727,-2.74663 c 0,0 1.441779,-3.021422 1.579112,-3.502099 0.137327,-0.480676 0.549382,-8.308447 0.549382,-8.308447 l -0.48061,-2.883955 z m -16.070191,5.845946 3.350202,0.874126 2.524932,1.89348 1.747991,3.156126 -0.09719,3.204407 -1.310927,1.214015 -2.573524,0.679744 -3.10724,-0.242978 h -0.0486 l -2.039279,-1.262331 -1.893763,-0.582588 -1.213743,-1.116824 -1.116821,-1.456679 -0.388474,-1.990706 0.437063,-2.039267 1.845175,-1.699412 z m 1.893768,1.359522 -1.262601,1.505275 -1.602215,2.427751 v 3.01034 l 1.004505,1.484577 0.490968,-0.09265 1.029464,-0.760748 1.407842,-2.427752 0.485655,-2.913113 -0.825534,-2.185053 z m 39.207479,4.831066 3.034486,1.626624 0.995476,2.306402 0.09719,2.597696 -0.801373,1.650817 -1.116555,0.655306 -2.087869,0.412923 -1.456704,-0.02447 1.310928,-2.67045 0.09719,-3.131653 -1.116825,-1.893795 -0.898291,-0.776655 -1.09239,0.922442 -0.898291,2.694888 0.364306,2.573258 0.703922,2.136458 0.461229,0.509799 -1.50503,0.218506 -3.107506,-1.141262 -1.869336,-1.310893 -0.09719,-3.811432 2.670443,-2.257807 2.864811,-1.238173 z m 9.395278,0.60699 1.990682,0.825531 -1.650803,1.262331 -1.116824,0.631184 1.213743,0.582552 1.74799,0.874127 2.281968,0.485396 1.408112,2.136458 -0.242699,1.505309 -3.495977,-1.310927 -2.087872,0.09684 -1.553619,-1.50503 -2.039277,1.262332 -0.825534,0.339819 0.72835,-1.456714 -0.194103,-1.019633 -0.437063,-1.408118 0.485655,-1.213736 0.582574,-1.650782 z m -52.48721,9.273926 6.151818,3.74214 a 1.3933418,1.3724369 2.9597783 0 0 -0.499727,-0.119566 1.3933418,1.3724369 2.9597783 0 0 -1.46228,1.298726 1.3933418,1.3724369 2.9597783 0 0 1.320751,1.442624 1.3933418,1.3724369 2.9597783 0 0 1.462277,-1.298725 1.3933418,1.3724369 2.9597783 0 0 -0.511411,-1.13462 l 1.521493,0.925379 a 1.3389866,1.3188972 0 0 0 -0.221967,0.727291 1.3389866,1.3188972 0 0 0 1.339071,1.318898 1.3389866,1.3188972 0 0 0 1.160102,-0.660656 l 1.392977,0.847312 2.23338,-2.136458 3.398793,0.679779 1.942093,0.971038 -0.582574,1.16542 1.845171,4.175724 -0.679758,5.049606 -12.721314,3.49598 -5.526495,-1.72329 a 1.6862207,1.7058283 5.0132703 0 0 1.197547,-1.486466 1.6862207,1.7058283 5.0132703 0 0 -1.530521,-1.846492 1.6862207,1.7058283 5.0132703 0 0 -1.828977,1.551772 1.6862207,1.7058283 5.0132703 0 0 0.368026,1.221707 L 31.4524,73.74184 25.819962,62.768537 Z m 18.953588,1.291559 3.433316,0.480852 5.493301,0.823957 2.059988,1.785171 -0.892715,1.648125 -0.755434,-0.274793 0.06877,-1.304564 -1.716658,-0.549375 -1.236045,1.30453 -0.411838,2.746664 -1.167539,1.785416 -1.304554,1.236041 -0.686662,-1.510589 -0.617892,-2.472082 0.89245,-2.472117 -1.716655,-2.197254 -2.677879,0.343315 -0.686663,0.823958 -0.137291,-1.098505 z m 30.960098,0.02098 4.321245,0.825531 1.408112,2.281965 -2.864546,0.194033 -3.107509,-2.039267 0.194102,-1.019633 z m -47.650037,1.32687 a 1.4296219,1.4081725 5.0132703 0 0 -1.422711,1.283553 1.4296219,1.4081725 5.0132703 0 0 1.301099,1.527614 1.4296219,1.4081725 5.0132703 0 0 1.54725,-1.277749 1.4296219,1.4081725 5.0132703 0 0 -1.301104,-1.527859 1.4296219,1.4081725 5.0132703 0 0 -0.124531,-0.007 z m 45.222289,0.858184 2.524932,1.359523 3.981367,3.10725 1.553887,-0.582587 2.039277,-1.553626 0.679758,2.427752 -0.679758,2.039267 4.563944,1.553625 2.621851,-0.194033 -0.77668,2.427507 -5.632438,0.38845 -5.146783,-3.204407 -3.981371,-5.049606 z m -13.595179,0.09684 1.942359,1.456714 9.710727,-0.291224 1.650806,3.301634 -0.582577,9.61378 -7.477347,9.128174 -7.477347,-0.582588 -4.272923,-5.729349 -4.661128,-3.204687 0.776946,-3.981377 2.719035,-2.524943 1.650802,-3.010304 3.10751,-0.388485 1.747987,-0.776935 z m -43.708228,0.720124 1.991212,8.445738 -2.128493,1.64816 -0.274828,6.72909 3.433314,2.884201 9.750559,7.003882 12.016594,5.905133 15.037807,-0.549374 6.79812,-1.304565 3.298955,-3.029428 1.94209,-1.55387 -0.776677,1.650782 -7.005232,6.846454 -12.497208,3.43333 -10.43722,-0.823957 -10.162395,-4.806628 -5.287249,-3.570587 -6.248738,-9.544523 -4.051205,-5.562062 -2.334811,-1.441855 -5.630583,-7.553258 3.776647,-0.205919 4.051467,-3.570587 z m 11.104762,2.323673 a 1.4296219,1.4081725 5.0132703 0 0 -1.422714,1.283553 1.4296219,1.4081725 5.0132703 0 0 1.3011,1.527615 1.4296219,1.4081725 5.0132703 0 0 1.54725,-1.27775 1.4296219,1.4081725 5.0132703 0 0 -1.301102,-1.527859 1.4296219,1.4081725 5.0132703 0 0 -0.12453,-0.007 z m 3.458805,0.913143 a 1.3933418,1.3724369 2.9597783 0 0 -1.367483,1.300579 1.3933418,1.3724369 2.9597783 0 0 1.320485,1.442624 1.3933418,1.3724369 2.9597783 0 0 1.462276,-1.298691 1.3933418,1.3724369 2.9597783 0 0 -1.320482,-1.442624 1.3933418,1.3724369 2.9597783 0 0 -0.0579,-0.0019 1.3933418,1.3724369 2.9597783 0 0 -0.03692,0 z M 5.1743912,64.021848 6.4104357,64.708514 C 7.509091,65.944486 17.122481,77.343262 17.122481,77.343262 l 2.883928,3.845135 5.767863,6.72937 3.021212,4.943919 -6.454525,-3.158748 -6.042687,-4.257288 -3.433313,-6.317217 -4.5318161,-5.493294 z m 36.7218528,0.123063 a 1.3389867,1.3188972 0 0 0 -1.324468,1.318898 1.3389867,1.3188972 0 0 0 1.339071,1.318898 1.3389867,1.3188972 0 0 0 1.338805,-1.318898 1.3389867,1.3188972 0 0 0 -1.338805,-1.318898 1.3389867,1.3188972 0 0 0 -0.01468,0 z m 28.109621,0.438129 a 1.3389866,1.3188972 37.5224 0 0 -1.028933,0.510603 1.3389866,1.3188972 37.5224 0 0 0.25864,1.861631 1.3389866,1.3188972 37.5224 0 0 1.865354,-0.230392 1.3389866,1.3188972 37.5224 0 0 -0.25864,-1.861631 1.3389866,1.3188972 37.5224 0 0 -0.836421,-0.280036 z m 3.147602,1.622114 a 1.3933419,1.3724369 34.56262 0 0 -1.112045,0.58895 1.3933419,1.3724369 34.56262 0 0 0.368823,1.92061 1.3933419,1.3724369 34.56262 0 0 1.926161,-0.33982 1.3933419,1.3724369 34.56262 0 0 -0.369089,-1.920574 1.3933419,1.3724369 34.56262 0 0 -0.792608,-0.249271 1.3933419,1.3724369 34.56262 0 0 -0.02133,0 z m -38.799365,1.076479 a 1.4296219,1.4081725 5.0132703 0 0 -1.422711,1.283553 1.4296219,1.4081725 5.0132703 0 0 1.3011,1.527615 1.4296219,1.4081725 5.0132703 0 0 1.546983,-1.27775 1.4296219,1.4081725 5.0132703 0 0 -1.3011,-1.527859 1.4296219,1.4081725 5.0132703 0 0 -0.124286,-0.007 z m 42.011754,0.157324 a 1.429622,1.4081725 32.50913 0 0 -1.175503,0.646042 1.429622,1.4081725 32.50913 0 0 0.448747,1.955885 1.429622,1.4081725 32.50913 0 0 1.962538,-0.419251 1.429622,1.4081725 32.50913 0 0 -0.449013,-1.95592 1.429622,1.4081725 32.50913 0 0 -0.774023,-0.226896 1.429622,1.4081725 32.50913 0 0 -0.01259,0 z m -8.218175,0.522036 a 1.3389867,1.3188972 37.5224 0 0 -1.028933,0.510883 1.3389867,1.3188972 37.5224 0 0 0.258641,1.86163 1.3389867,1.3188972 37.5224 0 0 1.865088,-0.230392 1.3389867,1.3188972 37.5224 0 0 -0.258641,-1.861665 1.3389867,1.3188972 37.5224 0 0 -0.836155,-0.280386 z m -30.166689,0.126208 a 1.3933418,1.3724369 2.9597783 0 0 -1.367484,1.300579 1.3933418,1.3724369 2.9597783 0 0 1.320748,1.442625 1.3933418,1.3724369 2.9597783 0 0 1.46228,-1.298691 1.3933418,1.3724369 2.9597783 0 0 -1.320751,-1.442625 1.3933418,1.3724369 2.9597783 0 0 -0.0579,-0.0019 1.3933418,1.3724369 2.9597783 0 0 -0.03692,0 z m 3.984023,0.35342 a 1.3389867,1.3188972 0 0 0 -1.324467,1.318898 1.3389867,1.3188972 0 0 0 1.338805,1.318898 1.3389867,1.3188972 0 0 0 1.33907,-1.318898 1.3389867,1.3188972 0 0 0 -1.33907,-1.318898 1.3389867,1.3188972 0 0 0 -0.01433,0 z m 42.038039,0.799799 5.081197,3.845135 2.334811,0.549409 -2.883927,1.648125 -4.119976,2.334546 -2.884197,0.274443 1.78543,-3.570622 -0.412105,-3.433296 z m -12.599171,0.575141 a 1.3933419,1.3724369 34.56262 0 0 -1.112042,0.588671 1.3933419,1.3724369 34.56262 0 0 0.368823,1.920854 1.3933419,1.3724369 34.56262 0 0 1.925895,-0.339819 1.3933419,1.3724369 34.56262 0 0 -0.368823,-1.920575 1.3933419,1.3724369 34.56262 0 0 -0.792611,-0.248921 1.3933419,1.3724369 34.56262 0 0 -0.02133,0 z m 3.300549,1.389519 a 1.429622,1.4081725 32.50913 0 0 -1.175506,0.646042 1.429622,1.4081725 32.50913 0 0 0.449012,1.95564 1.429622,1.4081725 32.50913 0 0 1.962273,-0.419006 1.429622,1.4081725 32.50913 0 0 -0.448747,-1.95592 1.429622,1.4081725 32.50913 0 0 -0.774023,-0.226896 1.429622,1.4081725 32.50913 0 0 -0.01294,0 z m -9.227729,0.120965 a 1.3389867,1.3188973 37.5224 0 0 -1.028929,0.510883 1.3389867,1.3188973 37.5224 0 0 0.25864,1.861385 1.3389867,1.3188973 37.5224 0 0 1.865354,-0.230392 1.3389867,1.3188973 37.5224 0 0 -0.25864,-1.86135 1.3389867,1.3188973 37.5224 0 0 -0.836425,-0.280386 z m -40.526371,0.248921 3.021208,0.412084 3.708137,4.669371 7.003909,3.982426 3.499165,-0.486445 6.263604,-2.524943 3.98137,-0.72806 4.758313,0.388206 3.301608,2.573503 4.127147,4.127164 5.001006,0.728339 4.030228,-1.55387 3.350201,-4.369862 1.238967,0.198228 2.609104,1.64788 -4.943916,4.394824 -7.141188,5.63055 -7.278465,0.54941 -9.064157,1.235762 -6.866361,-1.785172 -5.081462,-3.433295 -7.965129,-3.29604 -7.553289,-7.141174 z m 13.329648,0.613353 a 1.6434289,1.6625388 2.9597783 0 0 -1.64231,1.577539 1.6434289,1.6625388 2.9597783 0 0 1.555216,1.745071 1.6434289,1.6625388 2.9597783 0 0 1.727276,-1.575406 1.6434289,1.6625388 2.9597783 0 0 -1.555478,-1.745071 1.6434289,1.6625388 2.9597783 0 0 -0.08471,-0.0021 z m 4.180249,0.174105 a 1.579318,1.5976824 0 0 0 -1.579374,1.597711 1.579318,1.5976824 0 0 0 1.579374,1.597711 1.579318,1.5976824 0 0 0 1.579112,-1.597711 1.579318,1.5976824 0 0 0 -1.579112,-1.597711 z m 26.348887,1.093995 a 1.3933419,1.3724369 34.56262 0 0 -1.112042,0.588671 1.3933419,1.3724369 34.56262 0 0 0.36882,1.92061 1.3933419,1.3724369 34.56262 0 0 1.925895,-0.33947 1.3933419,1.3724369 34.56262 0 0 -0.368819,-1.92061 1.3933419,1.3724369 34.56262 0 0 -0.792612,-0.248921 1.3933419,1.3724369 34.56262 0 0 -0.02133,0 z m -6.245019,0.644189 a 1.579318,1.5976824 37.5224 0 0 -1.246665,0.628771 1.579318,1.5976824 37.5224 0 0 0.279617,2.229139 1.579318,1.5976824 37.5224 0 0 2.225681,-0.305558 1.579318,1.5976824 37.5224 0 0 -0.279617,-2.228859 1.579318,1.5976824 37.5224 0 0 -0.979012,-0.323738 z m 32.425559,0.907829 -2.059987,3.708157 -4.532081,4.669092 -3.021208,4.119962 -1.098768,2.334826 -5.355754,0.686666 -1.510606,-0.824202 4.943919,-3.433051 2.334546,-5.08149 6.317244,-3.845135 z m -22.81175,0.02447 a 1.429622,1.4081725 32.50913 0 0 -1.175507,0.646042 1.429622,1.4081725 32.50913 0 0 0.448747,1.955885 1.429622,1.4081725 32.50913 0 0 1.962276,-0.419286 1.429622,1.4081725 32.50913 0 0 -0.448747,-1.955885 1.429622,1.4081725 32.50913 0 0 -0.774023,-0.226896 1.429622,1.4081725 32.50913 0 0 -0.01259,0 z m -6.22112,1.461224 a 1.6434289,1.662539 34.56262 0 0 -1.357394,0.724074 1.6434289,1.662539 34.56262 0 0 0.410245,2.301368 1.6434289,1.662539 34.56262 0 0 2.296575,-0.436521 1.6434289,1.662539 34.56262 0 0 -0.410245,-2.301613 1.6434289,1.662539 34.56262 0 0 -0.933605,-0.287378 1.6434289,1.662539 34.56262 0 0 -0.0056,0 z m 3.410211,1.759125 a 1.6862207,1.7058283 32.50913 0 0 -1.424309,0.793926 1.6862207,1.7058283 32.50913 0 0 0.505307,2.34493 1.6862207,1.7058283 32.50913 0 0 2.338797,-0.532419 1.6862207,1.7058283 32.50913 0 0 -0.505307,-2.344895 1.6862207,1.7058283 32.50913 0 0 -0.914488,-0.261507 z"}))},ce=i.a.forwardRef((e,t)=>i.a.createElement(le,oe({svgRef:t},e))),ue=(a.p,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setMainContent=function(e){a.props.setMainContent(e.currentTarget.getAttribute("data-value"))},a.setGrow=function(e){a.props.userGrows.forEach(function(t){t.id===e.target.dataset.value&&a.props.setGrow(t)})},a.handleSignOut=function(){a.props.handleSignOut()},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=null;return this.props.userGrows&&(t=this.props.userGrows.map(function(t){var a=null;e.props.liveGrowData[t.id]&&(a=e.props.liveGrowData[t.id]);var n=t.name.split(" "),r="";t.name.length>=4?n.forEach(function(e){r+=e.charAt(0)}):r=t.name;var o="#FF0000";if(e.props.liveGrowData[t.id]){var s=(new Date).getTime(),l=new Date(1e3*e.props.liveGrowData[t.id].time);e.updatedAtDate&&l!==e.updatedAtDate[t.id]&&(e.updatedAtDate[t.id]=l);var c=s-1e3*e.props.liveGrowData[t.id].time;c>1e7?o="#989e98":c>3e5?o="#fa360a":c>6e4?o="#facb23":c<6e4&&(o="#27d927"),H()(l).fromNow()}return i.a.createElement("div",{className:"App-Bar-Button-Grow",key:t.id,onClick:e.setGrow,"data-value":t.id},i.a.createElement("div",{className:"App-Bar-Button-Updated","data-value":t.id},i.a.createElement("div",{style:{color:o,marginLeft:"1px",fontSize:"10px"}},"\u2b24")),i.a.createElement("div",{className:"App-Bar-Button-Grow-Name","data-value":t.id},r),function(){if(a&&a.sA1_Temp)return i.a.createElement("div",{ref:e.flowerTempRef,className:"App-Bar-Button-Grow-Temp","data-value":t.id},Math.round(10*a.sA1_Temp)/10,"\xb0C")}(),function(){if(a&&a.sA1_Humi)return i.a.createElement("div",{ref:e.flowerHumidityRef,className:"App-Bar-Button-Grow-Humidity","data-value":t.id},Math.round(10*a.sA1_Humi)/10,"%")}())})),i.a.createElement("div",{id:"App-Bar"},i.a.createElement("div",{id:"App-Bar-Logo",onClick:this.setMainContent,"data-value":"graphs"},i.a.createElement("img",{src:re.a,alt:"App Logo",style:{maxWidth:"100%",maxHeight:"100%"}})),t,i.a.createElement("div",{className:"App-Bar-Button-Grow",style:{background:"#6b5729"},onClick:this.setMainContent,"data-value":"lifetime"},i.a.createElement(K.b,{style:{color:"#FFF",fontSize:"30px",paddingTop:"5px"}})," L"),i.a.createElement("div",{className:"App-Bar-Button-Grow",style:{background:"#43b3b3",paddingTop:"3px",paddingRight:"1px"},onClick:this.setMainContent,"data-value":"tobytiles"},i.a.createElement(ce,{height:"90%",preserveAspectRatio:"xMinYMin slice",width:"90%",viewBox:"0 0 120 120"})),i.a.createElement("div",{className:"App-Bar-Filler-Div"}),i.a.createElement("div",{className:"App-Bar-Logout-Button",onClick:this.handleSignOut},"\u27b2"))}}]),t}(n.Component)),de=a(49),pe=(a(514),a(24)),me=a(66),he=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).clickTile=function(e){a.props.clickTile(e.currentTarget.getAttribute("data-value"))},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=null;return this.props.row&&(t=this.props.row.map(function(t,a){var n=t+"^"+e.props.rowIndex+"^"+a,r="#317b8c",o=1,s=0;return e.props.selectedTiles&&e.props.selectedTiles.includes(n)&&(s=1,r="#a7b7bb","GoldenBindy"===t&&(r="#b0b927")),e.props.foundTiles&&e.props.foundTiles.includes(n)&&(s=1,o=.2,"GoldenBindy"===t&&(r="#b0b927")),"GoldenBindy"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{background:r,flex:1,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,opacity:s}},i.a.createElement(ce,{viewBox:"0 0 110 110",style:{flex:1,height:"40%",padding:"20%"}}))):"Scoby"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{background:r,flex:1,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,opacity:s}},i.a.createElement(ce,{viewBox:"0 0 110 110",style:{flex:1,height:"40%",padding:"20%"}}))):"GiSpellBook"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.p,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GoThumbsdown"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(me.d,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GoThumbsup"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(me.e,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GoPackage"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(me.a,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GoPaintcan"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(me.b,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GoSquirrel"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(me.c,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiSnowBottle"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.m,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiBullyMinion"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.a,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiPegasus"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.k,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiCaravan"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.b,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiCurlingStone"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.c,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiDrakkar"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.d,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiDuck"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.e,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiRaiseSkeleton"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.l,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiSnowman"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.n,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiSpadeSkull"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.o,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiEgyptianBird"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.f,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiFullMotorcycleHelmet"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.h,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiLockedChest"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.j,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiLindenLeaf"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.i,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):"GiFuji"===t?i.a.createElement("div",{onClick:e.clickTile,key:n,"data-value":n,style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",flexDirection:"row",flex:1,background:r,margin:"2px",cursor:"pointer",opacity:o}},i.a.createElement(pe.g,{style:{flex:1,height:"40%",color:"#000",opacity:s}})):void 0})),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1}},t)}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).startGame=function(){console.log("START GAME!"),a.setState({level:1}),a.initializeLevel(1)},a.clickTile=function(e){var t=a.state.selectedTiles,n=a.state.foundTiles;if(!n.includes(e))if(t.length>=2||e===t[0]||2!==a.state.clickTime)a.stopAndResetDisplayTimer();else{if("GoldenBindy"===e.split("^")[0]?(a.setState({clickTime:2}),n[n.length]=e):t[t.length]=e,t.length>=2)t[0].split("^")[0]===t[1].split("^")[0]?(n[n.length]=t[0],n[n.length]=e,t=[]):a.startDisplayTimer();if(a.setState({foundTiles:n,selectedTiles:t}),n.length===a.state.shuffledDeck.length){console.log("WON!");var i=a.state.level+1;a.setState({shuffledDeck:[],level:i}),a.initializeLevel(i)}}},a.state={clickTime:2,level:0,selectedTiles:[],foundTiles:[]},a.startDisplayTimer=a.startDisplayTimer.bind(Object(de.a)(Object(de.a)(a))),a.stopAndResetDisplayTimer=a.stopAndResetDisplayTimer.bind(Object(de.a)(Object(de.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){0!==this.state.level&&this.initializeLevel(this.state.level)}},{key:"initializeLevel",value:function(){var e=["GiSpellBook","GiFuji","GiLindenLeaf","GiLockedChest","GiFullMotorcycleHelmet","GiEgyptianBird","GiSpadeSkull","GiSnowman","GiRaiseSkeleton","GiDuck","GiDrakkar","GiCurlingStone","GiCaravan","GiBullyMinion","GiPegasus","GiSnowBottle","GoSquirrel","GoPaintcan","GoPackage","GoThumbsup","GoThumbsdown"],t=["Scoby","Scoby"],a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.level)+2;a%2!==0&&(t[t.length]="GoldenBindy");for(var n=Math.floor(a*a/2)-1,i=0;i<n;i++){var r=Math.round(Math.random()*(e.length-1));t[t.length]=e[r],t[t.length]=e[r]}for(var o=[];0!==t.length;){var s=Math.round(Math.random()*(t.length-1));o[o.length]=t[s],t.splice(s,1)}this.setState({clickTime:2,foundTiles:[],selectedTiles:[],shuffledDeck:o})}},{key:"startDisplayTimer",value:function(){var e=this;this.timer=setInterval(function(){return e.setState({clickTime:e.state.clickTime-1})},1e3)}},{key:"stopAndResetDisplayTimer",value:function(){clearInterval(this.timer),this.setState({clickTime:2,selectedTiles:[]})}},{key:"render",value:function(){var e=this;0===this.state.clickTime&&this.stopAndResetDisplayTimer();var t=null;if(this.state.shuffledDeck){for(var a=this.state.level+2,n=this.state.shuffledDeck.slice(),r=[],o=0;r.length!==a;){for(var s=[];s.length!==a;)s[s.length]=n[o],o++;r[r.length]=s}t=r.map(function(t,a){return i.a.createElement(he,{clickTile:e.clickTile,key:a,row:t,rowIndex:a,foundTiles:e.state.foundTiles,selectedTiles:e.state.selectedTiles})})}return i.a.createElement("div",{style:{minHeight:"100%",maxHeight:"100%",minWidth:"100%",justifyContent:"center",userSelect:"none",display:"flex"}},i.a.createElement("div",{id:"TobyTiles-Main",style:{backgroundColor:"#243124",display:"flex",flexDirection:"column",width:"100%",maxWidth:"90vh",height:"100%",maxHeight:"100vw"}},t),function(){if(0===e.state.level)return i.a.createElement("div",{onClick:e.startGame,style:{background:"#9a2222",cursor:"pointer",fontSize:"2.2em",fontWeight:"700",minWidth:"40%",minHeight:"10%",color:"red",position:"absolute",marginTop:"3%",zIndex:"99"}},i.a.createElement(ce,{height:"95%",preserveAspectRatio:"xMinYMin slice",width:"95%",viewBox:"0 0 110 110"}),i.a.createElement("div",null,"START!"))}())}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setUser=function(e){a.setState({user:e,displayWindow:e.PREFS.GRAPHS.AllGraph.timeWindow})},a.setLifetimeData=function(e){a.setState({lifetimeData:e})},a.setUserGrows=function(e){e.forEach(function(e){a.dbHelper.getThreeDayData(e.id,a.setThreeDayData)}),a.setState({userGrows:e}),a.dbHelper.getLiveGrowData(e,a.setLiveGrowData)},a.refreshGrows=function(e){var t=a.state.currentGrow;t.config=e,a.setState({currentGrow:t})},a.setUserJournals=function(e){a.setState({userJournals:e})},a.setLiveGrowData=function(e,t){if(null!==t){var n=a.state.liveGrowData;n[e.toString()]=t,a.setState({liveGrowData:n})}},a.setThreeDayData=function(e,t,n){var i=a.state.threeDayData,r=[];t=parseInt(t),i[e]&&(r=i[e]),r[t]&&(r[t]=null),r[t]=n,i[e]=r,a.setState({threeDayData:i}),a.processingFunctions.concatAllGrowsData(a.concatAllData,i,a.state.userGrows,a.dataCheckLengths,a.setAllGrowsConcat)},a.setAllGrowsConcat=function(e,t){a.dataCheckLengths=t,a.concatAllData=e,a.processingFunctions.processAllGrowsData(a.concatAllData,a.state.userGrows,a.setAllGrowsProcessed,a.state.displayWindow)},a.setAllGrowsProcessed=function(e,t){a.setState({combinedProcessedData:e,processedData:t})},a.setDisplayWindow=function(e){a.setState({displayWindow:e}),a.processingFunctions.processAllGrowsData(a.concatAllData,a.state.userGrows,a.setAllGrowsProcessed,a.state.displayWindow);var t=a.state.user;t.PREFS.GRAPHS.AllGraph.timeWindow=e,a.postFirebaseUser(t)},a.setMainContent=function(e){a.setState({mainContent:e,journalID:null})},a.setGrow=function(e){console.log("APP Setgrow",e),a.setState({currentGrow:e,mainContent:"grows"})},a.setJournalID=function(e){console.log("APP SetJournalID",e),a.setState({mainContent:"journals",journalID:e})},a.handleSignOut=function(){a.setState({UID:null}),a.firebase.auth.signOut().then(function(){console.log("signed out"),window.location.reload()}).catch(function(e){console.log("Error signing out: ".concat(e))})},a.postFirebaseUser=function(e){a.setState({user:e}),a.dbHelper.setUser(e)},a.postLifetimeData=function(e,t,n,i,r){console.log("chunky post LifetimeData",e),a.dbHelper.postLifetimeData(e,t,n,i,r)},a.getUsername=function(){a.firebase.db.ref().child("users").child(a.state.UID).on("value",function(e){a.setState({username:e.val().username})},function(e){console.log("The username read failed: "+e.code)})},a.getMonthChunkData=function(e,t,n,i){a.dbHelper.getMonthChunk(e,t,n,i)},a.state={mainContent:"signin",UID:null,username:"",journalID:null,currentGrow:null,growID:null,displayWindow:2592e5,userJournals:[],liveGrowData:[],threeDayData:[],combinedProcessedData:[]},a.processingFunctions=new S,a.dbHelper=new E,a.firebase=new f,a.concatAllData=[],a.dataCheckLengths=[],a.firebase.auth.onAuthStateChanged(function(e){e&&(a.setState({UID:e.uid}),a.getUsername(),a.dbHelper.getLifetimeData(e.uid,a.setLifetimeData),a.dbHelper.getUser(e.uid,a.setUser),a.dbHelper.getUserGrows(a.setUserGrows),a.dbHelper.getUserJournals(a.setUserJournals))}),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-body"},function(){if(e.state.UID)return i.a.createElement(ue,{mainContent:e.state.mainContent,setMainContent:e.setMainContent,setGrow:e.setGrow,handleSignOut:e.handleSignOut,liveGrowData:e.state.liveGrowData,userGrows:e.state.userGrows})}(),i.a.createElement("div",{id:"App-Inner-Body"},i.a.createElement("div",{id:"App-Body-Content"},function(){if(e.state.UID&&e.state.userGrows&&e.state.user&&e.state.threeDayData&&e.state.liveGrowData)switch(e.state.mainContent){case"grows":return i.a.createElement(Z,{refreshGrows:e.refreshGrows,setJournalID:e.setJournalID,setDisplayWindow:e.setDisplayWindow,displayWindow:e.state.displayWindow,processedData:e.state.processedData,user:e.state.user,grow:e.state.currentGrow,growID:e.state.growID,userGrows:e.state.userGrows,liveGrowData:e.state.liveGrowData,rawGrowData:e.state.threeDayData});case"journals":return i.a.createElement(L,{setJournalID:e.setJournalID,journalID:e.state.journalID,userJournals:e.state.userJournals});case"lifetime":return i.a.createElement(ne,{postLifetimeData:e.postLifetimeData,getMonthChunkData:e.getMonthChunkData,user:e.state.user,lifetimeData:e.state.lifetimeData,userGrows:e.state.userGrows});case"tobytiles":return i.a.createElement(fe,null);default:return i.a.createElement(q,{postFirebaseUser:e.postFirebaseUser,setDisplayWindow:e.setDisplayWindow,combinedProcessedData:e.state.combinedProcessedData,userGrows:e.state.userGrows,user:e.state.user,threeDayData:e.state.threeDayData,liveGrowData:e.state.liveGrowData})}else switch(e.state.mainContent){case"signin":return i.a.createElement(D,{gotoSignUp:e.setMainContent});case"signup":return i.a.createElement(b,{gotoSignIn:e.setMainContent});default:return i.a.createElement(D,{gotoSignUp:e.setMainContent})}}()))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){e.exports=a.p+"static/media/co2svg.a32b87e8.svg"},75:function(e,t,a){e.exports=a.p+"static/media/tvoc-svg.c24c33a6.svg"}},[[246,1,2]]]);
//# sourceMappingURL=main.14f33d22.chunk.js.map