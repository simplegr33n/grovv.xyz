(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},180:function(e,t,a){e.exports=a.p+"static/media/corner-logo.5ece3763.png"},181:function(e,t){e.exports="data:image/png;base64,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"},223:function(e,t,a){e.exports=a(464)},228:function(e,t,a){},464:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(38),o=a.n(r),l=(a(228),a(7)),s=a(8),c=a(10),u=a(9),m=a(11),d=(a(15),a(52)),h=a.n(d),g=(a(275),a(279),a(465),{apiKey:"AIzaSyBJuUseKfGN_MjNEWg722WY1FsO2xZ1AuE",authDomain:"grovv-22cbd.firebaseapp.com",databaseURL:"https://grovv-22cbd.firebaseio.com",projectId:"grovv-22cbd",storageBucket:"grovv-22cbd.appspot.com",messagingSenderId:"30272449560"}),p=function e(){Object(l.a)(this,e),h.a.apps.length||h.a.initializeApp(g),this.db=h.a.database(),this.auth=h.a.auth(),this.storage=h.a.storage()},f=a(180),v=a.n(f),E=a(181),w=a.n(E),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(){console.log("SignIn submit pressed");var e=a.state.username,t=a.state.password;console.log("SignUp submit pressed - username ".concat(e)),a.validateEmail(e)?(a.setState({username:"",password:""}),a.hideSigninFields(),a.firebase.auth.signInWithEmailAndPassword(e,t).catch(function(e){var t=e.code,a=e.message;console.log("".concat(t,": ").concat(a)),alert("".concat(t,": ").concat(a)),this.setState({SHOWFIELDS:!0})}),console.log("username ".concat(e," - logged in")),a.props.signIn("journal")):alert("Bad email me thinks :(")},a.hideSigninFields=function(){a.setState({SHOWFIELDS:!1})},a.showSigninFields=function(){a.setState({SHOWFIELDS:!0})},a.state={username:"",password:"",SHOWFIELDS:!1},a.firebase=new p,a.firebase.auth.onAuthStateChanged(function(e){e||a.showSigninFields()}),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"validateEmail",value:function(e){return/^\S+@\S+$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/.test(String(e))}},{key:"render",value:function(){return this.state.SHOWFIELDS?i.a.createElement("div",{id:"signin-div"},i.a.createElement("h3",null,"Sign In"),i.a.createElement("div",null,"Email:",i.a.createElement("input",{id:"signin-username",value:this.state.username,onChange:this.handleUsernameChange})),i.a.createElement("div",null,"Password:",i.a.createElement("input",{type:"password",id:"signin-password",value:this.state.password,onChange:this.handlePasswordChange})),i.a.createElement("div",null,i.a.createElement("button",{id:"submit-signin-btn",onClick:this.handleSubmit}," Sign in! "))):i.a.createElement("div",null,"One Moment...")}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).hideSignupFields=function(){a.setState({SHOWFIELDS:!1})},a.showSignupFields=function(){a.setState({SHOWFIELDS:!0})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(){var e=a.state.username,t=a.state.password;return console.log("SignUp submit pressed - username ".concat(e)),a.validateEmail(e)?a.validatePassword(t)?void a.firebase.auth.createUserWithEmailAndPassword(e,t).catch(function(e){var t=e.code,a=e.message;console.log("".concat(t,": ").concat(a))}):(alert("Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character."),void a.setState({password:""})):(alert("Bad email me thinks :("),void a.setState({username:""}))},a.handleGotoSignIn=function(){a.props.gotoSignIn("signin"),console.log("Goto signin pressed")},a.state={username:"",password:"",SHOWFIELDS:!1},a.firebase=new p,a.firebase.auth.onAuthStateChanged(function(e){e?a.postUserToFirebase(e.uid,e.email):a.showSignupFields()}),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"postUserToFirebase",value:function(e,t){var a=(new Date).getTime(),n={uid:e,username:t,createdAt:a,updatedAt:a},i={};return i["/users/"+e]=n,this.firebase.db.ref().update(i)}},{key:"validateEmail",value:function(e){return/^\S+@\S+$/.test(String(e).toLowerCase())}},{key:"validatePassword",value:function(e){return/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/.test(String(e))}},{key:"render",value:function(){return this.state.SHOWFIELDS?i.a.createElement("div",{id:"signup-div"},i.a.createElement("h3",null,"Sign Up"),i.a.createElement("div",null,"Email:",i.a.createElement("input",{id:"signup-username",value:this.state.username,onChange:this.handleUsernameChange})),i.a.createElement("div",null,"Password:",i.a.createElement("input",{type:"password",id:"signup-password",value:this.state.password,onChange:this.handlePasswordChange})),i.a.createElement("div",null,i.a.createElement("button",{id:"submit-signup-btn",onClick:this.handleSubmit}," Sign up! ")),i.a.createElement("div",null,i.a.createElement("button",{id:"goto-signin-btn",onClick:this.handleGotoSignIn}," Sign in! "))):i.a.createElement("div",null,"One Moment...")}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handleSubmit=function(){},a.handleChangePassword=function(){alert("Sorry - request from reset admin for now.")},a.state={username:""},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"Profile-Page"},i.a.createElement("div",{id:"Profile-Page-Header"},i.a.createElement("div",null,"Email: ",i.a.createElement("b",null,this.props.username)),i.a.createElement("button",{onClick:this.handleChangePassword},"Change Password")))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"Chart-Page"},i.a.createElement("iframe",{id:"Food-Chart",title:"FoodChart",src:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQiIvBEmBjgIFQ_5vSAZJrzVTepyDpyDYeNrOrfqWOuraA_MHZE_sRLyGkcARlIYR-INkuwq667Seqe/pubhtml?widget=true&headers=false"}))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).saveConfig=function(){console.log("Saving config... (TODO)"),a.firebase.db.ref().child("grow").child("-LdG6gTCNZxfu1wU5Xvx").child("config").set({temp_min:a.state.temp_min,temp_max:a.state.temp_max,temp_hyst:a.state.temp_hyst,fan_min:a.state.fan_min,fan_max:a.state.fan_max,humidity_min:a.state.humidity_min,humidity_max:a.state.humidity_max,humidity_hyst:a.state.humidity_hyst,humidifier_min:a.state.humidifier_min,humidifier_max:a.state.humidifier_max})},a.watchConfig=function(){a.firebase.db.ref().child("grow").child("-LdG6gTCNZxfu1wU5Xvx").child("config").on("value",function(e){console.log(e.val()),a.setState({temp_min:e.val().temp_min,temp_max:e.val().temp_max,temp_hyst:e.val().temp_hyst,fan_min:e.val().fan_min,fan_max:e.val().fan_max,humidity_min:e.val().humidity_min,humidity_max:e.val().humidity_max,humidity_hyst:e.val().humidity_hyst,humidifier_min:e.val().humidifier_min,humidifier_max:e.val().humidifier_max}),a.render()},function(e){console.log("follow config failed: "+e.code)})},a.handleTempMinChange=function(e){a.setState({temp_min:e.target.value})},a.handleTempMaxChange=function(e){a.setState({temp_max:e.target.value})},a.handleTempHystChange=function(e){a.setState({temp_hyst:e.target.value})},a.handleFanMinChange=function(e){a.setState({fan_min:e.target.value})},a.handleFanMaxChange=function(e){a.setState({fan_max:e.target.value})},a.handleHumidityMinChange=function(e){a.setState({humidity_min:e.target.value})},a.handleHumidityMaxChange=function(e){a.setState({humidity_max:e.target.value})},a.handleHumidityHystChange=function(e){a.setState({humidity_hyst:e.target.value})},a.handleHumidifierMinChange=function(e){a.setState({humidifier_min:e.target.value})},a.handleHumidifierMaxChange=function(e){a.setState({humidifier_max:e.target.value})},a.state={temp_min:"",temp_max:"",temp_hyst:"",fan_min:"",fan_max:"",humidity_min:"",humidity_max:"",humidity_hyst:"",humidifier_min:"",humidifier_max:""},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.watchConfig=this.watchConfig()}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){return i.a.createElement("div",{id:"Config-Page"},i.a.createElement("h1",null,"Grow Config"),i.a.createElement("div",{id:"Config-Temp-Field"},i.a.createElement("h2",null,"TEMPERATURE"),i.a.createElement("div",{id:"Config-Temp-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"temp-min",value:this.state.temp_min,onChange:this.handleTempMinChange}),"\xb0C"),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"temp-max",value:this.state.temp_max,onChange:this.handleTempMaxChange}),"\xb0C"),i.a.createElement("div",null,"Hyst:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"temp-hyst",value:this.state.temp_hyst,onChange:this.handleTempHystChange}),"\u0394\xb0C")),i.a.createElement("h3",null,"FAN POWER"),i.a.createElement("div",{id:"Config-Fan-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"fan-min",value:this.state.fan_min,onChange:this.handleFanMinChange}),"%"),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"fan-max",value:this.state.fan_max,onChange:this.handleFanMaxChange}),"%"))),i.a.createElement("div",{id:"Config-Humidity-Field"},i.a.createElement("h2",null,"HUMIDITY"),i.a.createElement("div",{id:"Config-Humidity-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidity-min",value:this.state.humidity_min,onChange:this.handleHumidityMinChange}),"% R.H."),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidity-max",value:this.state.humidity_max,onChange:this.handleHumidityMaxChange}),"% R.H."),i.a.createElement("div",null,"Hyst:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidity-hyst",value:this.state.humidity_hyst,onChange:this.handleHumidityHystChange}),"\u0394 % R.H.")),i.a.createElement("h3",null,"HUMIDIFIER POWER"),i.a.createElement("div",{id:"Config-Humidifier-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidifier-min",value:this.state.humidifier_min,onChange:this.handleHumidifierMinChange}),"%"),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidifier-max",value:this.state.humidifier_max,onChange:this.handleHumidifierMaxChange}),"%"))),i.a.createElement("div",{id:"SAVE-CONFIG-BTN",onClick:this.saveConfig},"SAVE"))}}]),t}(n.Component),S=a(196),j=(a(287),a(197)),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleTitleChange=function(e){a.setState({title:e.target.value})},a.handleContentChange=function(e){a.setState({content:e.target.value})},a.cancelModal=function(){a.deleteAllAddedImages(),a.props.closeModal(a.state.entryID)},a.saveEntry=function(){if(""!==a.state.content||0!==a.state.images.length){a.setState({published:!0});var e=a.firebase.db.ref().child("journals").child(a.state.journalID).child("entries"),t=(new Date).getTime(),n=a.state.trueDate,i=n.getMonth()+1+"-";2===i.length&&(i="0"+i);var r=i+n.getDate()+"-"+n.getFullYear();e.child(a.state.entryID).set({id:a.state.entryID,title:a.state.title,published:!0,content:a.state.content,grow_stage:a.state.growStage,datetime_post:a.state.postDate.getTime(),datetime_edit:t,datetime_true:a.state.trueDate.getTime(),datetime_short:r,journal_id:a.state.journalID,images:a.state.images}),console.log("set journal entry "+a.state.entryID);var o=a.firebase.db.ref().child("journals").child(a.state.journalID),l=a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("journals").child(a.state.journalID),s=new Date;o.child("updatedAt").set(s.getTime()),l.child("updatedAt").set(s.getTime()),a.props.closeModal(a.state.entryID)}else alert("Needs content or images!")},a.displayFullImage=function(){console.log("JournalAddEditModal todo")},a.handleImageUpload=function(e){var t=a.firebase.storage.ref().child("journals").child("-LdG6gTCNZxfu1wU5Xvx/");console.log("filename:"+e.name);var n={contentType:e.type};t.child(a.state.postDate.getTime()+e.name).put(e,n).then(function(e){return e.ref.getDownloadURL()}).then(function(e){console.log(e);var t=e.split("%2F"),n=t[0]+"%2F"+t[1]+"%2Fthumb_"+t[2];console.log(n);var i=a.state.images,r=a.state.addedImages;i.push({url:e,thumb:n}),r.push({url:e,thumb:n}),a.setState({images:i,addedImages:r})}).then(function(){})},a.deleteImage=function(e){var t=e.target.dataset.value;console.log(t),console.log(a.state.images);var n=[];a.state.images.forEach(function(e){e.url.toString()===t?(a.deleteImageFromFirebase(e.url),a.deleteImageFromFirebase(e.thumb)):n.push(e)}),a.setState({images:n})},a.deleteAllAddedImages=function(){a.state.addedImages.forEach(function(e){a.deleteImageFromFirebase(e.url),a.deleteImageFromFirebase(e.thumb)})},a.deleteImageFromFirebase=function(e){a.firebase.storage.refFromURL(e).delete().then(function(){console.log("deleted "+e+"successfully :)")}).catch(function(t){console.log("deleted "+e+"error :(")})},a.handleDateChange=function(e){a.setState({trueDate:e})},a.handleGrowStageChange=function(e){a.setState({growStage:e.target.value})},a.state={title:"",content:"",images:[],addedImages:[],journalID:a.props.journalID,postDate:new Date,trueDate:new Date,growStage:"veg",published:!1,entryID:""},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(console.log(this.props.editPost),console.log(this.state.journalID),"new"!==this.props.editPost){console.log(this.props.editPost);var e=new Date(this.props.editPost.datetime_true),t=this.props.editPost.content,a=this.props.editPost.title,n=new Date(this.props.editPost.datetime_post),i=this.props.editPost.images;null!==i&&void 0!==i||(i=[]);var r=this.props.editPost.grow_stage,o=this.props.editPost.id;this.setState({title:a,content:t,trueDate:e,postDate:n,growStage:r,images:i,entryID:o,published:!0})}else{var l=this.firebase.db.ref().child("journals").child(this.props.journalID).push().key;this.setState({entryID:l})}}},{key:"onImageDrop",value:function(e){var t=this;console.log(e),e.forEach(function(e){t.handleImageUpload(e),console.log("upload "+e)})}},{key:"render",value:function(){var e=this;if(this.state.images)var t=this.state.images.map(function(t,a){return i.a.createElement("div",{className:"Temp-Image-Div"},i.a.createElement("img",{key:a,alt:"grow img","data-value":t.url,src:t.url,className:"Journal-Entry-Preview-Thumbnail",onClick:e.displayFullImage}),i.a.createElement("div",{"data-value":t.url,onClick:e.deleteImage,className:"Delete-Image-Btn"},"X"))});return i.a.createElement("div",{id:"Journal-Modal-Space"},i.a.createElement("div",{id:"Journal-Edit-Entry-Modal"},i.a.createElement("div",{id:"Journal-Edit-Topline"},i.a.createElement("input",{className:"journal-modal-edit-title",placeholder:"enter title...",value:this.state.title,onChange:this.handleTitleChange}),i.a.createElement(S.a,{id:"journal-edit-datepicker",selected:this.state.trueDate,onChange:this.handleDateChange}),i.a.createElement("select",{id:"journal-edit-grow-stage",onChange:this.handleGrowStageChange,value:this.state.growStage},i.a.createElement("option",{value:"post"},"Post"),i.a.createElement("option",{value:"flower"},"Flower"),i.a.createElement("option",{value:"veg"},"Veg"),i.a.createElement("option",{value:"seedling"},"Seedling"),i.a.createElement("option",{value:"pre"},"Pre"))),i.a.createElement("textarea",{className:"journal-modal-edit-body",placeholder:"enter body content...",value:this.state.content,onChange:this.handleContentChange}),i.a.createElement("div",{className:"journal-add-images-area"},i.a.createElement(j.a,{className:"journal-add-images-dropzone",onDrop:this.onImageDrop.bind(this),accept:"image/*",multiple:!0},function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("div",t(),i.a.createElement("input",a()),i.a.createElement("p",{id:"Image-Drop-Text"},"Try dropping some ",i.a.createElement("br",null)," images ",i.a.createElement("span",{role:"img","aria-label":"camera"},"\ud83d\udcf7")," here, ",i.a.createElement("br",null),"or click to ",i.a.createElement("br",null)," select files."))}),function(){if(t)return i.a.createElement("div",{className:"Journal-Edit-Post-Images"},t)}()),i.a.createElement("div",{id:"journal-cancel-save-btns"},i.a.createElement("button",{className:"journal-cancel-btn",onClick:this.cancelModal},"Cancel"),i.a.createElement("button",{className:"journal-save-entry-btn",onClick:this.saveEntry},"Save Entry"))))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).closeModal=function(){a.props.closeModal("")},a.nextImage=function(){a.state.fullSizeList.forEach(function(e,t){e!==a.state.currentImage||t<a.state.fullSizeList.length-1&&a.setState({currentImage:a.state.fullSizeList[t+1]})})},a.previousImage=function(){a.state.fullSizeList.forEach(function(e,t){e!==a.state.currentImage||t>0&&a.setState({currentImage:a.state.fullSizeList[t-1]})})},a.state={imageList:a.props.imageList,currentImage:a.props.currentFullImage,fullSizeList:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(this.props.imageList){var e=[];this.props.imageList.forEach(function(t){e[e.length]=t.url}),this.setState({fullSizeList:e})}}},{key:"render",value:function(){return console.log("FULLIMAGE MODAL!"),console.log(this.state.imageList),console.log(this.state.currentImage),i.a.createElement("div",{id:"Full-Image-Modal-Space"},i.a.createElement("img",{id:"Full-Image-Image",alt:"full size",src:this.state.currentImage}),i.a.createElement("button",{onClick:this.closeModal,id:"Full-Image-Close-Btn"},"x"),i.a.createElement("button",{onClick:this.previousImage,id:"Full-Image-Last-Btn"},"\u2264"),i.a.createElement("button",{onClick:this.nextImage,id:"Full-Image-Next-Btn"},"\u2265"))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleJournalNameChange=function(e){a.setState({journalName:e.target.value})},a.cancelModal=function(){a.props.setJournalID(null)},a.createJournal=function(){if(""!==a.state.journalName){var e=a.firebase.db.ref().child("journals").push(),t=a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("journals").child(e.key),n=e.key,i=a.state.journalName,r=new Date;a.setState({journalID:n}),e.set({id:n,name:i,updatedAt:r.getTime(),createdAt:r.getTime(),previewImage:"https://via.placeholder.com/160x120?text=NO+PREVIEW"}),t.set({id:n,name:i,updatedAt:r.getTime(),createdAt:r.getTime(),previewImage:"https://via.placeholder.com/160x120?text=NO+PREVIEW"}),a.props.setJournalID(n)}else alert("Journal needs a name!")},a.state={journalName:"",journalID:a.props.journalID},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{id:"Journal-Modal-Space"},i.a.createElement("div",{id:"Journal-Create-Modal"},i.a.createElement("input",{className:"journal-modal-journal-name",placeholder:"enter journal name...",value:this.state.journalName,onChange:this.handleJournalNameChange}),i.a.createElement("div",{id:"journal-create-btns"},i.a.createElement("button",{className:"journal-cancel-create-btn",onClick:this.cancelModal},"Cancel"),i.a.createElement("button",{className:"journal-create-journal-btn",onClick:this.createJournal},"Create Journal"))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setEntries=function(){a.props.setEntries(a.props.entries)},a.state={journalName:"",journalID:a.props.journalID,monthDayDate:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(this.props.entry){var e=new Date(this.props.entry.datetime_true),t=e.getMonth()+1+"-";2===t.length&&(t="0"+t);var a=t+e.getDate();this.setState({monthDayDate:a})}}},{key:"render",value:function(){var e=this,t=this.props.entry.grow_stage,a="Timeline-Dot-"+t.charAt(0).toUpperCase()+t.slice(1),n=!1;this.props.currentEntryID===this.props.entry.id&&(n=!0);var r=this.props.entry.datetime_short.split("-"),o=r[0]+"-"+r[1],l=new Date(this.props.entry.datetime_true).toDateString(),s=null;return this.props.entries[0].images&&(s=this.props.entries[0].images[0].thumb),i.a.createElement("div",null,function(){if(n)return i.a.createElement("div",{className:"Timeline-Dot-Connector"},i.a.createElement("div",{className:"Dot-Connector-Text-rotate-180"},o))}(),i.a.createElement("button",{"data-value":this.props.entries,id:a,className:"Timeline-Dot",onClick:this.setEntries},function(){if(!n)return i.a.createElement("div",{className:"Dot-Preview-rotate-180"},i.a.createElement("div",{className:"Dot-Preview-Window"},i.a.createElement("div",{className:"Dot-Preview-Date-String"},l),function(){if(s)return i.a.createElement("img",{alt:"journal preview",src:s,className:"Preview-Image-Thumbnail",onClick:e.displayFullImage})}()))}()))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).openJournal=function(){a.props.openJournal(a.props.journal)},a.state={journal:a.props.journal},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=new Date(this.props.journal.createdAt).toDateString(),t=new Date(this.props.journal.updatedAt),a=t.getHours().toString();1===a.length&&(a="0"+a);var n=t.getMinutes().toString();1===n.length&&(n="0"+n);var r=t.toDateString()+" - "+a+":"+n;return i.a.createElement("div",{className:"Journal-Box-Item","data-value":this.props.journal.id,onClick:this.openJournal},i.a.createElement("div",{className:"Journal-Box-Item-Main"},i.a.createElement("div",{className:"Journal-Box-Item-Header"},i.a.createElement("div",null,this.props.journal.name),i.a.createElement("div",{className:"Journal-Box-Created"},"updated: ",i.a.createElement("i",null,i.a.createElement("b",null,r)))),i.a.createElement("div",{className:"Journal-Box-Info"},"created: ",i.a.createElement("i",null,i.a.createElement("b",null,e)))),i.a.createElement("img",{alt:"preview",src:this.props.journal.previewImage,className:"Journal-Box-Preview-Image"}))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).displayFullImage=function(e){a.props.displayFullImage(a.props.currentEntry.images),a.props.currentFullImage(e.target.dataset.value)},a.editEntryByID=function(e){a.props.editEntryByID(e.target.dataset.value)},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.currentEntry&&this.state.currentEntry.id===e.currentEntry.id||this.setState({currentEntry:e.currentEntry})}},{key:"render",value:function(){var e=this,t=null;this.props.currentEntry&&this.props.currentEntry.images&&(t=this.props.currentEntry.images.map(function(t,a){return i.a.createElement("img",{key:a,alt:"grow img","data-value":t.url,src:t.thumb,className:"Journal-Entry-Thumbnail",onClick:e.displayFullImage})}));var a=null;return this.props.currentEntry&&""!==this.props.currentEntry&&(a=new Date(this.props.currentEntry.datetime_true)),i.a.createElement("div",{className:"Journal-Post-View"},i.a.createElement("div",{className:"Journal-Post-Header"},i.a.createElement("div",{className:"Journal-Post-Date"},a.toDateString()),i.a.createElement("div",{className:"Journal-Post-Title"},this.props.currentEntry.title),i.a.createElement("button",{className:"Journal-Edit-Post-Btn","data-value":this.props.currentEntry.id,onClick:this.editEntryByID},"edit \u270e")),i.a.createElement("div",{className:"Journal-Post-Content"},this.props.currentEntry.content),function(){if(t)return i.a.createElement("div",{className:"Journal-Post-Images-Wrapper"},i.a.createElement("div",{className:"Journal-Post-Images"},t))}())}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).watchJournals=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("journals").on("value",function(e){var t=[];e.forEach(function(e){t.push(e.val())}),console.log("Journals List:"),console.log(t),t.sort(function(e,t){return e.updatedAt<t.updatedAt?1:-1}),a.setState({userJournals:t})},function(e){console.log("watch user journals failed: "+e.code)})},a.watchEntries=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.journalID,t=a.firebase.db.ref().child("journals").child(e).child("entries");console.log("watchin... "+e),t.on("value",function(e){var t=[];e.forEach(function(e){t.push(e.val())}),t.sort(function(e,t){return e.datetime_true>t.datetime_true?1:-1});var n=[];t.forEach(function(e){n.includes(e.datetime_short)||(n[n.length]=e.datetime_short)});var i=[];n.forEach(function(e){var a=[];t.forEach(function(t){e===t.datetime_short&&(a[a.length]=t)}),i[i.length]=a}),t.length>0?a.setState({currentEntry:t[t.length-1],currentEntryID:t[t.length-1].id,timelineEntries:t,timelineDots:i,displayEntries:i[i.length-1]}):a.setState({currentEntry:null,currentEntryID:null,timelineEntries:[],timelineDots:[],displayEntries:[]}),a.setEntries(i[i.length-1])},function(e){console.log("follow journal failed: "+e.code)})},a.addTimelineEntry=function(){a.setState({displayContent:"add"})},a.editEntryByID=function(e){console.log("edit: "+e),console.log(e),a.state.timelineEntries.forEach(function(t){t.id!==e||a.setState({currentEntry:t,currentEntryID:t.id,displayContent:"edit"})})},a.openFullImageModal=function(e){a.setState({displayContent:"full-image",fullImageModalImages:e})},a.openFullImage=function(e){console.log("imageURL"),console.log(e),a.setState({currentFullImage:e})},a.closeModal=function(e){e&&""!==e?(a.setState({displayContent:"main"}),a.state.timelineEntries.forEach(function(t){t.id!==e||a.setState({currentEntry:t,currentEntryID:t.id})})):a.setState({displayContent:"main"})},a.setJournalID=function(e){if(null===e)return a.setState({displayContent:"main"}),void a.props.setJournalID(null);a.setState({displayContent:"main",journalID:e}),a.props.setJournalID(e),a.watchEntries(e)},a.setEntries=function(e){e&&a.setState({currentEntry:e[0],currentEntryID:e[0].id,displayEntries:e})},a.handleJournalChange=function(e){console.log("JOURNAL CHANGE!!!!"),console.log(e.target.value),a.setState({currentEntry:null,currentEntryID:null,displayEntries:[]}),a.props.setJournalID(e.target.value),a.watchEntries(e.target.value)},a.openCreateJournalModal=function(){a.setState({displayContent:"create-journal"})},a.openJournal=function(e){a.setState({journalID:e.id}),a.props.setJournalID(e.id),a.watchEntries(e.id)},a.state={displayContent:"main",displayEntries:[],currentEntry:null,currentEntryID:null,testContent:"",timelineEntries:[],userJournals:[],journalID:a.props.journalID,fullImageModalImages:null,currentFullImage:null},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.watchJournals=this.watchJournals(),this.props.journalID&&this.watchEntries(this.props.journalID)}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this,t="";this.state.userJournals.length>0&&(t=this.state.userJournals.map(function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}));var a=null;this.state.userJournals&&(a=this.state.userJournals.map(function(t){return i.a.createElement("div",{key:t.id,className:"Journal-Box-Item-Container"},i.a.createElement(M,{journal:t,openJournal:e.openJournal}))}));var n=null;this.state.displayEntries&&(n=this.state.displayEntries.map(function(t){return i.a.createElement(A,{key:t.id,editEntryByID:e.editEntryByID,currentEntry:t,currentFullImage:e.openFullImage,displayFullImage:e.openFullImageModal})}));var r=null;return this.state.timelineDots&&(r=this.state.timelineDots.map(function(t){return i.a.createElement(B,{key:t[0].datetime_short,currentEntryID:e.state.currentEntryID,setEntries:e.setEntries,entry:t[0],entries:t})})),i.a.createElement("div",{id:"Journal-Page"},i.a.createElement("div",{id:"Journal-Main"},i.a.createElement("div",{id:"Grow-Journal-Main-Area"},function(){if(null===e.props.journalID)return i.a.createElement("div",{id:"Grow-Journal-Header-Area"},i.a.createElement("div",{id:"Grow-Journal-Header-Text"},"Grow Journals"),i.a.createElement("button",{className:"New-Journal-Btn",onClick:e.openCreateJournalModal},"+"))}(),function(){if(a&&!e.props.journalID)return i.a.createElement("div",{id:"Journal-Box-Area-Scroll"},i.a.createElement("div",{id:"Journal-Box-Area"},a))}(),function(){if(t&&e.props.journalID)return i.a.createElement("div",{className:"Grow-Journal-Title-Div"},i.a.createElement("select",{id:"Grow-Journal-Title-Select",onChange:e.handleJournalChange,value:e.props.journalID},t),i.a.createElement("button",{className:"New-Journal-Btn",onClick:e.openCreateJournalModal},"+"))}(),function(){if(e.props.journalID)return i.a.createElement("div",{id:"Journal-Posts-Container"},n?i.a.createElement("div",null,n):i.a.createElement("div",{className:"Journal-Post-View"},"Let's get some journal entries..."))}()),function(){if(e.props.journalID)return i.a.createElement("div",{id:"Timeline-Container"},i.a.createElement("div",{id:"Timeline-Inner-Container"},i.a.createElement("div",{id:"Timeline-Line"}),i.a.createElement("div",{id:"Timeline-Spots"},r,i.a.createElement("button",{id:"Timeline-Add-Dot",onClick:e.addTimelineEntry},"+"))))}()),function(){switch(e.state.displayContent){case"add":return i.a.createElement(x,{journalID:e.props.journalID,closeModal:e.closeModal,editPost:"new"});case"edit":return i.a.createElement(x,{journalID:e.props.journalID,closeModal:e.closeModal,editPost:e.state.currentEntry});case"full-image":return i.a.createElement(N,{closeModal:e.closeModal,imageList:e.state.fullImageModalImages,currentFullImage:e.state.currentFullImage});case"create-journal":return i.a.createElement(G,{journalID:e.props.journalID,setJournalID:e.setJournalID});case"main":default:return i.a.createElement("div",null)}}())}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={journalName:"",journalID:a.props.journalID},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=null,t=null,a=null,n=null;return this.props.liveData&&(e=this.props.liveData.cTemp,e=Math.round(10*e)/10,t=this.props.liveData.fanSpeed,a=this.props.liveData.humiPower,n=this.props.liveData.humidity,n=Math.round(10*n)/10),i.a.createElement("div",{id:"Grow-Data-Display"},function(){if(e){var t=null;return t=e>20&&e<27?"Data-Optimal-Background":e<=19&&e>28?"Data-Danger-Background":"Data-Warning-Background",i.a.createElement("div",{className:"Grow-Box-Info-Section"},i.a.createElement("div",{className:"Grow-Box-Info-Type"},"TEMP"),i.a.createElement("div",{className:"Grow-Box-Dot-Lead"},i.a.createElement("div",{className:"Grow-Box-Dot-Lead-Dots"})),i.a.createElement("div",{className:t},i.a.createElement("div",{className:"Grow-Box-Info-Data"},i.a.createElement("div",{className:"Grow-Box-Data-Raw"},e),i.a.createElement("div",{className:"Horizontal-20px-Gap"}),i.a.createElement("div",{className:"Grow-Box-Data-Unit"},"\xb0C"))))}}(),function(){if(t)return i.a.createElement("div",{className:"Grow-Box-Info-Section"},i.a.createElement("div",{className:"Grow-Box-Info-Type"},"FAN SPEED"),i.a.createElement("div",{className:"Grow-Box-Dot-Lead"},i.a.createElement("div",{className:"Grow-Box-Dot-Lead-Dots"})),i.a.createElement("div",{className:"Data-Neutral-Background"},i.a.createElement("div",{className:"Grow-Box-Info-Data"},i.a.createElement("div",{className:"Grow-Box-Data-Raw"},t),i.a.createElement("div",{className:"Horizontal-20px-Gap"}),i.a.createElement("div",{className:"Grow-Box-Data-Unit"},"%"))))}(),function(){if(n){var e=null;return e=n>30&&n<43?"Data-Optimal-Background":n<=27&&n>45?"Data-Danger-Background":"Data-Warning-Background",i.a.createElement("div",{className:"Grow-Box-Info-Section"},i.a.createElement("div",{className:"Grow-Box-Info-Type"},"HUMIDITY"),i.a.createElement("div",{className:"Grow-Box-Dot-Lead"},i.a.createElement("div",{className:"Grow-Box-Dot-Lead-Dots"})),i.a.createElement("div",{className:e},i.a.createElement("div",{className:"Grow-Box-Info-Data"},i.a.createElement("div",{className:"Grow-Box-Data-Raw"},n),i.a.createElement("div",{className:"Horizontal-20px-Gap"}),i.a.createElement("div",{className:"Grow-Box-Data-Unit"},"%RH"))))}}(),function(){if(a)return i.a.createElement("div",{className:"Grow-Box-Info-Section"},i.a.createElement("div",{className:"Grow-Box-Info-Type"},"HUMIDIFIER"),i.a.createElement("div",{className:"Grow-Box-Dot-Lead"},i.a.createElement("div",{className:"Grow-Box-Dot-Lead-Dots"})),i.a.createElement("div",{className:"Data-Neutral-Background"},i.a.createElement("div",{className:"Grow-Box-Info-Data"},i.a.createElement("div",{className:"Grow-Box-Info-Data"},i.a.createElement("div",{className:"Grow-Box-Data-Raw"},a),i.a.createElement("div",{className:"Horizontal-20px-Gap"}),i.a.createElement("div",{className:"Grow-Box-Data-Unit"},"%")))))}())}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).watchPiCam=function(){var e=0;setInterval(function(){var t="http://96.52.249.69:300/html/cam_pic.php?time="+(++e).toString();a.setState({camURL:t})},5e3)},a.getLiveData=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("grows").child("-LdG6gTCNZxfu1wU5Xvx").child("sensors_live").child("flower").on("value",function(e){var t=e.val();a.setState({liveData:t}),a.checkActive(t.time)},function(e){console.log("grow box get live data failed: "+e.code)})},a.getVeggerData=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("grows").child("-LdG6gTCNZxfu1wU5Xvx").child("sensors_live").child("vegger").on("value",function(e){var t=e.val();a.setState({liveData:t}),a.checkActive(t.time)},function(e){console.log("grow box get live data failed: "+e.code)})},a.openFullCam=function(e){a.props.openFullCam(e.target.dataset.value)},a.openGrow=function(){a.props.openGrow(a.props.grow)},a.openMainPage=function(e){console.log("openMainPage"),console.log(e.target.dataset.value),a.props.openMainPage(e.target.dataset.value)},a.checkActive=function(e){if(e){var t=new Date-new Date(e).getTime();t>=12e4&&a.setState({activeIndicatorStyle:"Grow-Active-Indicator-Circle Data-Warning-Background"}),t>=24e4&&a.setState({activeIndicatorStyle:"Grow-Active-Indicator-Circle Data-Danger-Background"}),t<12e4&&a.setState({activeIndicatorStyle:"Grow-Active-Indicator-Circle Data-Optimal-Background"})}else console.log("NO LAST UPDATE ERROR")},a.state={grow:a.props.grow,liveData:[],activeIndicatorStyle:"Grow-Active-Indicator-Circle",camURL:null},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){"-LdtfBTlG6Fgg-ADD8-b"===this.props.grow.id?(this.getLiveData(),this.watchPiCam()):this.getVeggerData(),this.props.grow.urls.cam&&this.setState({camURL:this.props.grow.urls.cam})}},{key:"render",value:function(){var e=this,t=null;if(this.state.liveData){var a=new Date(this.state.liveData.time),n=a.getHours().toString();1===n.length&&(n="0"+n);var r=a.getMinutes().toString();1===r.length&&(r="0"+r),t=a.toDateString()+" - "+n+":"+r}return i.a.createElement("div",{className:"Grow-Box-Item"},i.a.createElement("div",{className:"Grow-Box-Cam-Div"},i.a.createElement("div",{className:"Grow-Box-Cam-Full-Btn","data-value":this.props.grow.urls.cam,onClick:this.openFullCam},"\u26f6"),i.a.createElement("img",{className:"Grow-Box-Cam",alt:"cam",src:this.state.camURL,width:"100%",height:"100%",style:{objectFit:"contain",cursor:"pointer"},onClick:this.openGrow})),i.a.createElement("div",{className:"Grow-Box-Item-Main"},i.a.createElement("div",{className:"Grow-Box-Item-Header"},i.a.createElement("div",{className:"Grow-Box-Grow-Name",onClick:this.openGrow},this.props.grow.name),i.a.createElement("div",{className:"Grow-Box-Updated"},"updt: ",i.a.createElement("i",null,i.a.createElement("b",null,t)),i.a.createElement("div",{className:this.state.activeIndicatorStyle}))),i.a.createElement("div",{className:"Grow-Box-Function-Btns"},i.a.createElement("button",{className:"Grow-Box-Function-Btn","data-value":"graphs",onClick:this.openMainPage},"DATA ",i.a.createElement("span",{role:"img","aria-label":"grow data icon"},"\ud83d\udcc8")),i.a.createElement("button",{className:"Grow-Box-Function-Btn","data-value":"config",onClick:this.openMainPage},"CONFIG ",i.a.createElement("span",{role:"img","aria-label":"grow config icon"},"\ud83d\udcbb")),i.a.createElement("button",{className:"Grow-Box-Function-Btn-Feed","data-value":"feed",onClick:this.openMainPage},"FEED \u2593\u2593"),i.a.createElement("button",{className:"Grow-Box-Function-Btn-Edit-Feed","data-value":"edit-feed",onClick:this.openMainPage},"\u270e")),i.a.createElement("div",{className:"Grow-Box-Info"},i.a.createElement("div",{className:"Grow-Box-Info-Text-Area"},function(){if(e.state.liveData)return i.a.createElement(O,{liveData:e.state.liveData})}()),i.a.createElement("img",{alt:"preview",src:this.props.grow.previewImage,className:"Grow-Box-Preview-Image"}))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).saveConfig=function(){console.log("Saving config... (TODO)"),a.firebase.db.ref().child("grow").child("-LdG6gTCNZxfu1wU5Xvx").child("config").set({temp_min:a.state.temp_min,temp_max:a.state.temp_max,temp_hyst:a.state.temp_hyst,fan_min:a.state.fan_min,fan_max:a.state.fan_max,humidity_min:a.state.humidity_min,humidity_max:a.state.humidity_max,humidity_hyst:a.state.humidity_hyst,humidifier_min:a.state.humidifier_min,humidifier_max:a.state.humidifier_max})},a.watchConfig=function(){a.firebase.db.ref().child("grow").child("-LdG6gTCNZxfu1wU5Xvx").child("config").on("value",function(e){console.log(e.val()),a.setState({temp_min:e.val().temp_min,temp_max:e.val().temp_max,temp_hyst:e.val().temp_hyst,fan_min:e.val().fan_min,fan_max:e.val().fan_max,humidity_min:e.val().humidity_min,humidity_max:e.val().humidity_max,humidity_hyst:e.val().humidity_hyst,humidifier_min:e.val().humidifier_min,humidifier_max:e.val().humidifier_max}),a.render()},function(e){console.log("follow config failed: "+e.code)})},a.handleTempMinChange=function(e){a.setState({temp_min:e.target.value})},a.handleTempMaxChange=function(e){a.setState({temp_max:e.target.value})},a.handleTempHystChange=function(e){a.setState({temp_hyst:e.target.value})},a.handleFanMinChange=function(e){a.setState({fan_min:e.target.value})},a.handleFanMaxChange=function(e){a.setState({fan_max:e.target.value})},a.handleHumidityMinChange=function(e){a.setState({humidity_min:e.target.value})},a.handleHumidityMaxChange=function(e){a.setState({humidity_max:e.target.value})},a.handleHumidityHystChange=function(e){a.setState({humidity_hyst:e.target.value})},a.handleHumidifierMinChange=function(e){a.setState({humidifier_min:e.target.value})},a.handleHumidifierMaxChange=function(e){a.setState({humidifier_max:e.target.value})},a.state={temp_min:"",temp_max:"",temp_hyst:"",fan_min:"",fan_max:"",humidity_min:"",humidity_max:"",humidity_hyst:"",humidifier_min:"",humidifier_max:""},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.watchConfig=this.watchConfig()}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){return i.a.createElement("div",{id:"Grow-Details-Config-Page"},i.a.createElement("div",{id:"Grow-Details-Config-Header-Text"},"Grow Config"),i.a.createElement("div",{id:"Grow-Details-Config-Scroll"},i.a.createElement("div",{id:"Config-Temp-Field"},i.a.createElement("h2",null,"TEMPERATURE"),i.a.createElement("div",{id:"Config-Temp-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"temp-min",value:this.state.temp_min,onChange:this.handleTempMinChange}),"\xb0C"),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"temp-max",value:this.state.temp_max,onChange:this.handleTempMaxChange}),"\xb0C"),i.a.createElement("div",null,"Hyst:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"temp-hyst",value:this.state.temp_hyst,onChange:this.handleTempHystChange}),"\u0394\xb0C")),i.a.createElement("h3",null,"FAN POWER"),i.a.createElement("div",{id:"Config-Fan-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"fan-min",value:this.state.fan_min,onChange:this.handleFanMinChange}),"%"),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"fan-max",value:this.state.fan_max,onChange:this.handleFanMaxChange}),"%"))),i.a.createElement("div",{id:"Config-Humidity-Field"},i.a.createElement("h2",null,"HUMIDITY"),i.a.createElement("div",{id:"Config-Humidity-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidity-min",value:this.state.humidity_min,onChange:this.handleHumidityMinChange}),"% R.H."),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidity-max",value:this.state.humidity_max,onChange:this.handleHumidityMaxChange}),"% R.H."),i.a.createElement("div",null,"Hyst:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidity-hyst",value:this.state.humidity_hyst,onChange:this.handleHumidityHystChange}),"\u0394 % R.H.")),i.a.createElement("h3",null,"HUMIDIFIER POWER"),i.a.createElement("div",{id:"Config-Humidifier-Min-Max"},i.a.createElement("div",null,"Min:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidifier-min",value:this.state.humidifier_min,onChange:this.handleHumidifierMinChange}),"%"),i.a.createElement("div",null,"Max:",i.a.createElement("input",{type:"number",className:"Config-Input",id:"humidifier-max",value:this.state.humidifier_max,onChange:this.handleHumidifierMaxChange}),"%"))),i.a.createElement("div",{id:"GROW-DETAILS-SAVE-CONFIG-BTN",onClick:this.saveConfig},"SAVE")))}}]),t}(n.Component),T=a(21),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getGraphData=function(){var e=a.firebase.db.ref().child("sensor_data").child(a.props.growDeprecate),t=new Date,n=t.getFullYear().toString(),i=(t.getMonth()+1).toString();i.length<2&&(i="0"+i);var r=[],o=null,l=t.getDate();l-2>=1&&((o=l-2).toString().length<2&&(o="0"+o),r[r.length]=o),l-1>=1&&((o=l-1).toString().length<2&&(o="0"+o),r[r.length]=o),l.toString().length<2&&(l="0"+l),r[r.length]=l;var s=[],c=0;r.forEach(function(t){console.log("read day!"),console.log(t),e.child(n).child(i).child(t).on("value",function(e){e.forEach(function(e){e.forEach(function(e){++c%10!==0&&0!==c||(s[s.length]=e.val())})}),s.sort(function(e,t){return e.time>t.time?1:-1}),t===l&&(console.log("Test 3-day Datapoints to render..."),console.log(s.length),console.log(s[0]),a.setState({data:s}))})})},a.state={data:[]},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"componentDidUpdate",value:function(){this.props.growDeprecate&&this.props.growDeprecate!==this.growDeprecate&&(console.log("GRAPH SENSORS GROW DEPRECATE (TODO: REMOVE)!"),console.log(this.props.growDeprecate),this.growDeprecate=this.props.growDeprecate,this.getGraphData=this.getGraphData())}},{key:"render",value:function(){var e=null;if(this.state.data&&this.props.parentSize){var t=Math.floor(.95*this.props.parentSize[0]),a=Math.floor(.9*this.props.parentSize[1]);e=i.a.createElement(T.c,{width:t,height:a,data:this.state.data},i.a.createElement(T.b,{type:"monotone",dataKey:"cTemp",stroke:"#ca2014",dot:!1}),i.a.createElement(T.b,{type:"monotone",dataKey:"fanSpeed",stroke:"#db5e24",dot:!1}),i.a.createElement(T.b,{type:"monotone",dataKey:"humidity",stroke:"#131366",dot:!1}),i.a.createElement(T.b,{type:"monotone",dataKey:"humiPower",stroke:"#8884d8",dot:!1}),i.a.createElement(T.a,{stroke:"#ccc",strokeDasharray:"5 5"}),i.a.createElement(T.e,{dataKey:"time"}),i.a.createElement(T.f,null),i.a.createElement(T.d,null))}return i.a.createElement("div",{className:"Chart-Page"},i.a.createElement("div",{className:"Chart-Container"},e))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={elementSize:[],growDeprecate:null},a.sizeUpdated=0,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0}},{key:"componentDidUpdate",value:function(){var e=new Date;if(e.getTime()-this.sizeUpdated>5e3){var t=[this.divRef.clientWidth,this.divRef.clientHeight];t!==this.state.elementSize&&(this.setState({elementSize:t}),this.sizeUpdated=e.getTime())}this.props.growDeprecate&&this.state.growDeprecate!==this.props.growDeprecate&&this.setState({growDeprecate:this.props.growDeprecate})}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"Grow-Details-Graphs-Page",ref:function(t){return e.divRef=t}},i.a.createElement(H,{parentSize:this.state.elementSize,growDeprecate:this.state.growDeprecate}))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).watchPiCam=function(){var e=0;setInterval(function(){var t="http://96.52.249.69:300/html/cam_pic.php?time="+(++e).toString();a.setState({camURL:t})},5e3)},a.getJournalsInfo=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("journals").on("value",function(e){var t=[];e.forEach(function(e){a.props.grow.journals&&Object.keys(a.props.grow.journals).forEach(function(a){e.val().id===a&&t.push(e.val())})}),t.sort(function(e,t){return e.updatedAt<t.updatedAt?1:-1}),a.setState({linkedJournals:t})},function(e){console.log("GrowDetails watch user journals failed: "+e.code)})},a.getLiveData=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("grows").child("-LdG6gTCNZxfu1wU5Xvx").child("sensors_live").child("flower").on("value",function(e){var t=e.val();a.setState({liveData:t}),a.checkActive(t.time)},function(e){console.log("grow box get live data failed: "+e.code)})},a.getVeggerData=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("grows").child("-LdG6gTCNZxfu1wU5Xvx").child("sensors_live").child("vegger").on("value",function(e){var t=e.val();a.setState({liveData:t}),a.checkActive(t.time)},function(e){console.log("grow box get live data failed: "+e.code)})},a.checkActive=function(e){if(e){var t=new Date-new Date(e).getTime();t>=12e4&&a.setState({activeIndicatorStyle:"Grow-Active-Indicator-Circle Data-Warning-Background"}),t>=24e4&&a.setState({activeIndicatorStyle:"Grow-Active-Indicator-Circle Data-Danger-Background"}),t<12e4&&a.setState({activeIndicatorStyle:"Grow-Active-Indicator-Circle Data-Optimal-Background"})}else console.log("NO LAST UPDATE ERROR")},a.openJournals=function(){console.log("GROWDETAILS OPEN JOURNALS!"),a.setState({displayBottom:"journals"})},a.openData=function(){console.log("GROWDETAILS OPEN DATA"),a.setState({displayBottom:"data"})},a.openConfig=function(){console.log("GROWDETAILS OPEN CONFIG"),a.setState({displayBottom:"config"})},a.openFeed=function(){console.log("GROWDETAILS OPEN FEED"),a.setState({displayBottom:"feed"})},a.openEditFeed=function(){console.log("GROWDETAILS OPEN EDIT FEED"),a.setState({displayBottom:"edit-feed"})},a.openFullCam=function(e){a.props.openFullCam(e.target.dataset.value)},a.openJournal=function(e){console.log("TODO: GrowDetailsPage open journal"),console.log(e),a.props.setJournalID(e.id)},a.state={displayBottom:"data",liveData:[],activeIndicatorStyle:"Grow-Active-Indicator-Circle",linkedJournals:[],camURL:null,growDeprecate:null},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){"-LdtfBTlG6Fgg-ADD8-b"===this.props.grow.id?(this.getLiveData(),this.watchPiCam(),this.setState({growDeprecate:"flower"})):(this.getVeggerData(),this.setState({growDeprecate:"vegger"})),this.props.grow.urls.cam&&this.setState({camURL:this.props.grow.urls.cam}),this.getJournalsInfo=this.getJournalsInfo()}},{key:"render",value:function(){var e=this,t={zIndex:"1",position:"absolute"},a={zIndex:"0",position:"absolute"},n=t,r=a,o=a,l=a,s=a;if(this.state.displayBottom)switch(this.state.displayBottom){case"journals":n=t,r=a,o=a,l=a,s=a;break;case"data":n=a,r=t,o=a,l=a,s=a;break;case"feed":n=a,r=a,o=t,l=a,s=a;break;case"edit-feed":n=a,r=a,o=a,l=t,s=a;break;case"config":n=a,r=a,o=a,l=a,s=t}var c=null;return 0!==this.state.linkedJournals.length&&(c=this.state.linkedJournals.map(function(t){return i.a.createElement("div",{key:t.id,className:"Journal-Box-Item-Container"},i.a.createElement(M,{journal:t,openJournal:e.openJournal}))})),i.a.createElement("div",{className:"Grow-Details-Page"},i.a.createElement("div",{className:"Grow-Details-Page-Content"},i.a.createElement("div",{className:"Grow-Details-Content-Cam"},i.a.createElement("div",{className:"Grow-Details-Cam-Full-Btn","data-value":this.props.grow.urls.cam,onClick:this.openFullCam},"\u26f6"),i.a.createElement("img",{alt:"cam",style:{objectFit:"contain"},src:this.state.camURL,width:"100%",height:"100%"})),i.a.createElement("div",{className:"Grow-Details-Page-Panel"},i.a.createElement("div",{className:"Grow-Details-Header"},i.a.createElement("div",{id:"Grow-Header-Text"},this.props.grow.name),i.a.createElement("div",{className:this.state.activeIndicatorStyle})),i.a.createElement("div",{id:"Grow-Details-Data-Display"},function(){if(e.state.liveData)return i.a.createElement(O,{liveData:e.state.liveData})}()),i.a.createElement("div",{className:"Grow-Details-Main-Btns"},i.a.createElement("button",{className:"Grow-Box-Function-Btn","data-value":"data",onClick:this.openData},"DATA ",i.a.createElement("span",{role:"img","aria-label":"grow data icon"},"\ud83d\udcc8")),i.a.createElement("button",{className:"Grow-Box-Function-Btn","data-value":"journals",onClick:this.openJournals},"JRNLS ",i.a.createElement("span",{role:"img","aria-label":"journal"},"\ud83d\udcd6")),i.a.createElement("button",{className:"Grow-Box-Function-Btn","data-value":"config",onClick:this.openConfig},"CONFIG ",i.a.createElement("span",{role:"img","aria-label":"grow config icon"},"\ud83d\udcbb")),i.a.createElement("button",{className:"Grow-Box-Function-Btn-Feed","data-value":"feed",onClick:this.openFeed},"FEED \u2593\u2593"),i.a.createElement("button",{className:"Grow-Box-Function-Btn-Edit-Feed","data-value":"edit-feed",onClick:this.openEditFeed},"\u270e"))),i.a.createElement("div",{className:"Grow-Details-Content-Bottom"},i.a.createElement("div",{className:"Grow-Details-Bottom-Item",style:n},i.a.createElement("div",{className:"Grow-Details-Journals"},i.a.createElement("div",{className:"Grow-Details-Journals-Header"},"Connected Journals"),c)),i.a.createElement("div",{className:"Grow-Details-Bottom-Item",style:r},i.a.createElement(U,{growDeprecate:this.state.growDeprecate})),i.a.createElement("div",{className:"Grow-Details-Bottom-Item",style:o},i.a.createElement("iframe",{id:"Food-Chart",title:"FoodChart",src:this.props.grow.urls.feed_chart})),i.a.createElement("div",{className:"Grow-Details-Bottom-Item",style:l},i.a.createElement("object",{type:"text/html",data:this.props.grow.urls.feed_edit,width:"100%",height:"100%","aria-label":"edit food chart"})),i.a.createElement("div",{className:"Grow-Details-Bottom-Item",style:s},i.a.createElement(L,null)))))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).closeCam=function(){a.props.closeFullCam()},a.state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log("GrowCamFull Cam URL"),console.log(this.props.camURL),this.props.camURL&&console.log(this.props.camURL),console.log("hmm"),i.a.createElement("div",{id:"Grow-Cam-Full"},i.a.createElement("div",{className:"Grow-Cam-Full-Exit-Btn",onClick:this.closeCam},"X"),"http://96.52.249.69:300/html/cam_pic.php?time=0"===e.props.camURL?i.a.createElement("object",{type:"text/html",data:"http://96.52.249.69:300/html/",width:"100%",height:"100%","aria-label":"live cam"}):i.a.createElement("img",{alt:"cam",style:{objectFit:"contain"},src:e.props.camURL,width:"100%",height:"100%"}))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).getUserGrowIDs=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("grows").on("value",function(e){var t=[];console.log("TODO: remove filter."),e.forEach(function(e){e.val().sensors_live||(t[e.key]=e.val())});for(var n=[],i=Object.keys(t),r=0;r<i.length;r++){var o=i[r];a.firebase.db.ref().child("grows").child(o).on("value",function(e){n.includes(e.val())||(n[n.length]=e.val()),n.sort(function(e,t){return e.updatedAt<t.updatedAt?1:-1}),a.setState({userGrows:n})},function(e){console.log("watch grow failed: "+e.code)})}},function(e){console.log("watch user grows failed: "+e.code)})},a.closeModal=function(e){a.setState({displayContent:"main"})},a.openMainPage=function(e){a.props.openMainPage(e)},a.openCreateGrowModal=function(){alert("GrowPage.js openCreateGrowModal() TODO")},a.openGrow=function(e){e||a.props.setGrow(null),a.props.setGrow(e)},a.openFullCam=function(e){a.setState({displayContent:"full-cam",camURL:e})},a.closeFullCam=function(){a.setState({displayContent:"main",camURL:null})},a.setJournalID=function(e){console.log("GROW PAGE!"),console.log(e),a.props.setJournalID(e)},a.state={displayContent:"main",userGrows:[],grow:a.props.grow,camURL:null},a.firebase=new p,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._ismounted=!0,this.getUserGrows=this.getUserGrowIDs()}},{key:"componentWillUnmount",value:function(){this._ismounted=!1}},{key:"render",value:function(){var e=this;this.props.growID&&this.state.userGrows.forEach(function(t){t.id===e.props.growID&&e.props.setGrow(t)});var t=null;return null===this.state.grow&&this.state.userGrows&&(t=this.state.userGrows.map(function(t){return i.a.createElement("div",{key:t.id,className:"Grow-Box-Item-Container"},i.a.createElement(k,{grow:t,openGrow:e.openGrow,openFullCam:e.openFullCam,openMainPage:e.openMainPage}))})),i.a.createElement("div",{id:"Grow-Page"},i.a.createElement("div",{id:"Grow-Main"},i.a.createElement("div",{id:"Grow-Main-Area"},function(){if(null===e.props.grow)return i.a.createElement("div",{id:"Grow-List-Main-Area"},i.a.createElement("div",{id:"Grow-Header-Area"},i.a.createElement("div",{id:"Grow-Header-Text"},"Grows"),i.a.createElement("button",{className:"New-Grow-Btn",onClick:e.openCreateGrowModal},"+")),function(){if(t)return i.a.createElement("div",{id:"Grow-Box-Area-Scroll"},i.a.createElement("div",{id:"Grow-Box-Area"},t))}())}(),function(){if(e.props.grow)return i.a.createElement(R,{grow:e.props.grow,openFullCam:e.openFullCam,openMainPage:e.openMainPage,setJournalID:e.setJournalID})}())),function(){if("full-cam"===e.state.displayContent)return i.a.createElement(J,{closeFullCam:e.closeFullCam,camURL:e.state.camURL})}())}}]),t}(n.Component),P="#91eebb",W="#FFA500",Q="#FF0000",V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).watchSensorsLive=function(){a.watchFlowerLiveData(),a.watchVeggerLiveData()},a.watchFlowerLiveData=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("grows").child("-LdG6gTCNZxfu1wU5Xvx").child("sensors_live").child("flower").on("value",function(e){var t=Math.round(10*e.val().cTemp)/10,n=Math.round(10*e.val().humidity)/10;console.log("Flower cTemp: ".concat(t," // Flower Humidity ").concat(n," ")),a.flowerTempRef.current.style.background=t>20&&t<27?P:t<19||t>28?Q:W,a.flowerHumidityRef.current.style.background=n>30&&n<43?P:n<27||n>45?Q:W,a.setState({sFlowerTemp:t,sFlowerHumidity:n})},function(e){console.log("follow flower hour failed: "+e.code)})},a.watchVeggerLiveData=function(){a.firebase.db.ref().child("users").child("wR4QKyZ77mho1fL0FQWSMBQ170S2").child("grows").child("-LdG6gTCNZxfu1wU5Xvx").child("sensors_live").child("vegger").on("value",function(e){var t=Math.round(10*e.val().cTemp)/10,n=Math.round(10*e.val().humidity)/10;console.log("Vegger cTemp: ".concat(t," // Vegger Humidity ").concat(n," ")),a.veggerTempRef.current.style.background=t>22&&t<29?P:t<20||t>30?Q:W,a.veggerHumidityRef.current.style.background=n>40&&n<80?P:n<35||n>85?Q:W,a.setState({sVeggerTemp:t,sVeggerHumidity:n})},function(e){console.log("follow vegger failed: "+e.code)})},a.getUsername=function(){a.firebase.db.ref().child("users").child(a.state.UID).on("value",function(e){a.setState({username:e.val().username})},function(e){console.log("The username read failed: "+e.code)})},a.getUrls=function(){a.firebase.db.ref().child("users").child(a.state.UID).child("urls").on("value",function(e){a.setState({URL_livecam:e.val().livecam,URL_plotly:e.val().plotly,URL_vegger_livecam:e.val().vegger_livecam,URL_vegger_plotly:e.val().vegger_plotly,urls:e.val()})},function(e){console.log("The url read failed: "+e.code)})},a.handleSignOut=function(){a.setState({UID:null,URL_livecam:null,URL_plotly:null}),a.firebase.auth.signOut().then(function(){console.log("signed out")}).catch(function(e){console.log("Error signing out: ".concat(e))})},a.handleSignIn=function(){},a.handleMenuHandle=function(){"0px"!==a.leftMenuRef.current.style.left?a.leftMenuRef.current.style.left="0px":a.leftMenuRef.current.style.left="-240px"},a.setMainContent=function(e){a.setState({mainContent:e})},a.openGanjaGrove=function(){a.setState({mainContent:"grows",currentGrow:null,growID:"-LdtfBTlG6Fgg-ADD8-b"})},a.openVegger=function(){a.setState({mainContent:"grows",currentGrow:null,growID:"-LdtkOvSXRrm1zIZ6EOx"})},a.openEditProfile=function(){"editprofile"!==a.state.mainContent&&a.setState({mainContent:"editprofile"})},a.openChart=function(){"chart"!==a.state.mainContent&&a.setState({mainContent:"chart"})},a.editChart=function(){window.open("https://docs.google.com/spreadsheets/d/1i7EDfBIwj4eYU2LxyS02YwDDeNROcdgXjROKfzCtp60/edit?usp=sharing","sharer","toolbar=0,status=0,width=548,height=325")},a.openConfig=function(){"config"!==a.state.mainContent&&a.setState({mainContent:"config"})},a.openJournal=function(){"journal"!==a.state.mainContent?a.setState({mainContent:"journal",journalID:null}):a.setState({journalID:null})},a.openGrows=function(){"grows"!==a.state.mainContent?a.setState({mainContent:"grows",currentGrow:null}):a.setState({currentGrow:null})},a.setGrow=function(e){console.log("APP Setgrow"),console.log(e),a.setState({growID:null,currentGrow:e})},a.setJournalID=function(e){console.log("APP SetJournalID"),console.log(e),a.setState({mainContent:"journal",journalID:e})},a.openMainPageFromExternal=function(e){switch(console.log("todo: get rid of this system..."),console.log(e),e){case"https://plot.ly/~bgolda89/0/raspberry-pi-streaming-sensor-data/":a.openPlotly();break;case"https://plot.ly/~bmgolda/5/ganja-grovv-vegger-data/#/":a.openVeggerPlotly();break;case"config":a.openConfig();break;case"feed":a.openChart();break;case"edit-feed":a.editChart();break;case"graphs":a.openGraphs()}},a.openGraphs=function(){a.setState({mainContent:"graphs"})},a.state={mainContent:"signin",UID:null,username:"",URL_livecam:null,URL_plotly:null,URL_vegger_livecam:null,URL_vegger_plotly:null,sFlowerTemp:"",sFlowerHumidity:"",sVeggerTemp:"",sVeggerHumidity:"",journalID:null,currentGrow:null,growID:null},a.firebase=new p,a.firebase.auth.onAuthStateChanged(function(e){e&&(a.setState({UID:e.uid}),a.getUrls(),a.getUsername(),a.watchSensorsLive())}),a.flowerTempRef=i.a.createRef(),a.flowerHumidityRef=i.a.createRef(),a.veggerTempRef=i.a.createRef(),a.veggerHumidityRef=i.a.createRef(),a.leftMenuRef=i.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-body"},i.a.createElement("div",{id:"App-Inner-Body"},i.a.createElement("div",{id:"App-Body-Content"},function(){if(e.state.UID)switch(e.state.mainContent){case"editprofile":return i.a.createElement(D,{UID:e.state.UID,username:e.state.username});case"journal":return i.a.createElement(F,{setJournalID:e.setJournalID,journalID:e.state.journalID});case"grows":return i.a.createElement(_,{openMainPage:e.openMainPageFromExternal,setJournalID:e.setJournalID,setGrow:e.setGrow,grow:e.state.currentGrow,growID:e.state.growID});case"chart":return i.a.createElement(b,null);case"config":return i.a.createElement(I,null);case"graphs":return i.a.createElement("div",null,"flower 3 day",i.a.createElement(H,{parentSize:[800,300],grow:"flower"}),"vegger 3 day",i.a.createElement(H,{parentSize:[800,300],grow:"vegger"}));case"maincontent":return i.a.createElement("div",{id:"Main-Content"},i.a.createElement("object",{className:"Site-View-Update",style:{zIndex:e.state.zPlotly},type:"text/html",data:e.state.URL_plotly,width:"100%",height:"100%","aria-label":"plotly"}),i.a.createElement("object",{className:"Site-View-Update",style:{zIndex:e.state.zVeggerPlotly},type:"text/html",data:e.state.URL_vegger_plotly,width:"100%",height:"100%","aria-label":"vegger plotly"}));default:return i.a.createElement(_,{openMainPage:e.openMainPageFromExternal,setJournalID:e.setJournalID,setGrow:e.setGrow,grow:e.state.currentGrow,growID:e.state.growID})}else switch(e.state.mainContent){case"signin":return i.a.createElement(y,{gotoSignUp:e.setMainContent,signIn:e.handleSignIn});case"signup":return i.a.createElement(C,{gotoSignIn:e.setMainContent});default:return i.a.createElement(y,{gotoSignUp:e.setMainContent,signIn:e.handleSignIn})}}(),function(){if(e.state.UID)return i.a.createElement("div",{id:"Main-Left-Wrapper",style:{left:"-240px"},ref:e.leftMenuRef},i.a.createElement("div",{id:"Main-Left"},i.a.createElement("div",{id:"Home-Div"},i.a.createElement("img",{src:v.a,id:"Grovv-Logo",alt:"grovv logo"})),i.a.createElement("div",{id:"Main-Left-Menu"},i.a.createElement("div",{id:"Footer-Btns"},i.a.createElement("button",{id:"Profile-Btn",onClick:e.openEditProfile},"Profile"),i.a.createElement("button",{id:"Logout-Btn",onClick:e.handleSignOut},"Logout")),i.a.createElement("div",{className:"QuickTemp-Row"},i.a.createElement("button",{className:"Grow-Area-Btn",onClick:e.openGanjaGrove},"GG ",i.a.createElement("span",{role:"img","aria-label":"open ganja grove"},"\ud83d\udcfa\ud83d\udcc8")),i.a.createElement("button",{className:"Temp-Gauge-Btn",ref:e.flowerTempRef},e.state.sFlowerTemp,"\xb0C"),i.a.createElement("button",{className:"Humid-Gauge-Btn",ref:e.flowerHumidityRef},e.state.sFlowerHumidity,"%")),i.a.createElement("div",{className:"QuickTemp-Row"},i.a.createElement("button",{className:"Grow-Area-Btn",onClick:e.openVegger},"VG ",i.a.createElement("span",{role:"img","aria-label":"open vegger"},"\ud83d\udcfa\ud83d\udcc8")),i.a.createElement("button",{className:"Temp-Gauge-Btn",ref:e.veggerTempRef},e.state.sVeggerTemp,"\xb0C"),i.a.createElement("button",{className:"Humid-Gauge-Btn",ref:e.veggerHumidityRef},e.state.sVeggerHumidity,"%")),i.a.createElement("button",{className:"Left-Menu-Btn",onClick:e.openGrows},"GROWS ",i.a.createElement("span",{role:"img","aria-label":"journal"},"\ud83c\udf41")),i.a.createElement("button",{className:"Left-Menu-Btn",onClick:e.openJournal},"JOURNALS ",i.a.createElement("span",{role:"img","aria-label":"journal"},"\ud83d\udcd6")),i.a.createElement("button",{className:"Left-Menu-Btn",onClick:e.openGraphs},"(beta) GRAPHS ",i.a.createElement("span",{role:"img","aria-label":"graphs"},"\ud83d\udcc8")))),i.a.createElement("div",{onClick:e.handleMenuHandle},i.a.createElement("img",{src:w.a,id:"Menu-Handle",alt:"menu handle"})))}()))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[223,1,2]]]);
//# sourceMappingURL=main.b53d3619.chunk.js.map