{"version":3,"sources":["config/firebaseConfig.js","App/_utils/DbHelper.js","App/auth/SignIn.js","App/auth/SignUp.js","App/main-content/FeedChart/FeedChart.js","App/main-content/GrowConfig/GrowConfig.js","App/main-content/GrowJournal/JournalAddEditModal.js","App/main-content/GrowJournal/FullImageModal.js","App/main-content/GrowJournal/JournalCreateModal.js","App/main-content/GrowJournal/JournalTimelineButton.js","App/main-content/GrowJournal/JournalBoxItem.js","App/main-content/GrowJournal/JournalEntry.js","App/main-content/GrowJournal/GrowJournal.js","App/main-content/GrowPage/GrowDataDisplay.js","App/main-content/Graphs/GraphSensorsBox.js","App/main-content/GrowPage/GrowBoxItem.js","App/main-content/GrowPage/GrowDetailsConfig.js","App/main-content/Graphs/GraphSensors.js","App/main-content/GrowPage/GrowDetailsGraphs.js","App/main-content/GrowPage/GrowDetailsPage.js","App/main-content/GrowPage/GrowCamFull.js","App/main-content/GrowPage/GrowPage.js","App/main-content/Graphs/GraphSensorsTest.js","App/graphs/GrowGraphsTest.js","App/app-bar/AppBar.js","App/App.js","js/serviceWorker.js","index.js"],"names":["config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","Object","classCallCheck","this","firebase","apps","length","initializeApp","db","database","auth","storage","DbHelper","userID","growID","setData","ref","child","on","snapshot","val","errorObject","console","log","code","userGrows","forEach","grow","_this","id","date","Date","year","getFullYear","toString","month","getMonth","days","tempDay","dy","getDate","i","staticTwoDayData","getTwoDaysAddedDays","day","includes","gChild","dataPoint","dataTime","time","getTime","tempCurrentData","sort","a","b","fullData","concat","dayData","temp_min","temp_max","temp_hyst","fan_min","fan_max","humidity_min","humidity_max","humidity_hyst","humidifier_min","humidifier_max","set","_this2","userGrowIDs","sensors_live","key","_arr","_i","growRef","setUserGrows","once","updatedAt","journals","journalsList","keys","push","setUserJournals","journalID","setJournalEntries","tempEntriesList","datetime_true","tempDotsList","entry","datetime_short","tempDeepDotsList","dotDate","dotValue","journalName","openJournal","userRef","nowDate","name","createdAt","previewImage","entryID","trueDate","title","content","growStage","postDate","images","closeModal","editDate","temptTrueDate","shortMonth","shortDateVar","published","grow_stage","datetime_post","datetime_edit","journal_id","jRef","file","setImages","storageRef","dateNow","metadata","contentType","type","put","then","getDownloadURL","url","urlSplit","split","thumbURL","refFromURL","delete","catch","error","SignIn","props","possibleConstructorReturn","getPrototypeOf","call","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleSubmit","state","validateEmail","hideSigninFields","signInWithEmailAndPassword","errorCode","errorMessage","message","alert","SHOWFIELDS","showSigninFields","onAuthStateChanged","user","testEmail","test","String","toLowerCase","testPswd","react_default","createElement","onChange","onClick","Component","SignUp","hideSignupFields","showSignupFields","validatePassword","createUserWithEmailAndPassword","handleGotoSignIn","gotoSignIn","postUserToFirebase","uid","email","timestamp","userData","updates","update","FeedChart","src","GrowConfig","saveConfig","dbHelper","setGrowConfig","watchGrowConfig","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","t0","abrupt","stop","_x","apply","arguments","setFetchedConfig","configObj","handleTempMinChange","handleTempMaxChange","handleTempHystChange","handleFanMinChange","handleFanMaxChange","handleHumidityMinChange","handleHumidityMaxChange","handleHumidityHystChange","handleHumidifierMinChange","handleHumidifierMaxChange","_ismounted","watchConfig","className","JournalAddEditModal","handleTitleChange","handleContentChange","cancelModal","deleteAllAddedImages","saveEntry","saveJournalEntry","displayFullImage","handleImageUpload","_ref2","_callee2","_context2","tempImages","tempAddedImages","addedImages","thumb","deleteImage","ev","dataset","img","handleImageDelete","handleDateChange","dt","handleGrowStageChange","editPost","tempTrueDate","tempPostDate","tempContent","tempTitle","undefined","tempGrowStage","tempPostId","files","_this3","renderedThumbnails","map","image","alt","data-value","es","selected","placeholder","dist_es","onDrop","onImageDrop","bind","accept","multiple","_ref3","getRootProps","getInputProps","role","aria-label","FullImageModal","nextImage","fullSizeList","imageUrl","currentImage","previousImage","imageList","currentFullImage","tempFullSizeList","JournalCreateModal","handleJournalNameChange","setJournalID","createJournal","JournalTimelineButton","setEntries","entries","monthDayDate","timelineDate","idVar","charAt","toUpperCase","slice","isActiveEntry","currentEntryID","array","datetimeShortMD","dateString","toDateString","JournalBoxItem","journal","updatedAtDate","updatedAtHoursString","getHours","updatedAtMinutesString","getMinutes","JournalEntry","currentEntry","editEntryByID","prevProps","prevState","datetimeTrue","GrowJournal","watchEntries","watchJournalEntries","entriesList","dotsList","timelineEntries","timelineDots","displayEntries","addTimelineEntry","displayContent","timelineEntry","openFullImageModal","fullImageModalImages","openFullImage","handleJournalChange","openCreateJournalModal","testContent","renderedJournalOptions","userJournals","renderedUserJournals","GrowJournal_JournalBoxItem","renderedJournalEntries","GrowJournal_JournalEntry","renderedTimelineDots","dot","GrowJournal_JournalTimelineButton","GrowJournal_JournalAddEditModal","GrowJournal_FullImageModal","GrowJournal_JournalCreateModal","GrowDataDisplay","cTemp","fanSpeed","humiPower","humidity","liveData","Math","round","backgroundIndicator","GraphSensorsBox","componentDidUpdate","rawGrowData","gwID","rawData","data","processedData","processedPoint","getGraphData","rawContent","payload","readableTime","moment","fromNow","tempTemp","tempTempColor","tempFanPower","tempFanSpdColor","tempHumidity","tempHumidityColor","tempHumidifierPower","tempHumiPwrColor","line","dataKey","stroke","style","color","renderDayGraph","parentSize","xSize","floor","ySize","es6","width","height","domain","tickFormatter","unixTime","format","hide","renderTooltip","GrowBoxItem","componentDidMount","getLiveCam","watchPiCam","growDeprecate","urls","cam","camURL","componentWillUnmount","setInterval","tempCamURL","openFullCam","openGrow","openMainPage","checkActive","lastUpdateTime","difference","activeIndicatorStyle","graphElementSize","graphSizeUpdated","divRef","clientWidth","clientHeight","tempSize","lastUpdate","liveGrowData","objectFit","cursor","GrowPage_GrowDataDisplay","element","Graphs_GraphSensorsBox","GrowDetailsConfig","GraphSensors","rawRef","concatData","list","dataLength","GrowDetailsGraphs","elementSize","Graphs_GraphSensors","GrowDetailsPage","getLiveData","_x2","setLiveData","getLinkedJournals","setLinkedJournals","linkedJournals","openJournals","displayBottom","openData","openConfig","openFeed","openEditFeed","zIndexOne","zIndex","position","zIndexZero","journalsStyle","graphsStyle","feedStyle","editFeedStyle","configStyle","renderedLinkedJournals","GrowPage_GrowDetailsGraphs","feed_chart","feed_edit","GrowPage_GrowDetailsConfig","GrowCamFull","closeCam","closeFullCam","GrowPage","page","openCreateGrowModal","setGrow","renderedGrowBoxes","GrowPage_GrowBoxItem","GrowPage_GrowDetailsPage","GrowPage_GrowCamFull","GraphSensorsTest","getData","getThreeDays","GrowGraphsTest","Graphs_GraphSensorsTest","AppBar","setMainContent","openGrows","openGanjaGrove","openVegger","setGrowByID","handleSignOut","signOut","window","location","reload","renderedLiveGrowButtons","liveButtonData","brokenName","acroName","piece","flowerTempRef","flowerHumidityRef","App","getThreeDayData","setThreeDayData","getLiveGrowDatas","setLiveGrowData","dataID","newGrowData","currentData","previousData","threeDayData","tempThreeDayData","getUsername","UID","getUrls","URL_livecam","livecam","URL_vegger_livecam","vegger_livecam","setValue","mainContent","currentGrow","openChart","editChart","open","openMainPageFromExternal","openGraphs","getUserGrows","getUserJournals","app_bar_AppBar","main_content_GrowJournal_GrowJournal","main_content_GrowPage_GrowPage","main_content_FeedChart_FeedChart","main_content_GrowConfig_GrowConfig","graphs_GrowGraphsTest","auth_SignIn","gotoSignUp","auth_SignUp","Boolean","hostname","match","ReactDOM","render","src_App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.005edcc7.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/database'\r\nimport 'firebase/auth' \r\nimport 'firebase/storage' \r\n\r\n\r\n// Initialize Firebase\r\nvar config = {\r\n    apiKey: \"AIzaSyBJuUseKfGN_MjNEWg722WY1FsO2xZ1AuE\",\r\n    authDomain: \"grovv-22cbd.firebaseapp.com\",\r\n    databaseURL: \"https://grovv-22cbd.firebaseio.com\",\r\n    projectId: \"grovv-22cbd\",\r\n    storageBucket: \"grovv-22cbd.appspot.com\",\r\n    messagingSenderId: \"30272449560\"\r\n};\r\n\r\nclass Firebase {\r\n    constructor() {\r\n        if (!firebase.apps.length) {\r\n            firebase.initializeApp(config);\r\n        }\r\n\r\n        this.db = firebase.database();\r\n        this.auth = firebase.auth();\r\n        this.storage = firebase.storage();\r\n    }\r\n}\r\n\r\nexport default Firebase;\r\n","import Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass DbHelper {\r\n\r\n    constructor() {\r\n\r\n        this.firebase = new Firebase();\r\n\r\n        this.userID = 'wR4QKyZ77mho1fL0FQWSMBQ170S2'\r\n\r\n    }\r\n\r\n\r\n    // .......... //\r\n    // LIVE DATA  //\r\n    // .......... //\r\n    // Get live data from firebase\r\n    async getLiveData(growID, setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('grow_data').child(this.userID).child(growID).child('live_data')\r\n\r\n        ref.on('value', (snapshot) => {\r\n            setData(snapshot.val())\r\n        }, function (errorObject) {\r\n            console.log(\"follow grow\" + growID + \" live failed: \" + errorObject.code);\r\n        });\r\n\r\n    }\r\n\r\n    // .......... //\r\n    // LIVE DATAS  //\r\n    // .......... //\r\n    // Get live data from firebase\r\n    // TODO: FIx when database is changed\r\n    async getLiveGrowDatas(userGrows, setData) {\r\n\r\n        userGrows.forEach((grow) => {\r\n            // Sensor data in firebase\r\n            // var ref = this.firebase.db.ref().child('users').child(this.userID).child('grows').child('-LdG6gTCNZxfu1wU5Xvx').child('sensors_live').child(grow)\r\n\r\n\r\n            var ref = this.firebase.db.ref().child('grow_data').child(this.userID).child(grow.id).child('live_data')\r\n\r\n\r\n            ref.on('value', (snapshot) => {\r\n                setData(grow.id, snapshot.val())\r\n            }, function (errorObject) {\r\n                console.log(\"follow \" + grow + \" live failed: \" + errorObject.code);\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // ....... //\r\n    // GRAPHS  //\r\n    // ....... //\r\n\r\n    // Get 3 day data window from firebase\r\n    async getThreeDays(growID, setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('grow_data').child(this.userID).child(growID).child('sensor_data')\r\n\r\n\r\n        var date = new Date();\r\n        var year = date.getFullYear().toString()\r\n        var month = (date.getMonth() + 1).toString()\r\n        if (month.length < 2) {\r\n            month = '0' + month\r\n        }\r\n\r\n        var days = []\r\n        var tempDay = null\r\n        var dy = date.getDate()\r\n        if ((dy - 2) >= 1) {\r\n            tempDay = dy - 2\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if ((dy - 1) >= 1) {\r\n            tempDay = dy - 1\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if (dy.toString().length < 2) {\r\n            dy = '0' + dy\r\n        }\r\n        days[days.length] = dy\r\n\r\n        var i = 0;\r\n\r\n        var staticTwoDayData = []\r\n        var getTwoDaysAddedDays = []\r\n\r\n        days.forEach((day) => {\r\n            if (day.toString() === dy.toString()) {\r\n                return;\r\n            }\r\n\r\n            ref.child(year).child(month).child(day).on(\"value\", (snapshot) => {\r\n                if (!getTwoDaysAddedDays.includes(day)) {\r\n                    getTwoDaysAddedDays[getTwoDaysAddedDays.length] = day\r\n                } else {\r\n                    return;\r\n                }\r\n                snapshot.forEach((child) => {\r\n                    child.forEach((gChild) => {\r\n                        i++;\r\n                        if (i % 10 === 0 || i === 0) {\r\n                            var dataPoint = gChild.val()\r\n                            var dataTime = new Date(dataPoint.time).getTime()\r\n                            dataPoint.time = dataTime\r\n                            staticTwoDayData[staticTwoDayData.length] = dataPoint;\r\n                        }\r\n                    });\r\n                });\r\n\r\n                if ((getTwoDaysAddedDays.length === days.length - 1)) {\r\n\r\n\r\n                    ref.child(year).child(month).child(dy).on(\"value\", (snapshot) => {\r\n\r\n                        console.log(\"DAYALOOUYA! deeep\" + dy)\r\n                        var tempCurrentData = [];\r\n\r\n\r\n                        snapshot.forEach((child) => {\r\n                            child.forEach((gChild) => {\r\n                                i++;\r\n                                if (i % 10 === 0 || i === 0) {\r\n                                    var dataPoint = gChild.val()\r\n                                    var dataTime = new Date(dataPoint.time).getTime()\r\n                                    dataPoint.time = dataTime\r\n                                    tempCurrentData[tempCurrentData.length] = dataPoint;\r\n                                }\r\n                            });\r\n                        });\r\n\r\n                        tempCurrentData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n                        console.log(\"DBHELPER Test 3-day Datapoints to return... grow:\" + growID)\r\n                        console.log(tempCurrentData.length);\r\n                        console.log(tempCurrentData[0]);\r\n                        console.log(tempCurrentData[tempCurrentData.length - 1]);\r\n\r\n                        var fullData = staticTwoDayData.concat(tempCurrentData);\r\n\r\n                        fullData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n\r\n                        setData(fullData);\r\n\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    // Get 3 day data window from firebase\r\n    getThreeDayData(growID, setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('grow_data').child(this.userID).child(growID).child('sensor_data')\r\n\r\n\r\n        var date = new Date();\r\n        var year = date.getFullYear().toString()\r\n        var month = (date.getMonth() + 1).toString()\r\n        if (month.length < 2) {\r\n            month = '0' + month\r\n        }\r\n\r\n        var days = []\r\n        var tempDay = null\r\n        var dy = date.getDate()\r\n        if ((dy - 2) >= 1) {\r\n            tempDay = dy - 2\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if ((dy - 1) >= 1) {\r\n            tempDay = dy - 1\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if (dy.toString().length < 2) {\r\n            dy = '0' + dy\r\n        }\r\n        days[days.length] = dy\r\n\r\n        days.forEach((day) => {\r\n\r\n            ref.child(year).child(month).child(day).on(\"value\", (snapshot) => {\r\n\r\n                // TODO: on child added listener instead, this this var stored outside the \"on()\" event\r\n                var dayData = []\r\n\r\n                snapshot.forEach((child) => {\r\n                    child.forEach((gChild) => {\r\n                        var dataPoint = gChild.val()\r\n\r\n                        dataPoint.time = dataPoint.time * 1000\r\n\r\n                        dayData[dayData.length] = dataPoint;\r\n                    });\r\n                });\r\n\r\n                dayData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n                setData(growID, day, dayData);\r\n            });\r\n        });\r\n    }\r\n\r\n    // ............ //\r\n    // GROW CONFIG  //\r\n    // ............ //\r\n\r\n    // Watch Grow Config in firebase\r\n    watchGrowConfig(growID, setData) {\r\n\r\n        // Config data in firebase // TODO... proper\r\n        var ref = this.firebase.db.ref().child('grows').child(this.userID).child(growID).child('config')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            if (snapshot.val() === null) {\r\n                return;\r\n            }\r\n\r\n            setData({\r\n                temp_min: snapshot.val().temp_min,\r\n                temp_max: snapshot.val().temp_max,\r\n                temp_hyst: snapshot.val().temp_hyst,\r\n                fan_min: snapshot.val().fan_min,\r\n                fan_max: snapshot.val().fan_max,\r\n                humidity_min: snapshot.val().humidity_min,\r\n                humidity_max: snapshot.val().humidity_max,\r\n                humidity_hyst: snapshot.val().humidity_hyst,\r\n                humidifier_min: snapshot.val().humidifier_min,\r\n                humidifier_max: snapshot.val().humidifier_max\r\n            });\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"watch config failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // Set Grow Config in firebase\r\n    setGrowConfig(growID, config) {\r\n        var ref = this.firebase.db.ref().child('grows').child(this.userID).child(growID).child('config')\r\n        ref.set(config)\r\n    }\r\n\r\n    // ........... //\r\n    // GROW PAGE   //\r\n    // ........... //\r\n\r\n    // Get live data from firebase\r\n    getUserGrows(setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('users').child(this.userID).child('grows')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var userGrowIDs = [];\r\n\r\n            console.log(\"TODO: remove filter. what does this even do O.o\")\r\n            snapshot.forEach((child) => {\r\n                if (!child.val().sensors_live) {\r\n                    userGrowIDs[userGrowIDs.length] = child.key\r\n                }\r\n            });\r\n\r\n            // TODO: make own function...?\r\n            for (var key of userGrowIDs) {\r\n                var growRef = this.firebase.db.ref().child('grows').child(this.userID).child(key)\r\n\r\n                var setUserGrows = []\r\n\r\n                growRef.once('value', (snapshot) => {\r\n\r\n                    if (!setUserGrows.includes(snapshot.val())) {\r\n                        setUserGrows[setUserGrows.length] = snapshot.val()\r\n                    }\r\n\r\n                    setUserGrows.sort((a, b) => (a.updatedAt < b.updatedAt) ? 1 : -1)\r\n\r\n                    setData(setUserGrows)\r\n\r\n                }, function (errorObject) {\r\n                    console.log(\"watch user grows grow failed: \" + errorObject.code);\r\n                });\r\n            }\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"watch user grows failed: \" + errorObject.code);\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    // ............ //\r\n    // GROW JRNLS  //\r\n    // ............ //\r\n\r\n    // Get live data from firebase\r\n    getLinkedJournals(key, journals, setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('users').child(this.userID).child('journals')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var journalsList = [];\r\n\r\n            snapshot.forEach((child) => {\r\n                if (journals) {\r\n                    Object.keys(journals).forEach(function (key) {\r\n                        if (child.val().id === key) {\r\n                            journalsList.push(child.val())\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            journalsList.sort((a, b) => (a.updatedAt < b.updatedAt) ? 1 : -1)\r\n\r\n            setData(journalsList)\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"GrowDetails watch user journals failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // ............ //\r\n    // WATCH JRNLS  //\r\n    // ............ //\r\n\r\n    // Watch Journals\r\n    getUserJournals(setUserJournals) {\r\n        var ref = this.firebase.db.ref().child('users').child(this.userID).child('journals')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var journalsList = [];\r\n\r\n            snapshot.forEach((child) => {\r\n                journalsList.push(child.val())\r\n            });\r\n\r\n            console.log(\"Journals List:\")\r\n            console.log(journalsList)\r\n\r\n            journalsList.sort((a, b) => (a.updatedAt < b.updatedAt) ? 1 : -1)\r\n\r\n            setUserJournals(journalsList)\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"watch user journals failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // Watch Entries\r\n    watchJournalEntries(journalID, setJournalEntries) {\r\n\r\n        var ref = this.firebase.db.ref().child('journals').child(this.userID).child(journalID).child('entries')\r\n\r\n        console.log('watchin... ' + journalID)\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var tempEntriesList = []\r\n            snapshot.forEach((child) => {\r\n                tempEntriesList.push(child.val())\r\n            });\r\n\r\n            tempEntriesList.sort((a, b) => (a.datetime_true > b.datetime_true) ? 1 : -1)\r\n\r\n            var tempDotsList = [];\r\n            tempEntriesList.forEach((entry) => {\r\n                if (!tempDotsList.includes(entry.datetime_short)) {\r\n                    tempDotsList[tempDotsList.length] = entry.datetime_short;\r\n                }\r\n            });\r\n\r\n            var tempDeepDotsList = [];\r\n            tempDotsList.forEach((dotDate) => {\r\n                var dotValue = []\r\n                tempEntriesList.forEach((entry) => {\r\n                    if (dotDate === entry.datetime_short) {\r\n                        dotValue[dotValue.length] = entry;\r\n                    }\r\n                });\r\n\r\n                tempDeepDotsList[tempDeepDotsList.length] = dotValue;\r\n            });\r\n\r\n            setJournalEntries(tempEntriesList, tempDeepDotsList)\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"follow journal failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // ............ //\r\n    // JRNL CREATE  //\r\n    // ............ //\r\n\r\n    // Get live data from firebase\r\n    async createJournal(journalName, openJournal) {\r\n        // ref for actual journal\r\n        var ref = this.firebase.db.ref().child('journals').child(this.userID).push()\r\n        // user object ref to journal key\r\n        var userRef = this.firebase.db.ref().child('users').child(this.userID).child('journals').child(ref.key)\r\n\r\n        var journalID = ref.key\r\n        var nowDate = new Date()\r\n\r\n        ref.set({ 'id': journalID, 'name': journalName, 'updatedAt': nowDate.getTime(), 'createdAt': nowDate.getTime(), 'previewImage': 'https://via.placeholder.com/160x120?text=NO+PREVIEW' })\r\n        userRef.set({ 'id': journalID, 'name': journalName, 'updatedAt': nowDate.getTime(), 'createdAt': nowDate.getTime(), 'previewImage': 'https://via.placeholder.com/160x120?text=NO+PREVIEW' })\r\n\r\n        openJournal(journalID)\r\n    }\r\n\r\n\r\n    // ................ //\r\n    // SAVE JRNL ENTRY  //\r\n    // ................ //\r\n\r\n    // Get live data from firebase\r\n    saveJournalEntry(journalID, entryID, trueDate, title, content, growStage, postDate, images, closeModal) {\r\n        // Journal data in firebase // TODO scalable.\r\n        var ref = this.firebase.db.ref().child('journals').child(this.userID).child(journalID).child('entries')\r\n\r\n        var editDate = new Date().getTime()\r\n\r\n        var temptTrueDate = trueDate\r\n        var shortMonth = (temptTrueDate.getMonth() + 1) + \"-\"\r\n        if (shortMonth.length === 2) {\r\n            shortMonth = \"0\" + shortMonth;\r\n        }\r\n        var shortDateVar = shortMonth + temptTrueDate.getDate() + \"-\" + temptTrueDate.getFullYear()\r\n\r\n        if (!entryID) {\r\n            // ref for actual journal\r\n            var refPush = ref.push()\r\n            entryID = refPush.key\r\n        }\r\n\r\n        if (!postDate) {\r\n            postDate = new Date()\r\n        }\r\n\r\n        if (!trueDate) {\r\n            trueDate = new Date()\r\n        }\r\n\r\n\r\n        ref.child(entryID).set({\r\n            'id': entryID,\r\n            'title': title,\r\n            'published': true,\r\n            'content': content,\r\n            'grow_stage': growStage,\r\n            'datetime_post': postDate.getTime(),\r\n            'datetime_edit': editDate,\r\n            'datetime_true': trueDate.getTime(),\r\n            'datetime_short': shortDateVar,\r\n            'journal_id': journalID,\r\n            'images': images\r\n        })\r\n\r\n        console.log('set journal entry ' + entryID)\r\n\r\n        // update updatedAt\r\n        var jRef = this.firebase.db.ref().child('journals').child(this.userID).child(journalID)\r\n        var userRef = this.firebase.db.ref().child('users').child(this.userID).child('journals').child(journalID)\r\n        var nowDate = new Date()\r\n        jRef.child('updatedAt').set(nowDate.getTime())\r\n        userRef.child('updatedAt').set(nowDate.getTime())\r\n\r\n\r\n        closeModal(entryID);\r\n    }\r\n\r\n    // .................. //\r\n    // JRNL ENTRY IMAGES  //\r\n    // .................. //\r\n\r\n    // Upload Image\r\n    async handleImageUpload(file, setImages) {\r\n        // Get storage reference and push file blob \r\n        var storageRef = this.firebase.storage.ref().child('journals').child(this.userID);\r\n\r\n        console.log(\"filename:\" + file.name)\r\n\r\n        var dateNow = new Date()\r\n\r\n        const metadata = { contentType: file.type };\r\n        const storageTask = storageRef.child(dateNow.getTime() + file.name).put(file, metadata);\r\n        storageTask\r\n            .then(snapshot => snapshot.ref.getDownloadURL())\r\n            .then(url => {\r\n                // Create thumb url from url (thumbs automatically created via cloud function on upload)\r\n                var urlSplit = url.split(\"%2F\")\r\n                var thumbURL = urlSplit[0] + \"%2F\" + urlSplit[1] + \"%2Fthumb_\" + urlSplit[2]\r\n\r\n                // URL AND THUMBURL\r\n                setImages(url, thumbURL)\r\n\r\n            })\r\n    }\r\n\r\n    // Delete Image\r\n    handleImageDelete(url) {\r\n        // Create a reference to the file to delete\r\n        var desertRef = this.firebase.storage.refFromURL(url)\r\n\r\n        // Delete the file\r\n        desertRef.delete().then(function () {\r\n            // File deleted successfully\r\n            console.log(\"deleted \" + url + \"successfully :)\")\r\n        }).catch(function (error) {\r\n            // Uh-oh, an error occurred!\r\n            console.log(\"delete \" + url + \"error :(\")\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default DbHelper;","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass SignIn extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            SHOWFIELDS: false\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n\r\n        this.firebase.auth.onAuthStateChanged((user) => {\r\n            if (!user) {\r\n                this.showSigninFields();\r\n            }\r\n        });\r\n    }\r\n\r\n    handleUsernameChange = (event) => {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePasswordChange = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    validateEmail(testEmail) {\r\n        var emailRegex = /^\\S+@\\S+$/;\r\n        return emailRegex.test(String(testEmail).toLowerCase());\r\n    }\r\n\r\n    validatePassword(testPswd) {\r\n        var paswdRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\r\n        return paswdRegex.test(String(testPswd));\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        console.log(\"SignIn submit pressed\");\r\n        let username = this.state.username;\r\n        let password = this.state.password;\r\n        console.log(`SignUp submit pressed - username ${username}`);\r\n        if (!this.validateEmail(username)) {\r\n            alert('Bad email me thinks :(')\r\n            return;\r\n        }\r\n        // if (!this.validatePassword(password)) {\r\n        //     alert('Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character.')\r\n        //     return;\r\n        // }\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        });\r\n        this.hideSigninFields();\r\n\r\n        this.firebase.auth.signInWithEmailAndPassword(username, password).catch(function (error) {\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n\r\n            console.log(`${errorCode}: ${errorMessage}`)\r\n            alert(`${errorCode}: ${errorMessage}`)\r\n            this.setState({ SHOWFIELDS: true });\r\n            return;\r\n            // ...\r\n        });\r\n\r\n        console.log(`username ${username} - logged in`)\r\n        // this.props.signIn();\r\n        return;\r\n\r\n    }\r\n\r\n    hideSigninFields = () => {\r\n        this.setState({ SHOWFIELDS: false });\r\n    }\r\n\r\n    showSigninFields = () => {\r\n        this.setState({ SHOWFIELDS: true });\r\n    }\r\n\r\n    // handleGotoSignUp = () => {\r\n    //     this.props.gotoSignUp(\"signup\");\r\n    //     console.log(\"Goto signup pressed\");\r\n    // }\r\n\r\n    render() {\r\n\r\n        if (this.state.SHOWFIELDS) {\r\n            return (\r\n                <div id=\"signin-div\">\r\n                    <h3>Sign In</h3>\r\n                    <div>\r\n                        Email:\r\n                        <input id=\"signin-username\" value={this.state.username} onChange={this.handleUsernameChange} />\r\n                    </div>\r\n                    <div>\r\n                        Password:\r\n                        <input type=\"password\" id=\"signin-password\" value={this.state.password} onChange={this.handlePasswordChange} />\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"submit-signin-btn\" onClick={this.handleSubmit} > Sign in! </button>\r\n                    </div>\r\n                    {/* <div>\r\n                        <button id=\"goto-signup-btn\" onClick={this.handleGotoSignUp} > Sign up! </button>\r\n                    </div> */}\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    One Moment...\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default SignIn;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            SHOWFIELDS: false\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n\r\n        this.firebase.auth.onAuthStateChanged((user) => {\r\n            if (user) {\r\n                this.postUserToFirebase(user.uid, user.email);\r\n            } else {\r\n                this.showSignupFields();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    postUserToFirebase(uid, username) {\r\n        let date = new Date()\r\n        let timestamp = date.getTime()\r\n\r\n        // A user entry.\r\n        var userData = {\r\n            uid: uid,\r\n            username: username,\r\n            createdAt: timestamp,\r\n            updatedAt: timestamp,\r\n        };\r\n\r\n        // Write the new post's data simultaneously in the posts list and the user's post list.\r\n        var updates = {};\r\n        updates['/users/' + uid] = userData;\r\n\r\n        return this.firebase.db.ref().update(updates);\r\n    }\r\n\r\n    validateEmail(testEmail) {\r\n        var emailRegex = /^\\S+@\\S+$/;\r\n        return emailRegex.test(String(testEmail).toLowerCase());\r\n    }\r\n\r\n    validatePassword(testPswd) {\r\n        var paswdRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\r\n        return paswdRegex.test(String(testPswd));\r\n    }\r\n\r\n    hideSignupFields = () => {\r\n        this.setState({ SHOWFIELDS: false });\r\n    }\r\n\r\n    showSignupFields = () => {\r\n        this.setState({ SHOWFIELDS: true });\r\n    }\r\n\r\n    handleUsernameChange = (event) => {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePasswordChange = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        let username = this.state.username;\r\n        let password = this.state.password;\r\n        console.log(`SignUp submit pressed - username ${username}`);\r\n        if (!this.validateEmail(username)) {\r\n            alert('Bad email me thinks :(')\r\n            this.setState({\r\n                username: ''\r\n            });\r\n            return;\r\n        }\r\n        if (!this.validatePassword(password)) {\r\n            alert('Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character.')\r\n            this.setState({\r\n                password: ''\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.firebase.auth.createUserWithEmailAndPassword(username, password).catch(function (error) {\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n\r\n            console.log(`${errorCode}: ${errorMessage}`)\r\n            return;\r\n            // ...\r\n        });\r\n        \r\n        return;\r\n    }\r\n\r\n    handleGotoSignIn = () => {\r\n        this.props.gotoSignIn(\"signin\");\r\n        console.log(\"Goto signin pressed\");\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.SHOWFIELDS) {\r\n            return (\r\n                <div id=\"signup-div\">\r\n                    <h3>Sign Up</h3>\r\n                    <div>\r\n                        Email:\r\n                        <input id=\"signup-username\" value={this.state.username} onChange={this.handleUsernameChange} />\r\n                    </div>\r\n                    <div>\r\n                        Password:\r\n                        <input type=\"password\" id=\"signup-password\" value={this.state.password} onChange={this.handlePasswordChange} />\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"submit-signup-btn\" onClick={this.handleSubmit} > Sign up! </button>\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"goto-signin-btn\" onClick={this.handleGotoSignIn} > Sign in! </button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    One Moment...\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass FeedChart extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Chart-Page\">\r\n                <iframe id=\"Food-Chart\" title=\"FoodChart\" src=\"https://docs.google.com/spreadsheets/d/e/2PACX-1vQiIvBEmBjgIFQ_5vSAZJrzVTepyDpyDYeNrOrfqWOuraA_MHZE_sRLyGkcARlIYR-INkuwq667Seqe/pubhtml?widget=true&amp;headers=false\">\r\n                </iframe>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default FeedChart;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass GrowConfig extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            temp_min: '',\r\n            temp_max: '',\r\n            temp_hyst: '',\r\n            fan_min: '',\r\n            fan_max: '',\r\n            humidity_min: '',\r\n            humidity_max: '',\r\n            humidity_hyst: '',\r\n            humidifier_min: '',\r\n            humidifier_max: ''\r\n        };\r\n\r\n        this.dbHelper = new DbHelper()\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n        this.watchConfig = this.watchGrowConfig(this.setFetchedConfig);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    saveConfig = () => {\r\n        this.dbHelper.setGrowConfig(\r\n            {\r\n                temp_min: this.state.temp_min,\r\n                temp_max: this.state.temp_max,\r\n                temp_hyst: this.state.temp_hyst,\r\n                fan_min: this.state.fan_min,\r\n                fan_max: this.state.fan_max,\r\n                humidity_min: this.state.humidity_min,\r\n                humidity_max: this.state.humidity_max,\r\n                humidity_hyst: this.state.humidity_hyst,\r\n                humidifier_min: this.state.humidifier_min,\r\n                humidifier_max: this.state.humidifier_max\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    saveConfig = () => {\r\n        this.dbHelper.setGrowConfig(\r\n            this.props.growID,\r\n            {\r\n                temp_min: this.state.temp_min,\r\n                temp_max: this.state.temp_max,\r\n                temp_hyst: this.state.temp_hyst,\r\n                fan_min: this.state.fan_min,\r\n                fan_max: this.state.fan_max,\r\n                humidity_min: this.state.humidity_min,\r\n                humidity_max: this.state.humidity_max,\r\n                humidity_hyst: this.state.humidity_hyst,\r\n                humidifier_min: this.state.humidifier_min,\r\n                humidifier_max: this.state.humidifier_max\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    watchGrowConfig = async (setData) => {\r\n        try {\r\n            await this.dbHelper.watchGrowConfig(this.props.growID, setData)\r\n        } catch(e) {\r\n            console.log(e); \r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n    setFetchedConfig = (configObj) => {\r\n        \r\n        this.setState({\r\n            temp_min: configObj.temp_min,\r\n            temp_max: configObj.temp_max,\r\n            temp_hyst: configObj.temp_hyst,\r\n            fan_min: configObj.fan_min,\r\n            fan_max: configObj.fan_max,\r\n            humidity_min: configObj.humidity_min,\r\n            humidity_max: configObj.humidity_max,\r\n            humidity_hyst: configObj.humidity_hyst,\r\n            humidifier_min: configObj.humidifier_min,\r\n            humidifier_max: configObj.humidifier_max\r\n        });\r\n\r\n    }\r\n\r\n    handleTempMinChange = (event) => {\r\n        this.setState({ temp_min: event.target.value });\r\n    }\r\n\r\n    handleTempMaxChange = (event) => {\r\n        this.setState({ temp_max: event.target.value });\r\n    }\r\n\r\n    handleTempHystChange = (event) => {\r\n        this.setState({ temp_hyst: event.target.value });\r\n    }\r\n\r\n    handleFanMinChange = (event) => {\r\n        this.setState({ fan_min: event.target.value });\r\n    }\r\n\r\n    handleFanMaxChange = (event) => {\r\n        this.setState({ fan_max: event.target.value });\r\n    }\r\n\r\n    handleHumidityMinChange = (event) => {\r\n        this.setState({ humidity_min: event.target.value });\r\n    }\r\n\r\n    handleHumidityMaxChange = (event) => {\r\n        this.setState({ humidity_max: event.target.value });\r\n    }\r\n\r\n    handleHumidityHystChange = (event) => {\r\n        this.setState({ humidity_hyst: event.target.value });\r\n    }\r\n\r\n    handleHumidifierMinChange = (event) => {\r\n        this.setState({ humidifier_min: event.target.value });\r\n    }\r\n\r\n    handleHumidifierMaxChange = (event) => {\r\n        this.setState({ humidifier_max: event.target.value });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Config-Page\">\r\n                <h1>Grow Config</h1>\r\n                <div id=\"Config-Temp-Field\">\r\n                    <h2>TEMPERATURE</h2>\r\n                    <div id=\"Config-Temp-Min-Max\">\r\n                        <div>\r\n                            Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"temp-min\" value={this.state.temp_min} onChange={this.handleTempMinChange} />°C\r\n                        </div>\r\n                        <div>\r\n                            Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"temp-max\" value={this.state.temp_max} onChange={this.handleTempMaxChange} />°C\r\n                        </div>\r\n                        <div>\r\n                            Hyst:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"temp-hyst\" value={this.state.temp_hyst} onChange={this.handleTempHystChange} />Δ°C\r\n                        </div>\r\n                    </div>\r\n                    <h3>FAN POWER</h3>\r\n                    <div id=\"Config-Fan-Min-Max\">\r\n                        <div>\r\n                            Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"fan-min\" value={this.state.fan_min} onChange={this.handleFanMinChange} />%\r\n                        </div>\r\n                        <div>\r\n                            Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"fan-max\" value={this.state.fan_max} onChange={this.handleFanMaxChange} />%\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div id=\"Config-Humidity-Field\">\r\n                    <h2>HUMIDITY</h2>\r\n                    <div id=\"Config-Humidity-Min-Max\">\r\n                        <div>\r\n                            Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidity-min\" value={this.state.humidity_min} onChange={this.handleHumidityMinChange} />% R.H.\r\n                        </div>\r\n                        <div>\r\n                            Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidity-max\" value={this.state.humidity_max} onChange={this.handleHumidityMaxChange} />% R.H.\r\n                        </div>\r\n                        <div>\r\n                            Hyst:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidity-hyst\" value={this.state.humidity_hyst} onChange={this.handleHumidityHystChange} />Δ % R.H.\r\n                        </div>\r\n                    </div>\r\n                    <h3>HUMIDIFIER POWER</h3>\r\n                    <div id=\"Config-Humidifier-Min-Max\">\r\n                        <div>\r\n                            Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidifier-min\" value={this.state.humidifier_min} onChange={this.handleHumidifierMinChange} />%\r\n                        </div>\r\n                        <div>\r\n                            Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidifier-max\" value={this.state.humidifier_max} onChange={this.handleHumidifierMaxChange} />%\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div id=\"SAVE-CONFIG-BTN\" onClick={this.saveConfig}>\r\n                    SAVE\r\n                </div>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowConfig;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport Dropzone from 'react-dropzone';\r\n\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass JournalAddEditModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            content: '',\r\n            images: [],\r\n            addedImages: [],\r\n            journalID: this.props.journalID,\r\n            postDate: new Date(),\r\n            trueDate: new Date(),\r\n            growStage: 'veg', // pre, seedling, veg, flower, post\r\n            published: false,\r\n            entryID: ''\r\n        };\r\n\r\n        this.dbHelper = new DbHelper();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.editPost) {\r\n\r\n            var tempTrueDate = null\r\n            if (this.props.editPost.datetime_true) {\r\n                tempTrueDate = new Date(this.props.editPost.datetime_true)\r\n            } else {\r\n                tempTrueDate = this.state.trueDate\r\n            }\r\n\r\n            var tempPostDate = null\r\n            if (this.props.editPost.datetime_post) {\r\n                tempPostDate = new Date(this.props.editPost.datetime_post)\r\n            } else {\r\n                tempPostDate = this.state.postDate\r\n            }\r\n  \r\n\r\n            var tempContent = this.props.editPost.content\r\n            var tempTitle = this.props.editPost.title\r\n            var tempImages = this.props.editPost.images\r\n            if (tempImages === null || tempImages === undefined) {\r\n                tempImages = []\r\n            }\r\n            var tempGrowStage = null\r\n            if (this.props.editPost.grow_stage) {\r\n                tempGrowStage = this.props.editPost.grow_stage\r\n            } else {\r\n                tempGrowStage = this.state.growStage\r\n            }\r\n\r\n            var tempPostId = this.props.editPost.id\r\n\r\n            this.setState({\r\n                title: tempTitle,\r\n                content: tempContent,\r\n                trueDate: tempTrueDate,\r\n                postDate: tempPostDate,\r\n                growStage: tempGrowStage,\r\n                images: tempImages,\r\n                entryID: tempPostId,\r\n                published: true\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTitleChange = (event) => {\r\n        this.setState({ title: event.target.value });\r\n    }\r\n\r\n    handleContentChange = (event) => {\r\n        this.setState({ content: event.target.value });\r\n    }\r\n\r\n    cancelModal = () => {\r\n\r\n        this.deleteAllAddedImages();\r\n\r\n        this.props.closeModal(this.state.entryID);\r\n    }\r\n\r\n    saveEntry = async () => {\r\n        if (this.state.content === '' && this.state.images.length === 0) {\r\n            alert(\"Needs content or images!\")\r\n            return;\r\n        }\r\n        this.setState({ published: true });\r\n\r\n        this.dbHelper.saveJournalEntry(\r\n            this.state.journalID,\r\n            this.state.entryID,\r\n            this.state.trueDate,\r\n            this.state.title,\r\n            this.state.content,\r\n            this.state.growStage,\r\n            this.state.postDate,\r\n            this.state.images,\r\n            this.closeModal\r\n        )\r\n\r\n\r\n    }\r\n\r\n    closeModal = (entryID) => {\r\n        this.props.closeModal(entryID);\r\n    }\r\n\r\n    onImageDrop(files) {\r\n\r\n        console.log(files);\r\n\r\n        files.forEach((file) => {\r\n            this.handleImageUpload(file);\r\n            console.log(\"upload \" + file);\r\n        })\r\n\r\n    }\r\n\r\n    displayFullImage = () => {\r\n\r\n        console.log(\"JournalAddEditModal todo\")\r\n    }\r\n\r\n\r\n    handleImageUpload = async (file) => {\r\n        try {\r\n            await this.dbHelper.handleImageUpload(file, this.setImages)\r\n        } catch (e) {\r\n            console.log(e);\r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n    setImages = (url, thumbURL) => {\r\n        var tempImages = this.state.images;\r\n        var tempAddedImages = this.state.addedImages;\r\n        tempImages.push({ 'url': url, 'thumb': thumbURL })\r\n        tempAddedImages.push({ 'url': url, 'thumb': thumbURL })\r\n        this.setState({\r\n            images: tempImages,\r\n            addedImages: tempAddedImages\r\n        });\r\n    }\r\n\r\n    deleteImage = (ev) => {\r\n        let val = ev.target.dataset.value;\r\n        console.log(val);\r\n        console.log(this.state.images);\r\n\r\n        let tempImages = []\r\n\r\n        this.state.images.forEach((img) => {\r\n            if (img.url.toString() === val) {\r\n                this.handleImageDelete(img.url);\r\n                this.handleImageDelete(img.thumb)\r\n            } else {\r\n                tempImages.push(img)\r\n            }\r\n        })\r\n\r\n        this.setState({ images: tempImages });\r\n\r\n    }\r\n\r\n    deleteAllAddedImages = () => {\r\n        let imagesToDelete = this.state.addedImages;\r\n        // this.setState({ images: [] });\r\n\r\n        imagesToDelete.forEach((img) => {\r\n            this.handleImageDelete(img.url);\r\n            this.handleImageDelete(img.thumb);\r\n        })\r\n    }\r\n\r\n    handleImageDelete = (url) => {\r\n        this.dbHelper.handleImageDelete(url);\r\n    }\r\n\r\n    handleDateChange = (dt) => {\r\n        this.setState({ trueDate: dt });\r\n    }\r\n\r\n    handleGrowStageChange = (event) => {\r\n        this.setState({ growStage: event.target.value });\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        console.log(\"true DATE!!\")\r\n        console.log(this.state.trueDate)\r\n\r\n        if (this.state.images) {\r\n            var renderedThumbnails = this.state.images.map((image, i) => <div className=\"Temp-Image-Div\"><img key={i} alt=\"grow img\" data-value={image.url} src={image.url} className=\"Journal-Entry-Preview-Thumbnail\" onClick={this.displayFullImage} /><div data-value={image.url} onClick={this.deleteImage} className=\"Delete-Image-Btn\">X</div></div>)\r\n        }\r\n\r\n        return (\r\n            <div id=\"Journal-Modal-Space\">\r\n                <div id=\"Journal-Edit-Entry-Modal\">\r\n                    <div id=\"Journal-Edit-Topline\">\r\n                        {/* DATE PICKER  */}\r\n                        <DatePicker\r\n                            id=\"journal-edit-datepicker\"\r\n                            selected={this.state.trueDate}\r\n                            onChange={this.handleDateChange} />\r\n                        {/* STAGE PICKER  */}\r\n                        <select id=\"journal-edit-grow-stage\" onChange={this.handleGrowStageChange} value={this.state.growStage}>\r\n                            <option value=\"post\">Post</option>\r\n                            <option value=\"flower\">Flower</option>\r\n                            <option value=\"veg\">Veg</option>\r\n                            <option value=\"seedling\">Seedling</option>\r\n                            <option value=\"pre\">Pre</option>\r\n                        </select>\r\n                        {/* TITLE INPUT  */}\r\n                        <input className=\"journal-modal-edit-title\" placeholder=\"enter title...\" value={this.state.title} onChange={this.handleTitleChange} />\r\n                    </div>\r\n                    {/* BODY INPUT  */}\r\n                    <textarea className=\"journal-modal-edit-body\" placeholder=\"enter body content...\" value={this.state.content} onChange={this.handleContentChange} />\r\n                    {/* BODY INPUT  */}\r\n                    <div className=\"journal-add-images-area\">\r\n\r\n                        <Dropzone\r\n                            className=\"journal-add-images-dropzone\"\r\n                            onDrop={this.onImageDrop.bind(this)}\r\n                            accept=\"image/*\"\r\n                            multiple={true}>\r\n                            {({ getRootProps, getInputProps }) => {\r\n                                return (\r\n                                    <div {...getRootProps()}>\r\n                                        <input {...getInputProps()} />\r\n                                        {\r\n                                            <p id=\"Image-Drop-Text\">Try dropping some <br></br> images <span role=\"img\" aria-label=\"camera\">&#x1f4f7;</span> here, <br></br>or click to <br></br> select files.</p>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        </Dropzone>\r\n\r\n                        {(() => {\r\n                            if (renderedThumbnails) {\r\n                                return (\r\n                                    <div className=\"Journal-Edit-Post-Images\">\r\n                                        {renderedThumbnails}\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                    </div>\r\n\r\n                    <div id=\"journal-cancel-save-btns\">\r\n                        <button className=\"journal-cancel-btn\" onClick={this.cancelModal}>Cancel</button>\r\n                        <button className=\"journal-save-entry-btn\" onClick={this.saveEntry}>Save Entry</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalAddEditModal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass FullImageModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            imageList: this.props.imageList,\r\n            currentImage: this.props.currentFullImage,\r\n            fullSizeList: []\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.imageList) {\r\n            var tempFullSizeList = []\r\n            this.props.imageList.forEach((image) => {\r\n                tempFullSizeList[tempFullSizeList.length] = image.url\r\n            });\r\n            this.setState({ fullSizeList: tempFullSizeList });\r\n        }\r\n\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.props.closeModal('');\r\n    }\r\n\r\n    nextImage = () => {\r\n\r\n        this.state.fullSizeList.forEach((imageUrl, i) => {\r\n            if (imageUrl === this.state.currentImage) {\r\n                if (i < this.state.fullSizeList.length - 1) {\r\n                    this.setState({ currentImage: this.state.fullSizeList[i + 1] });\r\n                }\r\n                return;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    previousImage = () => {\r\n\r\n        this.state.fullSizeList.forEach((imageUrl, i) => {\r\n            if (imageUrl === this.state.currentImage) {\r\n                if (i > 0) {\r\n                    this.setState({ currentImage: this.state.fullSizeList[i - 1] });\r\n                }\r\n                return;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(\"FULLIMAGE MODAL!\")\r\n        console.log(this.state.imageList)\r\n        console.log(this.state.currentImage)\r\n\r\n        return (\r\n            <div id=\"Full-Image-Modal-Space\">\r\n                <img id=\"Full-Image-Image\" alt=\"full size\" src={this.state.currentImage} />\r\n                <button onClick={this.closeModal} id=\"Full-Image-Close-Btn\">x</button>\r\n                <button onClick={this.previousImage} id=\"Full-Image-Last-Btn\">&#8804;</button>\r\n                <button onClick={this.nextImage} id=\"Full-Image-Next-Btn\">&#8805;</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FullImageModal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass JournalCreateModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journalName: '',\r\n            journalID: this.props.journalID\r\n        };\r\n\r\n\t\tthis.dbHelper = new DbHelper();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    handleJournalNameChange = (event) => {\r\n        this.setState({ journalName: event.target.value });\r\n    }\r\n\r\n    cancelModal = () => {\r\n        this.props.setJournalID(null);\r\n    }\r\n\r\n    createJournal = async () => {\r\n        if (this.state.journalName === '') {\r\n            alert(\"Journal needs a name!\")\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await this.dbHelper.createJournal(this.state.journalName, this.openJournal)\r\n        } catch (e) {\r\n            console.log(e);\r\n            return 'caught ' + e\r\n        }\r\n\r\n    }\r\n\r\n    openJournal = (journalID) => {\r\n        this.setState({ journalID: journalID });\r\n        this.props.setJournalID(journalID);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id=\"Journal-Modal-Space\">\r\n                <div id=\"Journal-Create-Modal\">\r\n                    {/* TITLE INPUT  */}\r\n                    <input className=\"journal-modal-journal-name\" placeholder=\"enter journal name...\" value={this.state.journalName} onChange={this.handleJournalNameChange} />\r\n                    <div id=\"journal-create-btns\">\r\n                        <button className=\"journal-cancel-create-btn\" onClick={this.cancelModal}>Cancel</button>\r\n                        <button className=\"journal-create-journal-btn\" onClick={this.createJournal}>Create Journal</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalCreateModal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nclass JournalTimelineButton extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journalName: '',\r\n            journalID: this.props.journalID,\r\n            monthDayDate: ''\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if (this.props.entry) {\r\n            var timelineDate = new Date(this.props.entry.datetime_true)\r\n            var shortMonth = (timelineDate.getMonth() + 1) + \"-\"\r\n            if (shortMonth.length === 2) {\r\n                shortMonth = \"0\" + shortMonth;\r\n            }\r\n            var shortDateVar = shortMonth + timelineDate.getDate()\r\n            this.setState({ monthDayDate: shortDateVar });\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    setEntries = () => {\r\n        this.props.setEntries(this.props.entries);\r\n    }\r\n\r\n    render() {\r\n        var growStage = this.props.entry.grow_stage\r\n        var idVar = \"Timeline-Dot-\" + growStage.charAt(0).toUpperCase() + growStage.slice(1)\r\n\r\n        // Check if the button corresponds to the active entry\r\n        var isActiveEntry = false;\r\n        if (this.props.currentEntryID === this.props.entry.id) {\r\n            isActiveEntry = true;\r\n        }\r\n\r\n        var array = (this.props.entry.datetime_short).split(\"-\");\r\n        var datetimeShortMD = array[0] + \"-\" + array[1]\r\n\r\n        var dateString = new Date(this.props.entry.datetime_true).toDateString()\r\n\r\n        var previewImage = null;\r\n        if (this.props.entries[0].images) {\r\n            previewImage = this.props.entries[0].images[0].thumb;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {(() => {\r\n                    if (isActiveEntry) {\r\n                        return (\r\n                            <div className=\"Timeline-Dot-Connector\">\r\n                                <div className=\"Dot-Connector-Text-rotate-180\">\r\n\r\n                                    {datetimeShortMD}\r\n\r\n\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                        )\r\n                    }\r\n                })()}\r\n                <button data-value={this.props.entries} id={idVar} className=\"Timeline-Dot\" onClick={this.setEntries}>\r\n\r\n                    {(() => {\r\n                        if (!isActiveEntry) {\r\n                            return (\r\n                                <div className=\"Dot-Preview-rotate-180\">\r\n                                    <div className=\"Dot-Preview-Window\">\r\n                                        <div className=\"Dot-Preview-Date-String\">\r\n                                            {dateString}\r\n                                        </div>\r\n\r\n                                        {(() => {\r\n                                            if (previewImage) {\r\n                                                return <img alt=\"journal preview\" src={previewImage} className=\"Preview-Image-Thumbnail\" onClick={this.displayFullImage} />\r\n                                            }\r\n                                        })()}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n\r\n\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalTimelineButton;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass JournalBoxItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journal: this.props.journal\r\n        };\r\n\r\n    }\r\n\r\n    openJournal = () => {\r\n        this.props.openJournal(this.props.journal)\r\n    }\r\n\r\n    render() {\r\n\r\n        var createdAt = new Date(this.props.journal.createdAt).toDateString()\r\n\r\n        // TODO... simplify below.\r\n        var updatedAtDate = new Date(this.props.journal.updatedAt)\r\n        var updatedAtHoursString = updatedAtDate.getHours().toString()\r\n        if (updatedAtHoursString.length === 1) {\r\n            updatedAtHoursString = \"0\" + updatedAtHoursString\r\n        }\r\n        var updatedAtMinutesString = updatedAtDate.getMinutes().toString()\r\n        if (updatedAtMinutesString.length === 1) {\r\n            updatedAtMinutesString = \"0\" + updatedAtMinutesString\r\n        }\r\n        var updatedAt = updatedAtDate.toDateString() + \" - \" + updatedAtHoursString + \":\" + updatedAtMinutesString\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"Journal-Box-Item\" data-value={this.props.journal.id} onClick={this.openJournal}>\r\n                <div className=\"Journal-Box-Item-Main\">\r\n                    <div className=\"Journal-Box-Item-Header\">\r\n                        <div>\r\n                            {this.props.journal.name}\r\n                        </div>\r\n                        <div className=\"Journal-Box-Created\">\r\n                            updated: <i><b>{updatedAt}</b></i>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"Journal-Box-Info\">\r\n                        created: <i><b>{createdAt}</b></i>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <img alt=\"preview\" src={this.props.journal.previewImage} className=\"Journal-Box-Preview-Image\" />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalBoxItem;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nclass JournalEntry extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.state.currentEntry) {\r\n            if (this.state.currentEntry.id === prevProps.currentEntry.id) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            currentEntry: prevProps.currentEntry\r\n        });\r\n\r\n    }\r\n\r\n    displayFullImage = (ev) => {\r\n        this.props.displayFullImage(this.props.currentEntry.images)\r\n        this.props.currentFullImage(ev.target.dataset.value)\r\n        // let val = ev.target.dataset.value;\r\n        // window.open(val);\r\n    }\r\n\r\n    editEntryByID = (ev) => {\r\n        this.props.editEntryByID(ev.target.dataset.value);\r\n    }\r\n\r\n    render() {\r\n\r\n        var renderedThumbnails = null;\r\n        if (this.props.currentEntry) {\r\n            if (this.props.currentEntry.images) {\r\n                renderedThumbnails = this.props.currentEntry.images.map((image, i) => <img key={i} alt=\"grow img\" data-value={image.url} src={image.thumb} className=\"Journal-Entry-Thumbnail\" onClick={this.displayFullImage} />)\r\n            }\r\n        }\r\n\r\n        var datetimeTrue = null;\r\n        if (this.props.currentEntry && (this.props.currentEntry !== '')) {\r\n            datetimeTrue = new Date(this.props.currentEntry.datetime_true)\r\n        }\r\n\r\n        return (\r\n            <div className=\"Journal-Post-View\">\r\n\r\n                <div className=\"Journal-Post-Header\">\r\n                    <div className=\"Journal-Post-Date\">\r\n                        {datetimeTrue.toDateString()}\r\n                    </div>\r\n\r\n                    <div className=\"Journal-Post-Title\">\r\n                        {this.props.currentEntry.title}\r\n                    </div>\r\n\r\n                    <button className=\"Journal-Edit-Post-Btn\" data-value={this.props.currentEntry.id} onClick={this.editEntryByID}>\r\n                        edit &#9998;\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"Journal-Post-Content\">\r\n                    {this.props.currentEntry.content}\r\n                </div>\r\n\r\n\r\n                {(() => {\r\n                    if (renderedThumbnails) {\r\n                        return (\r\n                            <div className=\"Journal-Post-Images-Wrapper\">\r\n                                <div className=\"Journal-Post-Images\">\r\n                                    {renderedThumbnails}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                })()}\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalEntry;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport JournalAddEditModal from './JournalAddEditModal'\r\nimport FullImageModal from './FullImageModal'\r\nimport JournalCreateModal from './JournalCreateModal'\r\nimport JournalTimelineButton from './JournalTimelineButton'\r\nimport JournalBoxItem from './JournalBoxItem'\r\nimport JournalEntry from './JournalEntry'\r\n\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass GrowJournal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            displayContent: \"main\",\r\n            displayEntries: [], // list of entries at selected date\r\n            currentEntry: null,\r\n            currentEntryID: null,\r\n            testContent: '',\r\n            timelineEntries: [],\r\n            journalID: this.props.journalID,\r\n            fullImageModalImages: null,\r\n            currentFullImage: null\r\n        };\r\n\r\n        this.dbHelper = new DbHelper();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n\r\n        if (this.props.journalID) {\r\n            this.watchEntries(this.props.journalID)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    watchEntries = (journalID = this.props.journalID) => {\r\n        this.dbHelper.watchJournalEntries(journalID, this.setJournalEntries)\r\n    }\r\n\r\n    setJournalEntries = (entriesList, dotsList) => {\r\n        if (entriesList.length > 0) {\r\n            this.setState({\r\n                currentEntry: entriesList[entriesList.length - 1],\r\n                currentEntryID: entriesList[entriesList.length - 1].id,\r\n                timelineEntries: entriesList,\r\n                timelineDots: dotsList,\r\n                displayEntries: dotsList[dotsList.length - 1]\r\n            });\r\n        } else {\r\n            this.setState({\r\n                currentEntry: null,\r\n                currentEntryID: null,\r\n                timelineEntries: [],\r\n                timelineDots: [],\r\n                displayEntries: []\r\n            });\r\n        }\r\n\r\n        this.setEntries(dotsList[dotsList.length - 1]);\r\n    }\r\n\r\n    addTimelineEntry = () => {\r\n        this.setState({ displayContent: \"add\" });\r\n    }\r\n\r\n    editEntryByID = (entryID) => {\r\n        console.log(\"edit: \" + entryID)\r\n        console.log(entryID)\r\n\r\n        this.state.timelineEntries.forEach((timelineEntry) => {\r\n            if (timelineEntry.id === entryID) {\r\n                this.setState({\r\n                    currentEntry: timelineEntry,\r\n                    currentEntryID: timelineEntry.id,\r\n                    displayContent: \"edit\"\r\n                });\r\n                return;\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    openFullImageModal = (images) => {\r\n\r\n        this.setState({\r\n            displayContent: \"full-image\",\r\n            fullImageModalImages: images\r\n        });\r\n    }\r\n\r\n    openFullImage = (imageUrl) => {\r\n\r\n        console.log(\"imageURL\")\r\n        console.log(imageUrl)\r\n\r\n        this.setState({\r\n            currentFullImage: imageUrl\r\n        });\r\n    }\r\n\r\n\r\n    closeModal = (key) => {\r\n\r\n        if (!key || key === '') {\r\n            this.setState({ displayContent: \"main\" });\r\n            return;\r\n        }\r\n\r\n        this.setState({ displayContent: \"main\" });\r\n        this.state.timelineEntries.forEach((timelineEntry) => {\r\n            if (timelineEntry.id === key) {\r\n                this.setState({\r\n                    currentEntry: timelineEntry,\r\n                    currentEntryID: timelineEntry.id\r\n                });\r\n                return;\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    setJournalID = (id) => {\r\n        if (id === null) {\r\n            this.setState({\r\n                displayContent: \"main\",\r\n            });\r\n            this.props.setJournalID(null)\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            displayContent: \"main\",\r\n            journalID: id\r\n        });\r\n        this.props.setJournalID(id)\r\n        this.watchEntries(id)\r\n    }\r\n\r\n    setEntries = (entries) => {\r\n        if (!entries) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            currentEntry: entries[0],\r\n            currentEntryID: entries[0].id,\r\n            displayEntries: entries\r\n        });\r\n\r\n    }\r\n\r\n    handleJournalChange = (ev) => {\r\n        console.log(\"JOURNAL CHANGE!!!!\")\r\n        console.log(ev.target.value)\r\n        this.setState({\r\n            currentEntry: null,\r\n            currentEntryID: null,\r\n            displayEntries: []\r\n        });\r\n        this.props.setJournalID(ev.target.value)\r\n        this.watchEntries(ev.target.value)\r\n    }\r\n\r\n    openCreateJournalModal = () => {\r\n        this.setState({ displayContent: \"create-journal\" });\r\n    }\r\n\r\n    openJournal = (journal) => {\r\n        this.setState({\r\n            journalID: journal.id\r\n        });\r\n        this.props.setJournalID(journal.id);\r\n        this.watchEntries(journal.id);\r\n    }\r\n\r\n    render() {\r\n\r\n        var renderedJournalOptions = '';\r\n        if (this.props.userJournals.length > 0) {\r\n            renderedJournalOptions = this.props.userJournals.map((journal) => <option key={journal.id} value={journal.id}>{journal.name}</option>)\r\n        }\r\n\r\n        var renderedUserJournals = null;\r\n        if (this.props.userJournals) {\r\n            renderedUserJournals = this.props.userJournals.map((journal) =>\r\n                <div key={journal.id} className=\"Journal-Box-Item-Container\">\r\n                    <JournalBoxItem journal={journal} openJournal={this.openJournal} />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        var renderedJournalEntries = null;\r\n        if (this.state.displayEntries) {\r\n            renderedJournalEntries = this.state.displayEntries.map((entry) =>\r\n                <JournalEntry key={entry.id} editEntryByID={this.editEntryByID} currentEntry={entry} currentFullImage={this.openFullImage} displayFullImage={this.openFullImageModal} />\r\n            )\r\n        }\r\n\r\n        var renderedTimelineDots = null;\r\n        if (this.state.timelineDots) {\r\n            renderedTimelineDots = this.state.timelineDots.map((dot) =>\r\n                <JournalTimelineButton key={dot[0].datetime_short} currentEntryID={this.state.currentEntryID} setEntries={this.setEntries} entry={dot[0]} entries={dot} />\r\n            )\r\n        }\r\n\r\n        return (\r\n\r\n\r\n            <div id=\"Journal-Page\">\r\n                <div id=\"Journal-Main\">\r\n                    <div id=\"Grow-Journal-Main-Area\">\r\n\r\n                        {(() => {\r\n                            if (renderedUserJournals && !this.props.journalID) {\r\n                                return (\r\n                                    <div id=\"Journal-Box-Area-Scroll\">\r\n\r\n\r\n                                        <div id=\"Grow-Journal-Header-Area\">\r\n                                            <div id=\"Grow-Journal-Header-Text\">Grow Journals</div>\r\n                                            <button className=\"New-Journal-Btn\" onClick={this.openCreateJournalModal}>\r\n                                                +\r\n                                            </button>\r\n                                        </div>\r\n\r\n\r\n                                        <div id=\"Journal-Box-Area\">\r\n                                            {renderedUserJournals}\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            } else if (!this.props.journalID) {\r\n                                return (\r\n                                    <div id=\"Grow-Journal-Header-Area\">\r\n                                        <div id=\"Grow-Journal-Header-Text\">Grow Journals</div>\r\n                                        <button className=\"New-Journal-Btn\" onClick={this.openCreateJournalModal}>\r\n                                            +\r\n                                        </button>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n\r\n                        {(() => {\r\n                            if (renderedJournalOptions && this.props.journalID) {\r\n                                return (\r\n                                    <div className=\"Grow-Journal-Title-Div\">\r\n                                        <select id=\"Grow-Journal-Title-Select\" onChange={this.handleJournalChange} value={this.props.journalID}>\r\n                                            {renderedJournalOptions}\r\n                                        </select>\r\n                                        <button className=\"New-Journal-Btn\" onClick={this.openCreateJournalModal}>\r\n                                            +\r\n                                        </button>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                        {(() => {\r\n                            if (this.props.journalID) {\r\n                                return (\r\n                                    <div id=\"Journal-Posts-Container\">\r\n                                        {(() => {\r\n                                            if (renderedJournalEntries) {\r\n                                                return (\r\n                                                    <div>\r\n                                                        {renderedJournalEntries}\r\n                                                    </div>\r\n                                                )\r\n                                            } else {\r\n                                                return (\r\n                                                    <div className=\"Journal-Post-View\" >\r\n                                                        Let's get some journal entries...\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                        })()}\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    {(() => {\r\n                        if (this.props.journalID) {\r\n                            return (\r\n                                <div id=\"Timeline-Container\">\r\n\r\n                                    <div id=\"Timeline-Inner-Container\">\r\n                                        <div id=\"Timeline-Line\" />\r\n                                        \r\n                                        <div id=\"Timeline-Spots\">\r\n\r\n                                            {renderedTimelineDots}\r\n\r\n                                            <button id=\"Timeline-Add-Dot\" onClick={this.addTimelineEntry}>+</button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            )\r\n\r\n                        }\r\n                    })()}\r\n\r\n                </div>\r\n\r\n\r\n                {/* MODAL */}\r\n\r\n                {(() => {\r\n\r\n                    switch (this.state.displayContent) {\r\n                        case 'add':\r\n                            return <JournalAddEditModal journalID={this.props.journalID} closeModal={this.closeModal} editPost=\"new\" />;\r\n                        case 'edit':\r\n                            return <JournalAddEditModal journalID={this.props.journalID} closeModal={this.closeModal} editPost={this.state.currentEntry} />;\r\n                        case 'full-image':\r\n                            return <FullImageModal closeModal={this.closeModal} imageList={this.state.fullImageModalImages} currentFullImage={this.state.currentFullImage} />;\r\n                        case 'create-journal':\r\n                            return <JournalCreateModal journalID={this.props.journalID} setJournalID={this.setJournalID} />;\r\n                        case 'main':\r\n                            return <div />;\r\n                        default:\r\n                            return <div />;\r\n                    }\r\n\r\n                })()}\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowJournal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass GrowDataDisplay extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journalName: '',\r\n            journalID: this.props.journalID\r\n        };\r\n\r\n\r\n    }\r\n   \r\n    render() {\r\n\r\n        var cTemp = null;\r\n\t\tvar fanSpeed = null;\r\n\t\tvar humiPower = null;\r\n\t\tvar humidity = null;\r\n\t\t// var lastUpdate = null;\r\n\t\tif (this.props.liveData) {\r\n\t\t\tcTemp = this.props.liveData.cTemp\r\n\t\t\tcTemp = Math.round(cTemp * 10) / 10;\r\n\t\t\tfanSpeed = this.props.liveData.fanSpeed\r\n\t\t\thumiPower = this.props.liveData.humiPower\r\n\t\t\thumidity = this.props.liveData.humidity\r\n            humidity = Math.round(humidity * 10) / 10;\r\n        }\r\n\r\n        return (\r\n            <div id=\"Grow-Data-Display\">\r\n            {(() => {\r\n                if (cTemp) {\r\n                    var backgroundIndicator = null\r\n                    if (cTemp > 20 && cTemp < 27) {\r\n                        backgroundIndicator = \"Data-Optimal-Background\"\r\n                    } else if (cTemp <= 19 && cTemp > 28) {\r\n                        backgroundIndicator = \"Data-Danger-Background\"\r\n                    } else {\r\n                        backgroundIndicator = \"Data-Warning-Background\"\r\n                    }\r\n\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">TEMP</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className={backgroundIndicator}>\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Data-Raw\">{cTemp}</div >\r\n                                    <div className=\"Horizontal-20px-Gap\"></div>\r\n                                    <div className=\"Grow-Box-Data-Unit\">°C</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            {(() => {\r\n                if (fanSpeed) {\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">FAN SPEED</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className=\"Data-Neutral-Background\">\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Data-Raw\">{fanSpeed}</div >\r\n                                    <div className=\"Horizontal-20px-Gap\"></div>\r\n                                    <div className=\"Grow-Box-Data-Unit\">%</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            {(() => {\r\n                if (humidity) {\r\n                    var backgroundIndicator = null\r\n                    if (humidity > 30 && humidity < 43) {\r\n                        backgroundIndicator = \"Data-Optimal-Background\"\r\n                    } else if (humidity <= 27 && humidity > 45) {\r\n                        backgroundIndicator = \"Data-Danger-Background\"\r\n                    } else {\r\n                        backgroundIndicator = \"Data-Warning-Background\"\r\n                    }\r\n\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">HUMIDITY</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className={backgroundIndicator}>\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Data-Raw\">{humidity}</div >\r\n                                    <div className=\"Horizontal-20px-Gap\"></div>\r\n                                    <div className=\"Grow-Box-Data-Unit\">%RH</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            {(() => {\r\n                if (humiPower) {\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">HUMIDIFIER</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className=\"Data-Neutral-Background\">\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Info-Data\">\r\n                                        <div className=\"Grow-Box-Data-Raw\">{humiPower}</div >\r\n                                        <div className=\"Horizontal-20px-Gap\"></div>\r\n                                        <div className=\"Grow-Box-Data-Unit\">%</div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowDataDisplay;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip } from 'recharts';\r\n\r\nimport moment from 'moment'\r\n\r\n\r\nclass GraphSensorsBox extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n        if (this.props.growID && this._ismounted) {\r\n            if (this.props.growID !== this.growID) {\r\n                this.growID = this.props.growID;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n\r\n        this.getGraphData = null;\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n\r\n        if (this.props.growID && this._ismounted) {\r\n            if (this.props.growID !== this.growID) {\r\n                this.growID = this.props.growID;\r\n            }\r\n        }\r\n\r\n        if (this.props.rawGrowData && this.props.growID) {\r\n\r\n            var gwID = this.props.growID\r\n            var rawData = this.props.rawGrowData\r\n\r\n            if (rawData[gwID]) {\r\n                var setData = rawData[gwID][rawData[gwID].length - 1]\r\n\r\n                if (this.data !== setData) {\r\n\r\n                    this.data = setData\r\n                    \r\n\r\n                    var processedData = []\r\n                    setData.forEach((dataPoint) => {\r\n                        var processedPoint = dataPoint\r\n\r\n                        if (new Date().getTime() - processedPoint.time < 7200000) {\r\n                            processedData[processedData.length] = processedPoint\r\n                        }\r\n                    })\r\n\r\n                    this.setState({\r\n                        processedData: processedData\r\n                    });\r\n               \r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    renderTooltip(props) {\r\n        var rawContent = props.payload\r\n        if (rawContent.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var readableTime = moment(props.payload[0].payload.time).fromNow()\r\n\r\n        var tempTemp = null;\r\n        var tempTempColor = \"#000\"\r\n        var tempFanPower = null;\r\n        var tempFanSpdColor = \"#000\"\r\n        var tempHumidity = null;\r\n        var tempHumidityColor = \"#000\"\r\n        var tempHumidifierPower = null;\r\n        var tempHumiPwrColor = \"#000\"\r\n\r\n        rawContent.forEach((line) => {\r\n            if (line.dataKey === \"cTemp\") {\r\n                tempTempColor = line.stroke\r\n                tempTemp = rawContent[0].payload.cTemp\r\n            }\r\n\r\n            if (line.dataKey === \"fanSpeed\") {\r\n                tempFanSpdColor = line.stroke\r\n                tempFanPower = rawContent[0].payload.fanSpeed\r\n            }\r\n\r\n            if (line.dataKey === \"humidity\") {\r\n                tempHumidityColor = line.stroke\r\n                tempHumidity = rawContent[0].payload.humidity\r\n            }\r\n\r\n            if (line.dataKey === \"humiPower\") {\r\n                tempHumiPwrColor = line.stroke\r\n                tempHumidifierPower = rawContent[0].payload.humiPower\r\n            }\r\n        })\r\n\r\n        return (\r\n            <div className=\"Grow-Details-Graph-Tooltip\">\r\n                <div>{readableTime}</div>\r\n\r\n                {(() => {\r\n                    if (tempTemp) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempTempColor }}>TEMP: {tempTemp}°C </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempFanPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempFanSpdColor }}>FAN-PWR: {tempFanPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidity) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumidityColor }}>HUMID: {tempHumidity}% RH </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidifierPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumiPwrColor }}>HUM-PWR: {tempHumidifierPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    render() {\r\n\r\n        var renderDayGraph = null\r\n        if (this.state.processedData && this.state.processedData[0]) {\r\n            if (this.props.parentSize) {\r\n                var xSize = Math.floor(this.props.parentSize[0] * 1)\r\n                var ySize = Math.floor(this.props.parentSize[1] * 0.9)\r\n\r\n                renderDayGraph = (\r\n                    <LineChart width={xSize} height={ySize} data={this.state.processedData}>\r\n                        <Line type=\"monotone\" dataKey=\"cTemp\" stroke=\"#ca2014\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"fanSpeed\" stroke=\"#db5e24\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humidity\" stroke=\"#387d14\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humiPower\" stroke=\"#8884d8\" dot={false} />\r\n                        <XAxis\r\n                            dataKey=\"time\"\r\n                            type=\"number\"\r\n                            domain={[new Date(this.state.processedData[0].time).getTime(), new Date(this.state.processedData[this.state.processedData.length - 1].time).getTime()]}\r\n                            tickFormatter={(unixTime) => moment(unixTime).format('HH:mm - MMM Do')}\r\n                            hide={true} />\r\n                        <YAxis />\r\n                        <Tooltip content={this.renderTooltip} />\r\n                    </LineChart>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"Chart-Container\">\r\n                {renderDayGraph}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GraphSensorsBox;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport GrowDataDisplay from './GrowDataDisplay'\r\n\r\nimport GraphSensorsBox from '../Graphs/GraphSensorsBox'\r\n\r\nimport moment from 'moment'\r\n\r\n\r\nclass GrowBoxItem extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tgrow: this.props.grow,\r\n\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle',\r\n\t\t\tcamURL: null,\r\n\t\t\tgrowDeprecate: '',\r\n\t\t\tgraphElementSize: [150, 150],\r\n\t\t};\r\n\r\n\t\tthis.graphSizeUpdated = 0;\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis._ismounted = true;\r\n\r\n\t\t//TODO: Remove condition\r\n\t\tif (this.props.grow.id === '-LdtfBTlG6Fgg-ADD8-b') {\r\n\r\n\t\t\tthis.getLiveCam = this.watchPiCam()\r\n\r\n\t\t\tif (this._ismounted) {\r\n\t\t\t\tthis.setState({ growDeprecate: 'flower' });\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif (this._ismounted) {\r\n\t\t\t\tthis.setState({ growDeprecate: 'vegger' });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.props.grow.urls.cam) {\r\n\r\n\t\t\tif (this._ismounted) {\r\n\t\t\t\tthis.setState({ camURL: this.props.grow.urls.cam });\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\tthis._ismounted = false;\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tvar dateNow = new Date()\r\n\r\n\t\tif (((this.state.graphElementSize !== [this.divRef.clientWidth, this.divRef.clientHeight]) && ((dateNow.getTime() - this.graphSizeUpdated) > 500))) {\r\n\r\n\t\t\t// tODO: remove, hacky\r\n\t\t\tif ((this.divRef.clientWidth - this.state.graphElementSize[0]) < 30) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar tempSize = [this.divRef.clientWidth, this.divRef.clientHeight]\r\n\r\n\t\t\tif (tempSize !== this.state.graphElementSize) {\r\n\t\t\t\tif (this._ismounted) {\r\n\t\t\t\t\tthis.setState({ graphElementSize: tempSize });\r\n\t\t\t\t}\r\n\t\t\t\tthis.graphSizeUpdated = dateNow.getTime();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// TODO: remove function\r\n\twatchPiCam = () => {\r\n\t\tvar tempURL = 'http://96.52.249.69:300/html/cam_pic.php?time='\r\n\t\tvar i = 0\r\n\t\tsetInterval(() => {\r\n\t\t\ti++\r\n\t\t\tvar tempCamURL = tempURL + i.toString()\r\n\t\t\tif (this._ismounted) {\r\n\t\t\t\tthis.setState({ camURL: tempCamURL });\r\n\t\t\t}\r\n\t\t}, 5000);\r\n\t}\r\n\r\n\topenFullCam = (ev) => {\r\n\t\tthis.props.openFullCam(ev.target.dataset.value)\r\n\t}\r\n\r\n\topenGrow = () => {\r\n\t\tthis.props.openGrow(this.props.grow)\r\n\t}\r\n\r\n\topenMainPage = (ev) => {\r\n\t\tthis.props.openMainPage(ev.target.dataset.value)\r\n\t}\r\n\r\n\tcheckActive = (lastUpdateTime) => {\r\n\r\n\t\tif (lastUpdateTime) {\r\n\t\t\tvar now = new Date().getTime();\r\n\r\n\t\t\tvar difference = now - lastUpdateTime\r\n\r\n\r\n\t\t\t// if (difference >= 3000000) {\r\n\t\t\t// \tthis.setState({\r\n\t\t\t// \t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Neutral-Background'\r\n\t\t\t// \t});\r\n\t\t\t// }\r\n\r\n\t\t\tif (this._ismounted) {\r\n\r\n\r\n\t\t\t\tif (difference >= 120000) {\r\n\t\t\t\t\tif (this.state.activeIndicatorStyle !== 'Grow-Active-Indicator-Circle Data-Warning-Background') {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Warning-Background'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (difference >= 240000) {\r\n\t\t\t\t\tif (this.state.activeIndicatorStyle !== 'Grow-Active-Indicator-Circle Data-Danger-Background') {\r\n\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Danger-Background'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (difference < 120000) {\r\n\t\t\t\t\tif (this.state.activeIndicatorStyle !== 'Grow-Active-Indicator-Circle Data-Optimal-Background') {\r\n\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Optimal-Background'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tconsole.log(\"NO LAST UPDATE ERROR\")\r\n\t\t}\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tvar lastUpdate = null;\r\n\t\tif (this.props.liveGrowData[this.props.grow.id]) {\r\n\t\t\t// console.log(this.props.liveGrowData[this.props.grow.id])\r\n\r\n\t\t\tvar updatedAtDate = new Date(this.props.liveGrowData[this.props.grow.id].time * 1000)\r\n\r\n\t\t\tif (updatedAtDate !== this.updatedAtDate) {\r\n\t\t\t\tthis.updatedAtDate = updatedAtDate\r\n\t\t\t\tthis.checkActive(updatedAtDate.getTime())\r\n\t\t\t}\r\n\r\n\t\t\tlastUpdate = moment(updatedAtDate).fromNow()\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"Grow-Box-Item\">\r\n\r\n\t\t\t\t<div className=\"Grow-Box-Cam-Div\">\r\n\t\t\t\t\t<div className=\"Grow-Box-Cam-Full-Btn\" data-value={this.props.grow.urls.cam} onClick={this.openFullCam}>&#9974;</div>\r\n\t\t\t\t\t<img className=\"Grow-Box-Cam\" alt=\"cam\" src={this.state.camURL} width=\"100%\" height=\"100%\" style={{ objectFit: 'contain', cursor: 'pointer' }} onClick={this.openGrow} />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"Grow-Box-Item-Main\">\r\n\t\t\t\t\t<div className=\"Grow-Box-Item-Header\">\r\n\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Grow-Name\" onClick={this.openGrow}>\r\n\t\t\t\t\t\t\t{this.props.grow.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Updated\">\r\n\t\t\t\t\t\t\tupdate<i><b>: {lastUpdate}</b></i>\r\n\t\t\t\t\t\t\t<div className={this.state.activeIndicatorStyle} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Grow-Box-Function-Btns\">\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn\" data-value={'graphs'} onClick={this.openMainPage} >DATA <span role=\"img\" aria-label=\"grow data icon\">&#128200;</span></button>\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn\" data-value={'config'} onClick={this.openMainPage} >CONFIG <span role=\"img\" aria-label=\"grow config icon\">&#128187;</span></button>\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn-Feed\" data-value={'feed'} onClick={this.openMainPage} >FEED &#9619;&#9619;</button>\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn-Edit-Feed\" data-value={'edit-feed'} onClick={this.openMainPage} >&#9998;</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"Grow-Box-Info\">\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Info-Text-Area\">\r\n\r\n\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\tif (this.props.liveGrowData) {\r\n\t\t\t\t\t\t\t\t\treturn <GrowDataDisplay liveData={this.props.liveGrowData[this.props.grow.id]} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Info-Graph-Area\" ref={element => this.divRef = element}>\r\n\t\t\t\t\t\t\t<GraphSensorsBox parentSize={this.state.graphElementSize} growID={this.props.grow.id} rawGrowData={this.props.rawGrowData} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t{/* <img alt=\"preview\" src={this.props.grow.previewImage} className=\"Grow-Box-Preview-Image\" /> */}\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default GrowBoxItem;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass GrowDetailsConfig extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            temp_min: '',\r\n            temp_max: '',\r\n            temp_hyst: '',\r\n            fan_min: '',\r\n            fan_max: '',\r\n            humidity_min: '',\r\n            humidity_max: '',\r\n            humidity_hyst: '',\r\n            humidifier_min: '',\r\n            humidifier_max: ''\r\n        };\r\n\r\n        this.dbHelper = new DbHelper()\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n        this.watchConfig = this.watchGrowConfig(this.setFetchedConfig);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    saveConfig = () => {\r\n        this.dbHelper.setGrowConfig(\r\n            this.props.growID,\r\n            {\r\n                temp_min: this.state.temp_min,\r\n                temp_max: this.state.temp_max,\r\n                temp_hyst: this.state.temp_hyst,\r\n                fan_min: this.state.fan_min,\r\n                fan_max: this.state.fan_max,\r\n                humidity_min: this.state.humidity_min,\r\n                humidity_max: this.state.humidity_max,\r\n                humidity_hyst: this.state.humidity_hyst,\r\n                humidifier_min: this.state.humidifier_min,\r\n                humidifier_max: this.state.humidifier_max\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    watchGrowConfig = async (setData) => {\r\n        try {\r\n            await this.dbHelper.watchGrowConfig(this.props.growID, setData)\r\n        } catch(e) {\r\n            console.log(e); \r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n    setFetchedConfig = (configObj) => {\r\n        \r\n        this.setState({\r\n            temp_min: configObj.temp_min,\r\n            temp_max: configObj.temp_max,\r\n            temp_hyst: configObj.temp_hyst,\r\n            fan_min: configObj.fan_min,\r\n            fan_max: configObj.fan_max,\r\n            humidity_min: configObj.humidity_min,\r\n            humidity_max: configObj.humidity_max,\r\n            humidity_hyst: configObj.humidity_hyst,\r\n            humidifier_min: configObj.humidifier_min,\r\n            humidifier_max: configObj.humidifier_max\r\n        });\r\n\r\n    }\r\n\r\n    handleTempMinChange = (event) => {\r\n        this.setState({ temp_min: event.target.value });\r\n    }\r\n\r\n    handleTempMaxChange = (event) => {\r\n        this.setState({ temp_max: event.target.value });\r\n    }\r\n\r\n    handleTempHystChange = (event) => {\r\n        this.setState({ temp_hyst: event.target.value });\r\n    }\r\n\r\n    handleFanMinChange = (event) => {\r\n        this.setState({ fan_min: event.target.value });\r\n    }\r\n\r\n    handleFanMaxChange = (event) => {\r\n        this.setState({ fan_max: event.target.value });\r\n    }\r\n\r\n    handleHumidityMinChange = (event) => {\r\n        this.setState({ humidity_min: event.target.value });\r\n    }\r\n\r\n    handleHumidityMaxChange = (event) => {\r\n        this.setState({ humidity_max: event.target.value });\r\n    }\r\n\r\n    handleHumidityHystChange = (event) => {\r\n        this.setState({ humidity_hyst: event.target.value });\r\n    }\r\n\r\n    handleHumidifierMinChange = (event) => {\r\n        this.setState({ humidifier_min: event.target.value });\r\n    }\r\n\r\n    handleHumidifierMaxChange = (event) => {\r\n        this.setState({ humidifier_max: event.target.value });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Grow-Details-Config-Page\">\r\n                <div id=\"Grow-Details-Config-Header-Text\">Grow Config</div>\r\n                <div id=\"Grow-Details-Config-Scroll\">\r\n\r\n                    <div id=\"Config-Temp-Field\">\r\n                        <h2>TEMPERATURE</h2>\r\n                        <div id=\"Config-Temp-Min-Max\">\r\n                            <div>\r\n                                Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"temp-min\" value={this.state.temp_min} onChange={this.handleTempMinChange} />°C\r\n                        </div>\r\n                            <div>\r\n                                Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"temp-max\" value={this.state.temp_max} onChange={this.handleTempMaxChange} />°C\r\n                        </div>\r\n                            <div>\r\n                                Hyst:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"temp-hyst\" value={this.state.temp_hyst} onChange={this.handleTempHystChange} />Δ°C\r\n                        </div>\r\n                        </div>\r\n                        <h3>FAN POWER</h3>\r\n                        <div id=\"Config-Fan-Min-Max\">\r\n                            <div>\r\n                                Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"fan-min\" value={this.state.fan_min} onChange={this.handleFanMinChange} />%\r\n                        </div>\r\n                            <div>\r\n                                Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"fan-max\" value={this.state.fan_max} onChange={this.handleFanMaxChange} />%\r\n                        </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div id=\"Config-Humidity-Field\">\r\n                        <h2>HUMIDITY</h2>\r\n                        <div id=\"Config-Humidity-Min-Max\">\r\n                            <div>\r\n                                Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidity-min\" value={this.state.humidity_min} onChange={this.handleHumidityMinChange} />% R.H.\r\n                        </div>\r\n                            <div>\r\n                                Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidity-max\" value={this.state.humidity_max} onChange={this.handleHumidityMaxChange} />% R.H.\r\n                        </div>\r\n                            <div>\r\n                                Hyst:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidity-hyst\" value={this.state.humidity_hyst} onChange={this.handleHumidityHystChange} />Δ % R.H.\r\n                        </div>\r\n                        </div>\r\n                        <h3>HUMIDIFIER POWER</h3>\r\n                        <div id=\"Config-Humidifier-Min-Max\">\r\n                            <div>\r\n                                Min:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidifier-min\" value={this.state.humidifier_min} onChange={this.handleHumidifierMinChange} />%\r\n                        </div>\r\n                            <div>\r\n                                Max:\r\n                            <input type=\"number\" className=\"Config-Input\" id=\"humidifier-max\" value={this.state.humidifier_max} onChange={this.handleHumidifierMaxChange} />%\r\n                        </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div id=\"GROW-DETAILS-SAVE-CONFIG-BTN\" onClick={this.saveConfig}>\r\n                        SAVE\r\n                </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowDetailsConfig;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip } from 'recharts';\r\n\r\nimport moment from 'moment'\r\n\r\n\r\n\r\n\r\n\r\nclass GraphSensors extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n\r\n        if (this.props.rawGrowData && this.props.growID) {\r\n\r\n            var gwID = this.props.growID\r\n            var rawData = this.props.rawGrowData\r\n\r\n            if (rawData[gwID] && ((!this.rawRef) || rawData[gwID][rawData[gwID].length - 1] !== this.rawRef)) {\r\n                this.rawRef = rawData[gwID][rawData[gwID].length - 1]\r\n\r\n                console.log(\"WHWHWHAAATYAY\")\r\n                console.log(this.rawRef)\r\n\r\n\r\n                var concatData = []\r\n\r\n                rawData[gwID].forEach((list) => {\r\n                    concatData = concatData.concat(list)\r\n                })\r\n\r\n\r\n                if (this.dataLength !== concatData.length) {\r\n\r\n                    console.log(\"CONCAT!\")\r\n                    console.log(concatData)\r\n\r\n                    this.dataLength = concatData.length\r\n                    concatData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n\r\n                    var processedData = []\r\n                    var i = -1\r\n                    concatData.forEach((dataPoint) => {\r\n                        i++;\r\n                        if (i === 0 || i % 10 === 0) {\r\n                            var processedPoint = dataPoint\r\n                            processedPoint.time = processedPoint.time\r\n                            processedData[processedData.length] = processedPoint\r\n                        }\r\n\r\n\r\n                    })\r\n\r\n                    if (processedData.length >= concatData.length / 11) {\r\n                        this.setState({\r\n                            processedData: processedData\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    renderTooltip = (props) => {\r\n        var rawContent = props.payload\r\n        if (rawContent.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var readableTime = moment(props.payload[0].payload.time).format('ddd - HH:mm')\r\n\r\n        var tempTemp = null;\r\n        var tempTempColor = \"#000\"\r\n        var tempFanPower = null;\r\n        var tempFanSpdColor = \"#000\"\r\n        var tempHumidity = null;\r\n        var tempHumidityColor = \"#000\"\r\n        var tempHumidifierPower = null;\r\n        var tempHumiPwrColor = \"#000\"\r\n\r\n        rawContent.forEach((line) => {\r\n            if (line.dataKey === \"cTemp\") {\r\n                tempTempColor = line.stroke\r\n                tempTemp = rawContent[0].payload.cTemp\r\n            }\r\n\r\n            if (line.dataKey === \"fanSpeed\") {\r\n                tempFanSpdColor = line.stroke\r\n                tempFanPower = rawContent[0].payload.fanSpeed\r\n            }\r\n\r\n            if (line.dataKey === \"humidity\") {\r\n                tempHumidityColor = line.stroke\r\n                tempHumidity = rawContent[0].payload.humidity\r\n            }\r\n\r\n            if (line.dataKey === \"humiPower\") {\r\n                tempHumiPwrColor = line.stroke\r\n                tempHumidifierPower = rawContent[0].payload.humiPower\r\n            }\r\n        })\r\n\r\n        return (\r\n            <div className=\"Grow-Details-Graph-Tooltip\">\r\n                <div>{readableTime}</div>\r\n\r\n                {(() => {\r\n                    if (tempTemp) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempTempColor }}>TEMP: {tempTemp}°C </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempFanPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempFanSpdColor }}>FAN-PWR: {tempFanPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidity) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumidityColor }}>HUMID: {tempHumidity}% RH </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidifierPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumiPwrColor }}>HUM-PWR: {tempHumidifierPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        var renderDayGraph = null\r\n        if (this.state.processedData && this.state.processedData[0]) {\r\n            if (this.props.parentSize) {\r\n                var xSize = Math.floor(this.props.parentSize[0] * 0.95)\r\n                var ySize = Math.floor(this.props.parentSize[1] * 0.9)\r\n\r\n                renderDayGraph = (\r\n                    <LineChart width={xSize} height={ySize} data={this.state.processedData}>\r\n                        <Line type=\"monotone\" dataKey=\"cTemp\" stroke=\"#ca2014\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"fanSpeed\" stroke=\"#db5e24\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humidity\" stroke=\"#387d14\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humiPower\" stroke=\"#8884d8\" dot={false} />\r\n                        <XAxis\r\n                            dataKey=\"time\"\r\n                            type=\"number\"\r\n                            domain={[new Date(this.state.processedData[0].time).getTime(), new Date(this.state.processedData[this.state.processedData.length - 1].time).getTime()]}\r\n                            tickFormatter={(unixTime) => moment(unixTime).format('HH:mm - MMM Do')} />\r\n                        <YAxis />\r\n                        <Tooltip content={this.renderTooltip} />\r\n                    </LineChart>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"Chart-Container\">\r\n                {renderDayGraph}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GraphSensors;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport GraphSensors from '../Graphs/GraphSensors.js'\r\n\r\n\r\nclass GrowDetailsGraphs extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elementSize: [],\r\n            growDeprecate: null\r\n        };\r\n\r\n        this.graphSizeUpdated = 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this._ismounted === false) {\r\n            return;\r\n        }\r\n\r\n        var dateNow = new Date()\r\n        if (((this.state.elementSize !== [this.divRef.clientWidth, this.divRef.clientHeight]) && ((dateNow.getTime() - this.graphSizeUpdated) > 500))) {\r\n            var tempSize = [this.divRef.clientWidth, this.divRef.clientHeight]\r\n\r\n            if (tempSize !== this.state.elementSize) {\r\n                this.setState({ elementSize: tempSize });\r\n                this.graphSizeUpdated = dateNow.getTime();\r\n            }\r\n        }\r\n\r\n        if (this.props.growDeprecate) {\r\n            if (this.state.growDeprecate !== this.props.growDeprecate) {\r\n                this.setState({ growDeprecate: this.props.growDeprecate });\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Grow-Details-Graphs-Page\" ref={element => this.divRef = element}>\r\n                <GraphSensors parentSize={this.state.elementSize} growDeprecate={this.props.growDeprecate} growID={this.props.growID} rawGrowData={this.props.rawGrowData} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowDetailsGraphs;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nimport GrowDataDisplay from './GrowDataDisplay'\r\n\r\nimport GrowDetailsConfig from './GrowDetailsConfig'\r\nimport GrowDetailsGraphs from './GrowDetailsGraphs'\r\n\r\nimport JournalBoxItem from '../GrowJournal/JournalBoxItem'\r\n\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass GrowDetailsPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            displayBottom: 'data', // data, config, feed, edit-feed, journals\r\n            liveData: [],\r\n            activeIndicatorStyle: 'Grow-Active-Indicator-Circle',\r\n            linkedJournals: [],\r\n            camURL: null,\r\n            growDeprecate: null // TODO Remove\r\n\r\n        };\r\n\r\n\r\n        this.dbHelper = new DbHelper()\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n\r\n        //TODO: Remove condition\r\n        if (this.props.grow.id === '-LdtfBTlG6Fgg-ADD8-b') {\r\n            this.getLiveData('flower', this.setLiveData);\r\n            // this.getLiveData()\r\n            this.watchPiCam()\r\n\r\n            // todo remove\r\n            if (this._ismounted) {\r\n                this.setState({ growDeprecate: 'flower' });\r\n            }\r\n        } else {\r\n            this.getLiveData('vegger', this.setLiveData);\r\n            // this.getVeggerData()\r\n            // todo remove\r\n            if (this._ismounted) {\r\n                this.setState({ growDeprecate: 'vegger' });\r\n            }\r\n        }\r\n\r\n        if (this.props.grow.urls.cam) {\r\n            if (this._ismounted) {\r\n                this.setState({ camURL: this.props.grow.urls.cam });\r\n            }\r\n        }\r\n\r\n        this.getLinkedJournals(this.props.grow.id, this.props.grow.journals, this.setLinkedJournals)\r\n    }\r\n\r\n\r\n    componentWillUnmount = () => {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    // TODO: remove function\r\n    watchPiCam = () => {\r\n        var tempURL = 'http://96.52.249.69:300/html/cam_pic.php?time='\r\n        var i = 0\r\n        setInterval(() => {\r\n            i++\r\n            var tempCamURL = tempURL + i.toString()\r\n            if (this._ismounted) {\r\n                this.setState({\r\n                    camURL: tempCamURL\r\n                });\r\n            }\r\n        }, 5000);\r\n    }\r\n    \r\n\r\n    getLiveData = async (growDeprecate, setData) => {\r\n        try {\r\n            await this.dbHelper.getLiveData(growDeprecate, setData)\r\n        } catch (e) {\r\n            console.log(e);\r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n\r\n    setLiveData = (data) => {\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                liveData: data\r\n            });\r\n        }\r\n    }\r\n\r\n    getLinkedJournals = (key, journals, setData) => {\r\n        this.dbHelper.getLinkedJournals(key, journals, setData)\r\n    }\r\n\r\n\r\n    setLinkedJournals = (data) => {\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                linkedJournals: data\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    checkActive = (lastUpdateTime) => {\r\n\r\n        if (lastUpdateTime) {\r\n            var now = new Date();\r\n            var difference = now - (new Date(lastUpdateTime).getTime())\r\n\r\n            // if (difference >= 3000000) {\r\n            //     this.setState({\r\n            //         activeIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Neutral-Background'\r\n            //     });\r\n            // }\r\n\r\n            if (this._ismounted) {\r\n\r\n                if (difference >= 120000) {\r\n                    this.setState({\r\n                        activeIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Warning-Background'\r\n                    });\r\n                }\r\n\r\n                if (difference >= 240000) {\r\n                    this.setState({\r\n                        activeIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Danger-Background'\r\n                    });\r\n                }\r\n\r\n                if (difference < 120000) {\r\n                    this.setState({\r\n                        activeIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Optimal-Background'\r\n                    });\r\n                }\r\n            }\r\n\r\n        } else {\r\n            console.log(\"NO LAST UPDATE ERROR\")\r\n        }\r\n\r\n    }\r\n\r\n    openJournals = () => {\r\n        console.log(\"GROWDETAILS OPEN JOURNALS!\")\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                displayBottom: 'journals'\r\n            });\r\n        }\r\n    }\r\n    openData = () => {\r\n        console.log(\"GROWDETAILS OPEN DATA\")\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                displayBottom: 'data'\r\n            });\r\n        }\r\n    }\r\n    openConfig = () => {\r\n        console.log(\"GROWDETAILS OPEN CONFIG\")\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                displayBottom: 'config'\r\n            });\r\n        }\r\n    }\r\n    openFeed = () => {\r\n        if (this._ismounted) {\r\n            console.log(\"GROWDETAILS OPEN FEED\")\r\n            this.setState({\r\n                displayBottom: 'feed'\r\n            });\r\n        }\r\n\r\n    }\r\n    openEditFeed = () => {\r\n        if (this._ismounted) {\r\n            console.log(\"GROWDETAILS OPEN EDIT FEED\")\r\n            this.setState({\r\n                displayBottom: 'edit-feed'\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    openFullCam = (ev) => {\r\n        this.props.openFullCam(ev.target.dataset.value)\r\n    }\r\n\r\n    openJournal = (journal) => {\r\n        console.log(\"TODO: GrowDetailsPage open journal\")\r\n        console.log(journal)\r\n        this.props.setJournalID(journal.id);\r\n    }\r\n\r\n\r\n    render() {\r\n        //TODO: below in less code... or not using zIndex.\r\n        var zIndexOne = { zIndex: '1', position: 'absolute' }\r\n        var zIndexZero = { zIndex: '0', position: 'absolute' }\r\n\r\n        var journalsStyle = zIndexOne\r\n        var graphsStyle = zIndexZero\r\n        var feedStyle = zIndexZero\r\n        var editFeedStyle = zIndexZero\r\n        var configStyle = zIndexZero\r\n\r\n        if (this.state.displayBottom) {\r\n            switch (this.state.displayBottom) {\r\n                case 'journals':\r\n                    journalsStyle = zIndexOne\r\n                    graphsStyle = zIndexZero\r\n                    feedStyle = zIndexZero\r\n                    editFeedStyle = zIndexZero\r\n                    configStyle = zIndexZero\r\n                    break;\r\n                case 'data':\r\n                    journalsStyle = zIndexZero\r\n                    graphsStyle = zIndexOne\r\n                    feedStyle = zIndexZero\r\n                    editFeedStyle = zIndexZero\r\n                    configStyle = zIndexZero\r\n                    break;\r\n                case 'feed':\r\n                    journalsStyle = zIndexZero\r\n                    graphsStyle = zIndexZero\r\n                    feedStyle = zIndexOne\r\n                    editFeedStyle = zIndexZero\r\n                    configStyle = zIndexZero\r\n                    break;\r\n                case 'edit-feed':\r\n                    journalsStyle = zIndexZero\r\n                    graphsStyle = zIndexZero\r\n                    feedStyle = zIndexZero\r\n                    editFeedStyle = zIndexOne\r\n                    configStyle = zIndexZero\r\n                    break;\r\n                case 'config':\r\n                    journalsStyle = zIndexZero\r\n                    graphsStyle = zIndexZero\r\n                    feedStyle = zIndexZero\r\n                    editFeedStyle = zIndexZero\r\n                    configStyle = zIndexOne\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        var renderedLinkedJournals = null;\r\n        if (this.state.linkedJournals.length !== 0) {\r\n            renderedLinkedJournals = this.state.linkedJournals.map((journal) =>\r\n                <div key={journal.id} className=\"Journal-Box-Item-Container\">\r\n                    <JournalBoxItem journal={journal} openJournal={this.openJournal} />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"Grow-Details-Page\">\r\n\r\n                <div className=\"Grow-Details-Page-Content\">\r\n\r\n                    <div className=\"Grow-Details-Content-Cam\">\r\n                        <div className=\"Grow-Details-Cam-Full-Btn\" data-value={this.props.grow.urls.cam} onClick={this.openFullCam}>&#9974;</div>\r\n                        <img alt=\"cam\" style={{ objectFit: 'contain' }} src={this.state.camURL} width=\"100%\" height=\"100%\" />\r\n                    </div>\r\n\r\n                    <div className=\"Grow-Details-Page-Panel\">\r\n                        <div className=\"Grow-Details-Header\">\r\n                            <div id=\"Grow-Header-Text\">{this.props.grow.name}</div>\r\n                            <div className={this.state.activeIndicatorStyle} />\r\n                        </div>\r\n                        <div id=\"Grow-Details-Data-Display\">\r\n                            {(() => {\r\n                                if (this.state.liveData) {\r\n                                    return <GrowDataDisplay liveData={this.state.liveData} />\r\n                                }\r\n                            })()}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"Grow-Details-Content-Bottom\">\r\n\r\n                        <div className=\"Grow-Details-Bottom-Item\" style={journalsStyle} >\r\n                            <div className=\"Grow-Details-Journals\">\r\n                                {/* TODO: Make Component */}\r\n                                <div className=\"Grow-Details-Bottom-Btns\">\r\n                                    <button className=\"Grow-Box-Function-Btn\" data-value={'data'} onClick={this.openData} >DATA <span role=\"img\" aria-label=\"grow data icon\">&#128200;</span></button>\r\n                                    <button className=\"Grow-Box-Function-Btn\" data-value={'journals'} onClick={this.openJournals} >JRNLS <span role=\"img\" aria-label=\"journal\">&#128214;</span></button>\r\n                                    <button className=\"Grow-Box-Function-Btn\" data-value={'config'} onClick={this.openConfig} >CNFG <span role=\"img\" aria-label=\"grow config icon\">&#128187;</span></button>\r\n                                    <button className=\"Grow-Box-Function-Btn-Feed\" data-value={'feed'} onClick={this.openFeed} >FEED &#9619;&#9619;</button>\r\n                                    <button className=\"Grow-Box-Function-Btn-Edit-Feed\" data-value={'edit-feed'} onClick={this.openEditFeed} >&#9998;</button>\r\n                                </div>\r\n                                <div className=\"Grow-Details-Journals-Header\">Connected Journals</div>\r\n                                {renderedLinkedJournals}\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"Grow-Details-Bottom-Item\" style={graphsStyle} >\r\n                            {/* TODO: Make Component */}\r\n                            <div className=\"Grow-Details-Bottom-Btns\">\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'data'} onClick={this.openData} >DATA <span role=\"img\" aria-label=\"grow data icon\">&#128200;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'journals'} onClick={this.openJournals} >JRNLS <span role=\"img\" aria-label=\"journal\">&#128214;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'config'} onClick={this.openConfig} >CNFG <span role=\"img\" aria-label=\"grow config icon\">&#128187;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn-Feed\" data-value={'feed'} onClick={this.openFeed} >FEED &#9619;&#9619;</button>\r\n                                <button className=\"Grow-Box-Function-Btn-Edit-Feed\" data-value={'edit-feed'} onClick={this.openEditFeed} >&#9998;</button>\r\n                            </div>\r\n                            <GrowDetailsGraphs growDeprecate={this.state.growDeprecate} growID={this.props.grow.id}  rawGrowData={this.props.rawGrowData} />\r\n\r\n                        </div>\r\n\r\n                        <div className=\"Grow-Details-Bottom-Item\" style={feedStyle} >\r\n                            {/* TODO: Make Component */}\r\n                            <div className=\"Grow-Details-Bottom-Btns\">\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'data'} onClick={this.openData} >DATA <span role=\"img\" aria-label=\"grow data icon\">&#128200;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'journals'} onClick={this.openJournals} >JRNLS <span role=\"img\" aria-label=\"journal\">&#128214;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'config'} onClick={this.openConfig} >CNFG <span role=\"img\" aria-label=\"grow config icon\">&#128187;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn-Feed\" data-value={'feed'} onClick={this.openFeed} >FEED &#9619;&#9619;</button>\r\n                                <button className=\"Grow-Box-Function-Btn-Edit-Feed\" data-value={'edit-feed'} onClick={this.openEditFeed} >&#9998;</button>\r\n                            </div>\r\n                            <iframe id=\"Food-Chart\" title=\"FoodChart\" src={this.props.grow.urls.feed_chart} />\r\n\r\n                        </div>\r\n\r\n                        <div className=\"Grow-Details-Bottom-Item\" style={editFeedStyle} >\r\n                            {/* TODO: Make Component */}\r\n                            <div className=\"Grow-Details-Bottom-Btns\">\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'data'} onClick={this.openData} >DATA <span role=\"img\" aria-label=\"grow data icon\">&#128200;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'journals'} onClick={this.openJournals} >JRNLS <span role=\"img\" aria-label=\"journal\">&#128214;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'config'} onClick={this.openConfig} >CNFG <span role=\"img\" aria-label=\"grow config icon\">&#128187;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn-Feed\" data-value={'feed'} onClick={this.openFeed} >FEED &#9619;&#9619;</button>\r\n                                <button className=\"Grow-Box-Function-Btn-Edit-Feed\" data-value={'edit-feed'} onClick={this.openEditFeed} >&#9998;</button>\r\n                            </div>\r\n                            <object id=\"Edit-Food-Chart\" type=\"text/html\" data={this.props.grow.urls.feed_edit} width=\"100%\" height=\"100%\" aria-label=\"edit food chart\" />\r\n\r\n                        </div>\r\n\r\n                        <div className=\"Grow-Details-Bottom-Item\" style={configStyle} >\r\n                            {/* TODO: Make Component */}\r\n                            <div className=\"Grow-Details-Bottom-Btns\">\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'data'} onClick={this.openData} >DATA <span role=\"img\" aria-label=\"grow data icon\">&#128200;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'journals'} onClick={this.openJournals} >JRNLS <span role=\"img\" aria-label=\"journal\">&#128214;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn\" data-value={'config'} onClick={this.openConfig} >CNFG <span role=\"img\" aria-label=\"grow config icon\">&#128187;</span></button>\r\n                                <button className=\"Grow-Box-Function-Btn-Feed\" data-value={'feed'} onClick={this.openFeed} >FEED &#9619;&#9619;</button>\r\n                                <button className=\"Grow-Box-Function-Btn-Edit-Feed\" data-value={'edit-feed'} onClick={this.openEditFeed} >&#9998;</button>\r\n                            </div>\r\n                            <GrowDetailsConfig growID={this.props.grow.id} />\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowDetailsPage;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\n\r\nclass GrowCamFull extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n    }\r\n\r\n    closeCam = () => {\r\n        this.props.closeFullCam()\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.camURL) {\r\n            console.log(\"GrowCamFull Cam URL\")\r\n            console.log(this.props.camURL)\r\n        }\r\n\r\n        return (\r\n            <div id=\"Grow-Cam-Full\">\r\n                <div className=\"Grow-Cam-Full-Exit-Btn\" onClick={this.closeCam}>X</div>\r\n                {/* TODO: Remove condition */}\r\n                {(() => {\r\n                    if (this.props.camURL === 'http://96.52.249.69:300/html/cam_pic.php?time=0') {\r\n                        return <object type=\"text/html\" data={'http://96.52.249.69:300/html/'} width=\"100%\" height=\"100%\" aria-label=\"live cam\" />\r\n                    } else {\r\n                        return <img alt=\"cam\" style={{ objectFit: 'contain' }} src={this.props.camURL} width=\"100%\" height=\"100%\" />\r\n                    }\r\n                })()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowCamFull;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport GrowBoxItem from './GrowBoxItem'\r\nimport GrowDetailsPage from './GrowDetailsPage'\r\nimport GrowCamFull from './GrowCamFull'\r\n\r\n\r\nclass GrowPage extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdisplayContent: \"main\", // main, full-cam\r\n\t\t\tgrow: this.props.grow,\r\n\t\t\tcamURL: null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._ismounted = true;\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._ismounted = false;\r\n\t}\r\n\r\n\tcomponentDidUpdate = () => {\r\n\t\tif (!this._ismounted) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tcloseModal = (key) => {\r\n\t\tif (!key || key === '') {\r\n\t\t\tthis.setState({ displayContent: \"main\" });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({ displayContent: \"main\" });\r\n\t}\r\n\r\n\topenMainPage = (page) => {\r\n\t\tthis.props.openMainPage(page)\r\n\t}\r\n\r\n\topenCreateGrowModal = () => {\r\n\t\talert(\"GrowPage.js openCreateGrowModal() TODO\")\r\n\t}\r\n\r\n\topenGrow = (grow) => {\r\n\t\tif (!grow) {\r\n\t\t\tthis.props.setGrow(null)\r\n\t\t}\r\n\r\n\t\tthis.props.setGrow(grow)\r\n\t}\r\n\r\n\topenFullCam = (url) => {\r\n\t\tthis.setState({\r\n\t\t\tdisplayContent: \"full-cam\",\r\n\t\t\tcamURL: url\r\n\t\t});\r\n\t}\r\n\r\n\tcloseFullCam = () => {\r\n\t\tthis.setState({\r\n\t\t\tdisplayContent: \"main\",\r\n\t\t\tcamURL: null\r\n\t\t});\r\n\t}\r\n\r\n\tsetJournalID = (journalID) => {\r\n\t\tconsole.log(\"GROW PAGE!\")\r\n\t\tconsole.log(journalID)\r\n\t\tthis.props.setJournalID(journalID)\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tif (this.props.growID) {\r\n\t\t\tthis.props.userGrows.forEach((grow) => {\r\n\t\t\t\tif (grow.id === this.props.growID) {\r\n\t\t\t\t\tthis.props.setGrow(grow)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar renderedGrowBoxes = null;\r\n\t\tif (this.props.grow === null && this.props.userGrows) {\r\n\t\t\trenderedGrowBoxes = this.props.userGrows.map((grow) =>\r\n\t\t\t\t<div key={grow.id} className=\"Grow-Box-Item-Container\">\r\n\t\t\t\t\t<GrowBoxItem grow={grow} openGrow={this.openGrow} openFullCam={this.openFullCam} openMainPage={this.openMainPage} liveGrowData={this.props.liveGrowData} rawGrowData={this.props.rawGrowData} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<div id=\"Grow-Page\">\r\n\t\t\t\t<div id=\"Grow-Main\">\r\n\t\t\t\t\t<div id=\"Grow-Main-Area\">\r\n\r\n\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\tif (this.props.grow === null) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div id=\"Grow-List-Main-Area\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (renderedGrowBoxes) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Box-Area-Scroll\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Area\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Text\">Grows</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"New-Grow-Btn\" onClick={this.openCreateGrowModal}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Box-Area\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderedGrowBoxes}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Area\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Text\">Grows</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"New-Grow-Btn\" onClick={this.openCreateGrowModal}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\tif (this.props.grow) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<GrowDetailsPage grow={this.props.grow} openFullCam={this.openFullCam} openMainPage={this.openMainPage} setJournalID={this.setJournalID}  rawGrowData={this.props.rawGrowData} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})()}\r\n\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t{(() => {\r\n\t\t\t\t\tif (this.state.displayContent === 'full-cam') {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<GrowCamFull closeFullCam={this.closeFullCam} camURL={this.state.camURL} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t})()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default GrowPage;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip } from 'recharts';\r\n\r\nimport moment from 'moment'\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\nclass GraphSensorsTest extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n        };\r\n\r\n        this.dbHelper = new DbHelper()\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this._ismounted = true;\r\n\r\n        if (this.props.growDeprecate) {\r\n            if (this.props.growDeprecate !== this.growDeprecate) {\r\n                this.growDeprecate = this.props.growDeprecate;\r\n                this.getData()\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n\r\n        if (this.props.growDeprecate) {\r\n            if (this.props.growDeprecate !== this.growDeprecate) {\r\n                this.growDeprecate = this.props.growDeprecate;\r\n                this.getData()\r\n            }\r\n        }\r\n    }\r\n\r\n    getData = async () => {\r\n        try {\r\n            await this.dbHelper.getThreeDays(this.props.growDeprecate, this.setData)\r\n        } catch(e) {\r\n            console.log(e); \r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n    setData = (data) => {\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                data: data\r\n            });\r\n        }\r\n    }\r\n\r\n    renderTooltip = (props) => {\r\n        var rawContent = props.payload\r\n        if (rawContent.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var readableTime = moment(props.payload[0].payload.time).format('ddd - HH:mm')\r\n\r\n        var tempTemp = null;\r\n        var tempTempColor = \"#000\"\r\n        var tempFanPower = null;\r\n        var tempFanSpdColor = \"#000\"\r\n        var tempHumidity = null;\r\n        var tempHumidityColor = \"#000\"\r\n        var tempHumidifierPower = null;\r\n        var tempHumiPwrColor = \"#000\"\r\n\r\n        rawContent.forEach((line) => {\r\n            if (line.dataKey === \"cTemp\") {\r\n                tempTempColor = line.stroke\r\n                tempTemp = rawContent[0].payload.cTemp\r\n            }\r\n\r\n            if (line.dataKey === \"fanSpeed\") {\r\n                tempFanSpdColor = line.stroke\r\n                tempFanPower = rawContent[0].payload.fanSpeed\r\n            }\r\n\r\n            if (line.dataKey === \"humidity\") {\r\n                tempHumidityColor = line.stroke\r\n                tempHumidity = rawContent[0].payload.humidity\r\n            }\r\n\r\n            if (line.dataKey === \"humiPower\") {\r\n                tempHumiPwrColor = line.stroke\r\n                tempHumidifierPower = rawContent[0].payload.humiPower\r\n            }\r\n        })\r\n\r\n        return (\r\n            <div className=\"Grow-Details-Graph-Tooltip\">\r\n                <div>{readableTime}</div>\r\n\r\n                {(() => {\r\n                    if (tempTemp) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempTempColor }}>TEMP: {tempTemp}°C </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempFanPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempFanSpdColor }}>FAN-PWR: {tempFanPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidity) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumidityColor }}>HUMID: {tempHumidity}% RH </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidifierPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumiPwrColor }}>HUM-PWR: {tempHumidifierPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        var renderDayGraph = null\r\n        if (this.state.data && this.state.data[0]) {\r\n            if (this.props.parentSize) {\r\n                var xSize = Math.floor(this.props.parentSize[0] * 0.95)\r\n                var ySize = Math.floor(this.props.parentSize[1] * 0.9)\r\n\r\n                console.log(\"WOW GraphSensorsTest graph size:\")\r\n                console.log(xSize + \", \" + ySize)\r\n                console.log(\"WOW GraphSensorsTest datalength at render:\")\r\n                console.log(this.state.data.length)\r\n\r\n                renderDayGraph = (\r\n                    <LineChart width={xSize} height={ySize} data={this.state.data}>\r\n                        <Line type=\"monotone\" dataKey=\"cTemp\" stroke=\"#ca2014\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"fanSpeed\" stroke=\"#db5e24\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humidity\" stroke=\"#387d14\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humiPower\" stroke=\"#8884d8\" dot={false} />\r\n                        <XAxis\r\n                            dataKey=\"time\"\r\n                            type=\"number\"\r\n                            domain={[new Date(this.state.data[0].time).getTime(), new Date(this.state.data[this.state.data.length - 1].time).getTime()]}\r\n                            tickFormatter={(unixTime) => moment(unixTime).format('HH:mm - MMM Do')} />\r\n                        <YAxis />\r\n                        <Tooltip content={this.renderTooltip} />\r\n                    </LineChart>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"Chart-Container\">\r\n                {renderDayGraph}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GraphSensorsTest;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\n\r\nimport GraphSensorsTest from '../main-content/Graphs/GraphSensorsTest.js'\r\n\r\n\r\nclass GrowGraphsTest extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elementSize: [800, 400],\r\n            growDeprecate: null\r\n        };\r\n\r\n        this.graphSizeUpdated = 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this._ismounted === false) {\r\n            return;\r\n        }\r\n\r\n        var dateNow = new Date()\r\n        if (((this.state.elementSize !== [this.divRef.clientWidth, this.divRef.clientHeight]) && ((dateNow.getTime() - this.graphSizeUpdated) > 500))) {\r\n            var tempSize = [this.divRef.clientWidth, this.divRef.clientHeight]\r\n\r\n            if (tempSize !== this.state.elementSize) {\r\n                this.setState({ elementSize: tempSize });\r\n                this.graphSizeUpdated = dateNow.getTime();\r\n            }\r\n        }\r\n\r\n        if (this.props.growDeprecate) {\r\n            if (this.state.growDeprecate !== this.props.growDeprecate) {\r\n                this.setState({ growDeprecate: this.props.growDeprecate });\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Grow-Details-Graphs-Page\" ref={element => this.divRef = element}>\r\n                <GraphSensorsTest parentSize={this.state.elementSize} growDeprecate={this.props.growDeprecate} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowGraphsTest;\r\n","import React, { Component } from 'react';\r\n\r\nimport '../../styles/App.css';\r\n\r\n\r\nclass AppBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    openJournals = () => {\r\n        this.props.setMainContent('journals')\r\n    }\r\n\r\n    openGrows = () => {\r\n        this.props.setMainContent('grows')\r\n    }\r\n\r\n    // Replace with a setGrow \r\n    openGanjaGrove = () => {\r\n        this.props.openGanjaGrove()\r\n    }\r\n    openVegger = () => {\r\n        this.props.openVegger()\r\n    }\r\n\r\n    setGrow = (ev) => {\r\n        this.props.setGrowByID(ev.target.dataset.value)\r\n    }\r\n\r\n    //TODO: why is this here (also in App.js)?\r\n    handleSignOut = () => {\r\n        this.firebase.auth.signOut().then(function () {\r\n            // Sign-out successful.\r\n            console.log(`signed out`)\r\n            window.location.reload();\r\n        }).catch(function (error) {\r\n            // An error happened.\r\n            console.log(`Error signing out: ${error}`)\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        var renderedLiveGrowButtons = null;\r\n        if (this.props.userGrows !== null) {\r\n            renderedLiveGrowButtons = this.props.userGrows.map((grow) => {\r\n\r\n                var liveButtonData = null\r\n                if (this.props.liveGrowData[grow.id]) {\r\n                    liveButtonData = this.props.liveGrowData[grow.id]\r\n                }\r\n\r\n                var brokenName = grow.name.split(\" \")\r\n                var acroName = \"\"\r\n                brokenName.forEach((piece) => {\r\n                    acroName += piece.charAt(0)\r\n                })\r\n\r\n                return (\r\n                    <div className=\"App-Bar-Button-Grow\" key={grow.id} onClick={this.setGrow} data-value={grow.id}>\r\n                        <div className=\"App-Bar-Button-Grow-Name\" data-value={grow.id}>\r\n                            {acroName}\r\n                        </div>\r\n                        {(() => {\r\n                            if (liveButtonData) {\r\n                                return (\r\n                                    <div ref={this.flowerTempRef} className=\"App-Bar-Button-Grow-Temp\" data-value={grow.id}>\r\n                                        {Math.round(liveButtonData.cTemp * 10) / 10}°C\r\n                                </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n\r\n                        {(() => {\r\n                            if (liveButtonData) {\r\n                                return (\r\n                                    <div ref={this.flowerHumidityRef} className=\"App-Bar-Button-Grow-Humidity\" data-value={grow.id}>\r\n                                        {Math.round(liveButtonData.humidity * 10) / 10}°C\r\n                                </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n\r\n            <div id=\"App-Bar\" >\r\n                <div id=\"App-Bar-Logo\" onClick={this.openGrows}>\r\n                    grovv\r\n                </div>\r\n\r\n                {renderedLiveGrowButtons}\r\n\r\n                <div className=\"App-Bar-Button\" onClick={this.openJournals}>\r\n                    JRNLS\r\n                </div>\r\n\r\n                <div className=\"App-Bar-Filler-Div\"></div>\r\n                <div className=\"App-Bar-Logout-Button\" onClick={this.handleSignOut}>\r\n                    &#10162;\r\n                </div>\r\n            </div >\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppBar;\r\n","import React, { Component } from 'react';\r\nimport '../styles/App.css';\r\n\r\n\r\nimport Firebase from '../config/firebaseConfig.js'\r\n\r\nimport DbHelper from './_utils/DbHelper.js'\r\n\r\n\r\n// Auth\r\nimport SignIn from './auth/SignIn.js'\r\nimport SignUp from './auth/SignUp.js'\r\n\r\n// Main Content\r\nimport FeedChart from './main-content/FeedChart/FeedChart.js'\r\nimport GrowConfig from './main-content/GrowConfig/GrowConfig.js'\r\nimport GrowJournal from './main-content/GrowJournal/GrowJournal.js'\r\nimport GrowPage from './main-content/GrowPage/GrowPage.js'\r\n//import GraphSensors from './main-content/Graphs/GraphSensors.js'\r\nimport GrowGraphsTest from './graphs/GrowGraphsTest.js'\r\n\r\n\r\n// Top Bar\r\nimport AppBar from './app-bar/AppBar.js'\r\n\r\n\r\nclass App extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmainContent: 'signin', // signin, signup, main, chart, config, journal, grows, graphs, etc.\r\n\t\t\tUID: null,\r\n\t\t\tusername: '',\r\n\t\t\tURL_livecam: null,\r\n\t\t\tURL_vegger_livecam: null,\r\n\t\t\tjournalID: null,\r\n\t\t\tcurrentGrow: null,\r\n\t\t\tgrowID: null, //todo: remove, use currentGrow\r\n\r\n\t\t\tuserGrows: [],\r\n\t\t\tuserJournals: [],\r\n\t\t\tliveGrowData: [],\r\n\r\n\t\t\tthreeDayData: []\r\n\t\t};\r\n\r\n\t\tthis.dbHelper = new DbHelper();\r\n\r\n\t\tthis.firebase = new Firebase();\r\n\r\n\t\tthis.firebase.auth.onAuthStateChanged((user) => {\r\n\t\t\tif (user) {\r\n\t\t\t\tthis.setState({ UID: user.uid });\r\n\t\t\t\tthis.getUrls();\r\n\t\t\t\tthis.getUsername();\r\n\r\n\t\t\t\tthis.dbHelper.getUserGrows(this.setUserGrows)\r\n\t\t\t\tthis.dbHelper.getUserJournals(this.setUserJournals)\r\n\r\n\t\t\t\t// this.dbHelper.getThreeDayData('flower', this.setThreeDayData)\r\n\t\t\t\t// this.dbHelper.getThreeDayData('vegger', this.setThreeDayData)\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tsetUserGrows = (userGrows) => {\r\n\t\tconsole.log(\"USER GROWS!\")\r\n\t\tconsole.log(userGrows)\r\n\r\n\t\tuserGrows.forEach((grow) => {\r\n\t\t\tthis.dbHelper.getThreeDayData(grow.id, this.setThreeDayData)\r\n\t\t})\r\n\r\n\t\tthis.setState({ userGrows: userGrows });\r\n\r\n\t\tthis.dbHelper.getLiveGrowDatas(userGrows, this.setLiveGrowData)\r\n\t}\r\n\r\n\tsetUserJournals = (userJournals) => {\r\n\t\tthis.setState({ userJournals: userJournals });\r\n\t}\r\n\r\n\tsetLiveGrowData = (dataID, newGrowData) => {\r\n\t\tvar currentData = this.state.liveGrowData\r\n\t\tcurrentData[dataID.toString()] = newGrowData\r\n\r\n\t\tthis.setState({ liveGrowData: currentData });\r\n\t}\r\n\r\n\tsetThreeDayData = (growDeprecate, day, data) => {\r\n\t\tvar previousData = this.state.threeDayData\r\n\r\n\t\tvar tempThreeDayData = []\r\n\r\n\t\tif (previousData[growDeprecate]) {\r\n\t\t\ttempThreeDayData = previousData[growDeprecate]\r\n\t\t}\r\n\r\n\t\tif (tempThreeDayData[day]) {\r\n\t\t\ttempThreeDayData[day] = null\r\n\t\t}\r\n\r\n\t\ttempThreeDayData[day] = data\r\n\r\n\t\tpreviousData[growDeprecate] = tempThreeDayData\r\n\r\n\t\t// console.log(\"Set3Day ########################### length: \" + data.length)\r\n\t\t// console.log(previousData)\r\n\r\n\t\tthis.setState({ threeDayData: previousData });\r\n\t}\r\n\r\n\r\n\tgetUsername = () => {\r\n\t\t// Users location in tree\r\n\t\tvar ref = this.firebase.db.ref().child('users').child(this.state.UID)\r\n\r\n\t\tref.on(\"value\", (snapshot) => {\r\n\t\t\tthis.setState({ username: snapshot.val().username });\r\n\t\t}, function (errorObject) {\r\n\t\t\tconsole.log(\"The username read failed: \" + errorObject.code);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\tgetUrls = () => {\r\n\t\t// Urls location in tree\r\n\t\tvar ref = this.firebase.db.ref().child('users').child(this.state.UID).child('urls')\r\n\r\n\t\tref.on(\"value\", (snapshot) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tURL_livecam: snapshot.val().livecam,\r\n\t\t\t\tURL_vegger_livecam: snapshot.val().vegger_livecam,\r\n\t\t\t\turls: snapshot.val(),\r\n\t\t\t\t//mainContent: 'journals'\r\n\t\t\t});\r\n\t\t}, function (errorObject) {\r\n\t\t\tconsole.log(\"The url read failed: \" + errorObject.code);\r\n\t\t});\r\n\t}\r\n\r\n\thandleSignOut = () => {\r\n\t\tthis.setState({\r\n\t\t\tUID: null,\r\n\t\t\tURL_livecam: null,\r\n\t\t});\r\n\t\tthis.firebase.auth.signOut().then(function () {\r\n\t\t\t// Sign-out successful.\r\n\t\t\tconsole.log(`signed out`)\r\n\t\t}).catch(function (error) {\r\n\t\t\t// An error happened.\r\n\t\t\tconsole.log(`Error signing out: ${error}`)\r\n\t\t});\r\n\t}\r\n\r\n\tsetMainContent = (setValue) => {\r\n\t\tthis.setState({\r\n\t\t\tmainContent: setValue,\r\n\t\t\tcurrentGrow: null,\r\n\t\t\tgrowID: null,\r\n\t\t\tjournalID: null\r\n\t\t});\r\n\t}\r\n\r\n\tsetGrowByID = (growID) => {\r\n\t\t// TODO: Send actual grow\r\n\t\tthis.setState({\r\n\t\t\tmainContent: 'grows',\r\n\t\t\tcurrentGrow: null,\r\n\t\t\tgrowID: growID\r\n\t\t});\r\n\r\n\t}\r\n\r\n\topenChart = () => {\r\n\t\tif (this.state.mainContent !== 'chart') {\r\n\t\t\tthis.setState({ mainContent: 'chart' });\r\n\t\t}\r\n\t}\r\n\r\n\teditChart = () => {\r\n\t\twindow.open('https://docs.google.com/spreadsheets/d/1i7EDfBIwj4eYU2LxyS02YwDDeNROcdgXjROKfzCtp60/edit?usp=sharing', 'sharer', 'toolbar=0,status=0,width=548,height=325');\r\n\t}\r\n\r\n\topenConfig = () => {\r\n\t\tif (this.state.mainContent !== 'config') {\r\n\t\t\tthis.setState({ mainContent: 'config' });\r\n\t\t}\r\n\t}\r\n\r\n\topenJournals = () => {\r\n\t\tif (this.state.mainContent !== 'journals') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmainContent: 'journals',\r\n\t\t\t\tjournalID: null\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tjournalID: null\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\topenGrows = () => {\r\n\t\tif (this.state.mainContent !== 'grows') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmainContent: 'grows',\r\n\t\t\t\tcurrentGrow: null\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentGrow: null\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tsetGrow = (grow) => {\r\n\t\tconsole.log(\"APP Setgrow\")\r\n\t\tconsole.log(grow)\r\n\t\tthis.setState({\r\n\t\t\tgrowID: null,\r\n\t\t\tcurrentGrow: grow\r\n\t\t});\r\n\t}\r\n\r\n\tsetJournalID = (journalID) => {\r\n\t\tconsole.log(\"APP SetJournalID\")\r\n\t\tconsole.log(journalID)\r\n\t\tthis.setState({\r\n\t\t\tmainContent: 'journals',\r\n\t\t\tjournalID: journalID\r\n\t\t});\r\n\t}\r\n\r\n\r\n\topenMainPageFromExternal = (page) => {\r\n\t\tconsole.log(\"todo: get rid of this system...\")\r\n\t\tconsole.log(page)\r\n\t\tswitch (page) {\r\n\t\t\tcase 'config':\r\n\t\t\t\tthis.openConfig()\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'feed':\r\n\t\t\t\tthis.openChart()\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'edit-feed':\r\n\t\t\t\tthis.editChart()\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'graphs':\r\n\t\t\t\tthis.openGraphs()\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.openGraphs()\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\topenGraphs = () => {\r\n\t\tthis.setState({\r\n\t\t\tmainContent: 'graphs',\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<header className=\"App-body\">\r\n\r\n\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\tif (this.state.UID) {\r\n\t\t\t\t\t\t\treturn <AppBar mainContent={this.state.mainContent} setGrowByID={this.setGrowByID} setMainContent={this.setMainContent} liveGrowData={this.state.liveGrowData} userGrows={this.state.userGrows} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t<div id=\"App-Inner-Body\">\r\n\r\n\r\n\t\t\t\t\t\t<div id=\"App-Body-Content\">\r\n\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\tif (this.state.UID) {\r\n\t\t\t\t\t\t\t\t\tswitch (this.state.mainContent) {\r\n\t\t\t\t\t\t\t\t\t\tcase 'journals':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <GrowJournal setJournalID={this.setJournalID} journalID={this.state.journalID} userJournals={this.state.userJournals} />\r\n\t\t\t\t\t\t\t\t\t\tcase 'grows':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <GrowPage openMainPage={this.openMainPageFromExternal} setJournalID={this.setJournalID} setGrow={this.setGrow} grow={this.state.currentGrow} growID={this.state.growID} userGrows={this.state.userGrows} liveGrowData={this.state.liveGrowData} rawGrowData={this.state.threeDayData} />\r\n\t\t\t\t\t\t\t\t\t\tcase 'chart':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <FeedChart />\r\n\t\t\t\t\t\t\t\t\t\tcase 'config':\r\n\t\t\t\t\t\t\t\t\t\t\t// tODO: FIX\r\n\t\t\t\t\t\t\t\t\t\t\treturn <GrowConfig growID='-LdtfBTlG6Fgg-ADD8-b' />\r\n\t\t\t\t\t\t\t\t\t\tcase 'graphs':\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Chart-Page\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflower 3 day\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GrowGraphsTest growDeprecate={'flower'} />\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvegger 3 day\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GrowGraphsTest growDeprecate={'vegger'} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\treturn <GrowPage openMainPage={this.openMainPageFromExternal} setJournalID={this.setJournalID} setGrow={this.setGrow} grow={this.state.currentGrow} growID={this.state.growID} userGrows={this.state.userGrows} liveGrowData={this.state.liveGrowData} rawGrowData={this.state.threeDayData}/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tswitch (this.state.mainContent) {\r\n\t\t\t\t\t\t\t\t\t\tcase 'signin':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <SignIn gotoSignUp={this.setMainContent} />;\r\n\t\t\t\t\t\t\t\t\t\tcase 'signup':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <SignUp gotoSignIn={this.setMainContent} />;\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\treturn <SignIn gotoSignUp={this.setMainContent} />;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App/App';\r\nimport * as serviceWorker from './js/serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}