{"version":3,"sources":["config/firebaseConfig.js","App/_utils/DbHelper.js","App/auth/SignIn.js","App/auth/SignUp.js","App/main-content/FeedChart/FeedChart.js","App/main-content/GrowJournal/JournalAddEditModal.js","App/main-content/GrowJournal/FullImageModal.js","App/main-content/GrowJournal/JournalCreateModal.js","App/main-content/GrowJournal/JournalTimelineButton.js","App/main-content/GrowJournal/JournalBoxItem.js","App/main-content/GrowJournal/JournalEntry.js","App/main-content/GrowJournal/GrowJournal.js","App/main-content/GrowPage/GrowDataDisplay.js","App/main-content/Graphs/GraphSensorsBox.js","App/main-content/GrowPage/GrowBoxItem.js","App/main-content/Graphs/GraphSensors.js","App/main-content/GrowPage/GrowDetailsGraphs.js","App/main-content/GrowPage/GrowSettings.js","App/main-content/GrowPage/GrowDetailsPage.js","App/main-content/GrowPage/GrowPage.js","App/main-content/Graphs/GraphSensorsTest.js","App/graphs/GrowGraphsTest.js","App/app-bar/AppBar.js","App/App.js","js/serviceWorker.js","index.js"],"names":["config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","Firebase","Object","classCallCheck","this","firebase","apps","length","initializeApp","db","database","auth","storage","DbHelper","userID","userGrows","setData","forEach","grow","ref","_this","child","id","console","log","on","snapshot","val","errorObject","code","growID","date","Date","year","getFullYear","toString","month","getMonth","days","tempDay","dy","getDate","i","staticTwoDayData","getTwoDaysAddedDays","day","includes","gChild","dataPoint","dataTime","time","getTime","tempCurrentData","sort","a","b","fullData","concat","dayData","update","set","_this2","userGrowIDs","sensors_live","key","setUserGrows","once","createdAt","journals","journalsList","keys","push","updatedAt","setUserJournals","journalID","setJournalEntries","tempEntriesList","datetime_true","tempDotsList","entry","datetime_short","tempDeepDotsList","dotDate","dotValue","journalName","openJournal","userRef","nowDate","name","previewImage","entryID","trueDate","title","content","growStage","postDate","images","closeModal","editDate","temptTrueDate","shortMonth","shortDateVar","published","grow_stage","datetime_post","datetime_edit","journal_id","jRef","file","setImages","storageRef","dateNow","metadata","contentType","type","put","then","getDownloadURL","url","urlSplit","split","thumbURL","refFromURL","delete","catch","error","SignIn","props","possibleConstructorReturn","getPrototypeOf","call","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleSubmit","state","validateEmail","hideSigninFields","signInWithEmailAndPassword","errorCode","errorMessage","message","alert","SHOWFIELDS","showSigninFields","onAuthStateChanged","user","testEmail","test","String","toLowerCase","testPswd","react_default","createElement","onChange","onKeyPress","ev","enterSubmit","onClick","Component","SignUp","hideSignupFields","showSignupFields","validatePassword","createUserWithEmailAndPassword","handleGotoSignIn","gotoSignIn","postUserToFirebase","uid","email","timestamp","userData","updates","FeedChart","src","JournalAddEditModal","handleTitleChange","handleContentChange","cancelModal","deleteAllAddedImages","saveEntry","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","dbHelper","saveJournalEntry","stop","displayFullImage","handleImageUpload","_ref2","_callee2","_context2","t0","_x","apply","arguments","tempImages","tempAddedImages","addedImages","thumb","deleteImage","dataset","img","handleImageDelete","handleDateChange","dt","handleGrowStageChange","editPost","tempTrueDate","tempPostDate","tempContent","tempTitle","undefined","tempGrowStage","tempPostId","files","_this3","renderedThumbnails","map","image","className","alt","data-value","react_datepicker_min_default","selected","placeholder","es","onDrop","onImageDrop","bind","accept","multiple","_ref3","getRootProps","getInputProps","role","aria-label","FullImageModal","nextImage","fullSizeList","imageUrl","currentImage","previousImage","imageList","currentFullImage","tempFullSizeList","JournalCreateModal","handleJournalNameChange","setJournalID","createJournal","JournalTimelineButton","setEntries","entries","monthDayDate","timelineDate","idVar","charAt","toUpperCase","slice","isActiveEntry","currentEntryID","array","datetimeShortMD","dateString","toDateString","JournalBoxItem","journal","updatedAtDate","updatedAtHoursString","getHours","updatedAtMinutesString","getMinutes","JournalEntry","currentEntry","editEntryByID","prevProps","prevState","datetimeTrue","GrowJournal","watchEntries","watchJournalEntries","entriesList","dotsList","timelineEntries","timelineDots","displayEntries","addTimelineEntry","displayContent","timelineEntry","openFullImageModal","fullImageModalImages","openFullImage","handleJournalChange","openCreateJournalModal","testContent","_ismounted","renderedJournalOptions","userJournals","renderedUserJournals","GrowJournal_JournalBoxItem","renderedJournalEntries","GrowJournal_JournalEntry","renderedTimelineDots","dot","GrowJournal_JournalTimelineButton","GrowJournal_JournalAddEditModal","GrowJournal_FullImageModal","GrowJournal_JournalCreateModal","GrowDataDisplay","cTemp","fanSpeed","humiPower","humidity","liveData","Math","round","backgroundIndicator","GraphSensorsBox","componentDidUpdate","rawGrowData","gwID","rawData","data","processedData","processedPoint","renderTooltip","rawContent","payload","readableTime","moment","fromNow","tooltipItems","l","tIndex","indexOf","SENSORS","PID","style","color","stroke","dataKey","getGraphData","renderDayGraph","parentSize","xSize","floor","ySize","es6","width","height","yAxisId","domain","tickFormatter","unixTime","format","hide","orientation","GrowBoxItem","componentDidMount","componentWillUnmount","openGrow","openMainPage","checkActive","lastUpdateTime","difference","activeIndicatorStyle","graphElementSize","graphSizeUpdated","divRef","clientWidth","clientHeight","tempSize","lastUpdate","liveGrowData","GrowPage_GrowDataDisplay","element","Graphs_GraphSensorsBox","GraphSensors","growConfig","generateTickSourceArrays","rawRef","concatData","list","dataLength","processData","m","subtract","lightsOnArray","lightsOffArray","LIGHTS","off","add","createTickArray","tickRange","ticks","tempOnArray","tempOffArray","sourceArray","tick","lightBackgrounds","tickArray","window","displayWindow","now","listItems","activeLines","curSensor","toggle1","toggle3","toggle12","toggle24","toggle72","displayTemp","displayFan","displayHumidity","displayHumidifier","lineItems","strokeWidth","thickness","vertical","horizontal","verticalFill","fillOpacity","display","flexDirection","position","marginLeft","fontSize","padding","backgroundColor","GrowDetailsGraphs","elementSize","Graphs_GraphSensors","GrowSettings","getConfig","_ref","getGrowConfig","setFetchedConfig","configObj","postConfig","setGrowConfig","refreshGrows","close","sensorMeanChange","e","tempConfig","sensor","_mean","parseFloat","sensorDeviationChange","_deviation","sensorWeightChange","sensorColorChange","sensorTypeChange","sensorNameChange","handleLightsOnChange","handleLightsOffChange","watchConfig","sensorSettingRows","userSelect","fontsize","background","wi_index_esm","justifyContent","fontWeight","defaultValue","maxLength","maxWidth","marginTop","maxHeight","justifyItems","alignContent","zIndex","margin","border","cursor","overflowY","entry_default","clearIcon","GrowDetailsPage","dataLengthRef","processGrowData","TABLE_INIT","growData","lastLiveData","DAILY_HIGHS","DAILY_HIGHS_TIMES","DAILY_LOWS","DAILY_LOWS_TIMES","DAILY_AVGS","YEST_AVGS","DAILY_POINT_COUNT","YEST_POINT_COUNT","lastDayData","yesterdayData","SENSOR_PIDS","SENSORS_INIT","ACTIVE_INIT","ACTIVE_LINES","pid","yIndex","avg","toggleLine","currentTarget","getAttribute","tActiveLines","forceUpdate","openCloseSettings","SHOW_SETTINGS","sensorInfoRows","opacity","visibility","marginBottom","flex","paddingRight","bs_index_esm","GrowPage_GrowDetailsGraphs","GrowPage_GrowSettings","GrowPage","page","openCreateGrowModal","setGrow","renderedGrowBoxes","GrowPage_GrowBoxItem","GrowPage_GrowDetailsPage","GraphSensorsTest","growDeprecate","getData","getThreeDays","tempTemp","tempTempColor","tempFanPower","tempFanSpdColor","tempHumidity","tempHumidityColor","tempHumidifierPower","tempHumiPwrColor","line","GrowGraphsTest","Graphs_GraphSensorsTest","AppBar","openJournals","setMainContent","openGrows","openGanjaGrove","openVegger","setGrowByID","handleSignOut","signOut","location","reload","renderedLiveGrowButtons","liveButtonData","brokenName","acroName","piece","flowerTempRef","sA1_Temp","flowerHumidityRef","sA1_Humi","App","newGrowConfig","tempGrow","currentGrow","getThreeDayData","setThreeDayData","getLiveGrowData","setLiveGrowData","dataID","newGrowData","currentData","previousData","threeDayData","tempThreeDayData","parseInt","getUsername","UID","setValue","mainContent","openChart","editChart","open","openConfig","openMainPageFromExternal","configGrowID","openGraphs","assertThisInitialized","getUserGrows","getUserJournals","app_bar_AppBar","main_content_GrowJournal_GrowJournal","main_content_GrowPage_GrowPage","main_content_FeedChart_FeedChart","graphs_GrowGraphsTest","auth_SignIn","gotoSignUp","auth_SignUp","Boolean","hostname","match","ReactDOM","render","src_App_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8e9d665c.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/database'\r\nimport 'firebase/auth' \r\nimport 'firebase/storage' \r\n\r\n\r\n// Initialize Firebase\r\nvar config = {\r\n    apiKey: \"AIzaSyBJuUseKfGN_MjNEWg722WY1FsO2xZ1AuE\",\r\n    authDomain: \"grovv-22cbd.firebaseapp.com\",\r\n    databaseURL: \"https://grovv-22cbd.firebaseio.com\",\r\n    projectId: \"grovv-22cbd\",\r\n    storageBucket: \"grovv-22cbd.appspot.com\",\r\n    messagingSenderId: \"30272449560\"\r\n};\r\n\r\nclass Firebase {\r\n    constructor() {\r\n        if (!firebase.apps.length) {\r\n            firebase.initializeApp(config);\r\n        }\r\n\r\n        this.db = firebase.database();\r\n        this.auth = firebase.auth();\r\n        this.storage = firebase.storage();\r\n    }\r\n}\r\n\r\nexport default Firebase;\r\n","import Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass DbHelper {\r\n\r\n    constructor() {\r\n\r\n        this.firebase = new Firebase();\r\n\r\n        this.userID = 'wR4QKyZ77mho1fL0FQWSMBQ170S2'\r\n\r\n    }\r\n\r\n\r\n    // .......... //\r\n    // LIVE DATA  //\r\n    // .......... //\r\n    // Get live data from firebase\r\n    // TODO: FIx when database is changed\r\n    async getLiveGrowData(userGrows, setData) {\r\n\r\n        userGrows.forEach((grow) => {\r\n            // Grow Live Data in firebase\r\n            var ref = this.firebase.db.ref().child('grow_data').child(this.userID).child(grow.id).child('live_data')\r\n\r\n            console.log(\"GROW GET DATA \" + grow.id)\r\n\r\n            ref.on('value', (snapshot) => {\r\n\r\n                console.log(grow.id + \" IS \")\r\n                console.log(snapshot.val())\r\n\r\n                setData(grow.id, snapshot.val())\r\n            }, function (errorObject) {\r\n                console.log(\"follow \" + grow + \" live failed: \" + errorObject.code);\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n\r\n    // ....... //\r\n    // GRAPHS  //\r\n    // ....... //\r\n\r\n    // Get 3 day data window from firebase\r\n    async getThreeDays(growID, setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('grow_data').child(this.userID).child(growID).child('sensor_data')\r\n\r\n\r\n        var date = new Date();\r\n        var year = date.getFullYear().toString()\r\n        var month = (date.getMonth() + 1).toString()\r\n        if (month.length < 2) {\r\n            month = '0' + month\r\n        }\r\n\r\n        var days = []\r\n        var tempDay = null\r\n        var dy = date.getDate()\r\n        if ((dy - 2) >= 1) {\r\n            tempDay = dy - 2\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if ((dy - 1) >= 1) {\r\n            tempDay = dy - 1\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if (dy.toString().length < 2) {\r\n            dy = '0' + dy\r\n        }\r\n        days[days.length] = dy\r\n\r\n        var i = 0;\r\n\r\n        var staticTwoDayData = []\r\n        var getTwoDaysAddedDays = []\r\n\r\n        days.forEach((day) => {\r\n            if (day.toString() === dy.toString()) {\r\n                return;\r\n            }\r\n\r\n            ref.child(year).child(month).child(day).on(\"value\", (snapshot) => {\r\n                if (!getTwoDaysAddedDays.includes(day)) {\r\n                    getTwoDaysAddedDays[getTwoDaysAddedDays.length] = day\r\n                } else {\r\n                    return;\r\n                }\r\n                snapshot.forEach((child) => {\r\n                    child.forEach((gChild) => {\r\n                        i++;\r\n                        if (i % 10 === 0 || i === 0) {\r\n                            var dataPoint = gChild.val()\r\n                            var dataTime = new Date(dataPoint.time).getTime()\r\n                            dataPoint.time = dataTime\r\n                            staticTwoDayData[staticTwoDayData.length] = dataPoint;\r\n                        }\r\n                    });\r\n                });\r\n\r\n                if ((getTwoDaysAddedDays.length === days.length - 1)) {\r\n\r\n\r\n                    ref.child(year).child(month).child(dy).on(\"value\", (snapshot) => {\r\n\r\n                        var tempCurrentData = [];\r\n\r\n\r\n                        snapshot.forEach((child) => {\r\n                            child.forEach((gChild) => {\r\n                                i++;\r\n                                if (i % 10 === 0 || i === 0) {\r\n                                    var dataPoint = gChild.val()\r\n                                    var dataTime = new Date(dataPoint.time).getTime()\r\n                                    dataPoint.time = dataTime\r\n                                    tempCurrentData[tempCurrentData.length] = dataPoint;\r\n                                }\r\n                            });\r\n                        });\r\n\r\n                        tempCurrentData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n                        console.log(\"DBHELPER Test 3-day Datapoints to return... grow:\" + growID)\r\n                        console.log(tempCurrentData.length);\r\n                        console.log(tempCurrentData[0]);\r\n                        console.log(tempCurrentData[tempCurrentData.length - 1]);\r\n\r\n                        var fullData = staticTwoDayData.concat(tempCurrentData);\r\n\r\n                        fullData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n\r\n                        setData(fullData);\r\n\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    // Get 3 day data window from firebase\r\n    getThreeDayData(growID, setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('grow_data').child(this.userID).child(growID).child('sensor_data')\r\n\r\n\r\n        var date = new Date();\r\n        var year = date.getFullYear().toString()\r\n        var month = (date.getMonth() + 1).toString()\r\n        if (month.length < 2) {\r\n            month = '0' + month\r\n        }\r\n\r\n        var days = []\r\n        var tempDay = null\r\n        var dy = date.getDate()\r\n        if ((dy - 2) >= 1) {\r\n            tempDay = dy - 2\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if ((dy - 1) >= 1) {\r\n            tempDay = dy - 1\r\n            if (tempDay.toString().length < 2) {\r\n                tempDay = '0' + tempDay\r\n            }\r\n            days[days.length] = tempDay\r\n        }\r\n        if (dy.toString().length < 2) {\r\n            dy = '0' + dy\r\n        }\r\n        days[days.length] = dy\r\n\r\n        days.forEach((day) => {\r\n\r\n            ref.child(year).child(month).child(day).on(\"value\", (snapshot) => {\r\n\r\n                // TODO: on child added listener instead, this this var stored outside the \"on()\" event\r\n                var dayData = []\r\n\r\n                snapshot.forEach((child) => {\r\n                    child.forEach((gChild) => {\r\n                        var dataPoint = gChild.val()\r\n\r\n                        dataPoint.time = dataPoint.time * 1000\r\n\r\n                        dayData[dayData.length] = dataPoint;\r\n                    });\r\n                });\r\n\r\n                dayData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n                setData(growID, day, dayData);\r\n            });\r\n        });\r\n    }\r\n\r\n    // ............ //\r\n    // GROW CONFIG  //\r\n    // ............ //\r\n    // Get Reset Value\r\n    getGrowConfig(growID, setData) {\r\n\r\n        // Config data isResetting in firebase \r\n        var ref = this.firebase.db.ref().child('grows').child(this.userID).child(growID).child('config')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            if (snapshot.val() === null) {\r\n                setData(false);\r\n                return;\r\n            }\r\n\r\n            setData(snapshot.val())\r\n\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"watch isResetting failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n\r\n    // Set Grow Config in firebase\r\n    setGrowConfig(growID, config) {\r\n        var ref = this.firebase.db.ref().child('grows').child(this.userID).child(growID).child('config')\r\n        ref.update(config)\r\n    }\r\n\r\n\r\n    // .................. //\r\n    // GROW CONFIG RESET  //\r\n    // .................. //\r\n\r\n    // Get Reset Value\r\n    getResetValue(growID, setData) {\r\n\r\n        // Config data isResetting in firebase \r\n        var ref = this.firebase.db.ref().child('grows').child(this.userID).child(growID).child('config').child('isResetting')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            if (snapshot.val() === null) {\r\n                setData(false);\r\n                return;\r\n            }\r\n\r\n            setData(snapshot.val())\r\n\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"watch isResetting failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // Get Reset Value\r\n    resetGrow(growID) {\r\n        // Config data isResetting in firebase \r\n        var ref = this.firebase.db.ref().child('grows').child(this.userID).child(growID).child('config').child('isResetting')\r\n\r\n        ref.set(true)\r\n    }\r\n\r\n\r\n\r\n    // ........... //\r\n    // GROW PAGE   //\r\n    // ........... //\r\n\r\n    // Get live data from firebase\r\n    getUserGrows(setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('users').child(this.userID).child('grows')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var userGrowIDs = [];\r\n\r\n            console.log(\"TODO: remove filter. what does this even do O.o \")\r\n            snapshot.forEach((child) => {\r\n                if (!child.val().sensors_live) {\r\n                    userGrowIDs[userGrowIDs.length] = child.key\r\n                }\r\n            });\r\n\r\n            var setUserGrows = []\r\n\r\n            userGrowIDs.forEach((key) => {\r\n                var growRef = this.firebase.db.ref().child('grows').child(this.userID).child(key)\r\n\r\n                growRef.once('value', (snapshot) => {\r\n\r\n                    if (!setUserGrows.includes(snapshot.val())) {\r\n                        setUserGrows[setUserGrows.length] = snapshot.val()\r\n                    }\r\n\r\n                    setUserGrows.sort((a, b) => (a.createdAt > b.createdAt) ? 1 : -1)\r\n\r\n                    setData(setUserGrows)\r\n\r\n                }, function (errorObject) {\r\n                    console.log(\"watch user grows grow failed: \" + errorObject.code);\r\n                });\r\n            })\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"watch user grows failed: \" + errorObject.code);\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    // ............ //\r\n    // GROW JRNLS  //\r\n    // ............ //\r\n\r\n    // Get live data from firebase\r\n    getLinkedJournals(journals, setData) {\r\n\r\n        var ref = this.firebase.db.ref().child('users').child(this.userID).child('journals')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var journalsList = [];\r\n\r\n            snapshot.forEach((child) => {\r\n                if (journals) {\r\n                    Object.keys(journals).forEach(function (key) {\r\n                        if (child.val().id === key) {\r\n                            journalsList.push(child.val())\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n\r\n            journalsList.sort((a, b) => (a.updatedAt < b.updatedAt) ? 1 : -1)\r\n\r\n            setData(journalsList)\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"GrowDetails watch user journals failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // ............ //\r\n    // WATCH JRNLS  //\r\n    // ............ //\r\n\r\n    // Watch Journals\r\n    getUserJournals(setUserJournals) {\r\n        var ref = this.firebase.db.ref().child('users').child(this.userID).child('journals')\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var journalsList = [];\r\n\r\n            snapshot.forEach((child) => {\r\n                journalsList.push(child.val())\r\n            });\r\n\r\n            console.log(\"Journals List:\")\r\n            console.log(journalsList)\r\n\r\n            journalsList.sort((a, b) => (a.updatedAt < b.updatedAt) ? 1 : -1)\r\n\r\n            setUserJournals(journalsList)\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"watch user journals failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // Watch Entries\r\n    watchJournalEntries(journalID, setJournalEntries) {\r\n\r\n        var ref = this.firebase.db.ref().child('journals').child(this.userID).child(journalID).child('entries')\r\n\r\n        console.log('watchin... ' + journalID)\r\n\r\n        ref.on('value', (snapshot) => {\r\n\r\n            var tempEntriesList = []\r\n            snapshot.forEach((child) => {\r\n                tempEntriesList.push(child.val())\r\n            });\r\n\r\n            tempEntriesList.sort((a, b) => (a.datetime_true > b.datetime_true) ? 1 : -1)\r\n\r\n            var tempDotsList = [];\r\n            tempEntriesList.forEach((entry) => {\r\n                if (!tempDotsList.includes(entry.datetime_short)) {\r\n                    tempDotsList[tempDotsList.length] = entry.datetime_short;\r\n                }\r\n            });\r\n\r\n            var tempDeepDotsList = [];\r\n            tempDotsList.forEach((dotDate) => {\r\n                var dotValue = []\r\n                tempEntriesList.forEach((entry) => {\r\n                    if (dotDate === entry.datetime_short) {\r\n                        dotValue[dotValue.length] = entry;\r\n                    }\r\n                });\r\n\r\n                tempDeepDotsList[tempDeepDotsList.length] = dotValue;\r\n            });\r\n\r\n            setJournalEntries(tempEntriesList, tempDeepDotsList)\r\n\r\n        }, function (errorObject) {\r\n            console.log(\"follow journal failed: \" + errorObject.code);\r\n        });\r\n    }\r\n\r\n    // ............ //\r\n    // JRNL CREATE  //\r\n    // ............ //\r\n\r\n    // Get live data from firebase\r\n    async createJournal(journalName, openJournal) {\r\n        // ref for actual journal\r\n        var ref = this.firebase.db.ref().child('journals').child(this.userID).push()\r\n        // user object ref to journal key\r\n        var userRef = this.firebase.db.ref().child('users').child(this.userID).child('journals').child(ref.key)\r\n\r\n        var journalID = ref.key\r\n        var nowDate = new Date()\r\n\r\n        ref.update({ 'id': journalID, 'name': journalName, 'updatedAt': nowDate.getTime(), 'createdAt': nowDate.getTime(), 'previewImage': 'https://via.placeholder.com/160x120?text=NO+PREVIEW' })\r\n        userRef.update({ 'id': journalID, 'name': journalName, 'updatedAt': nowDate.getTime(), 'createdAt': nowDate.getTime(), 'previewImage': 'https://via.placeholder.com/160x120?text=NO+PREVIEW' })\r\n\r\n        openJournal(journalID)\r\n    }\r\n\r\n\r\n    // ................ //\r\n    // SAVE JRNL ENTRY  //\r\n    // ................ //\r\n\r\n    // Get live data from firebase\r\n    saveJournalEntry(journalID, entryID, trueDate, title, content, growStage, postDate, images, closeModal) {\r\n        // Journal data in firebase // TODO scalable.\r\n        var ref = this.firebase.db.ref().child('journals').child(this.userID).child(journalID).child('entries')\r\n\r\n        var editDate = new Date().getTime()\r\n\r\n        var temptTrueDate = trueDate\r\n        var shortMonth = (temptTrueDate.getMonth() + 1) + \"-\"\r\n        if (shortMonth.length === 2) {\r\n            shortMonth = \"0\" + shortMonth;\r\n        }\r\n        var shortDateVar = shortMonth + temptTrueDate.getDate() + \"-\" + temptTrueDate.getFullYear()\r\n\r\n        if (!entryID) {\r\n            // ref for actual journal\r\n            var refPush = ref.push()\r\n            entryID = refPush.key\r\n        }\r\n\r\n        if (!postDate) {\r\n            postDate = new Date()\r\n        }\r\n\r\n        if (!trueDate) {\r\n            trueDate = new Date()\r\n        }\r\n\r\n\r\n        ref.child(entryID).update({\r\n            'id': entryID,\r\n            'title': title,\r\n            'published': true,\r\n            'content': content,\r\n            'grow_stage': growStage,\r\n            'datetime_post': postDate.getTime(),\r\n            'datetime_edit': editDate,\r\n            'datetime_true': trueDate.getTime(),\r\n            'datetime_short': shortDateVar,\r\n            'journal_id': journalID,\r\n            'images': images\r\n        })\r\n\r\n        console.log('set journal entry ' + entryID)\r\n\r\n        // update updatedAt\r\n        var jRef = this.firebase.db.ref().child('journals').child(this.userID).child(journalID)\r\n        var userRef = this.firebase.db.ref().child('users').child(this.userID).child('journals').child(journalID)\r\n        var nowDate = new Date()\r\n        jRef.child('updatedAt').set(nowDate.getTime())\r\n        userRef.child('updatedAt').set(nowDate.getTime())\r\n\r\n\r\n        closeModal(entryID);\r\n    }\r\n\r\n    // .................. //\r\n    // JRNL ENTRY IMAGES  //\r\n    // .................. //\r\n\r\n    // Upload Image\r\n    async handleImageUpload(file, setImages) {\r\n        // Get storage reference and push file blob \r\n        var storageRef = this.firebase.storage.ref().child('journals').child(this.userID);\r\n\r\n        console.log(\"filename:\" + file.name)\r\n\r\n        var dateNow = new Date()\r\n\r\n        const metadata = { contentType: file.type };\r\n        const storageTask = storageRef.child(dateNow.getTime() + file.name).put(file, metadata);\r\n        storageTask\r\n            .then(snapshot => snapshot.ref.getDownloadURL())\r\n            .then(url => {\r\n                // Create thumb url from url (thumbs automatically created via cloud function on upload)\r\n                var urlSplit = url.split(\"%2F\")\r\n                var thumbURL = urlSplit[0] + \"%2F\" + urlSplit[1] + \"%2Fthumb_\" + urlSplit[2]\r\n\r\n                // URL AND THUMBURL\r\n                setImages(url, thumbURL)\r\n\r\n            })\r\n    }\r\n\r\n    // Delete Image\r\n    handleImageDelete(url) {\r\n        // Create a reference to the file to delete\r\n        var desertRef = this.firebase.storage.refFromURL(url)\r\n\r\n        // Delete the file\r\n        desertRef.delete().then(function () {\r\n            // File deleted successfully\r\n            console.log(\"deleted \" + url + \"successfully :)\")\r\n        }).catch(function (error) {\r\n            // Uh-oh, an error occurred!\r\n            console.log(\"delete \" + url + \"error :(\")\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default DbHelper;","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass SignIn extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            SHOWFIELDS: false\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n\r\n        this.firebase.auth.onAuthStateChanged((user) => {\r\n            if (!user) {\r\n                this.showSigninFields();\r\n            }\r\n        });\r\n    }\r\n\r\n    handleUsernameChange = (event) => {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePasswordChange = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    validateEmail(testEmail) {\r\n        var emailRegex = /^\\S+@\\S+$/;\r\n        return emailRegex.test(String(testEmail).toLowerCase());\r\n    }\r\n\r\n    validatePassword(testPswd) {\r\n        var paswdRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\r\n        return paswdRegex.test(String(testPswd));\r\n    }\r\n\r\n    enterSubmit() {\r\n        console.log(\"SignIn submit enter pressed\");\r\n        let username = this.state.username;\r\n        let password = this.state.password;\r\n        console.log(`SignUp submit enter pressed - username ${username}`);\r\n        if (!this.validateEmail(username)) {\r\n            alert('Bad email me thinks :(')\r\n            return;\r\n        }\r\n        // if (!this.validatePassword(password)) {\r\n        //     alert('Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character.')\r\n        //     return;\r\n        // }\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        });\r\n        this.hideSigninFields();\r\n\r\n        this.firebase.auth.signInWithEmailAndPassword(username, password).catch(function (error) {\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n\r\n            console.log(`${errorCode}: ${errorMessage}`)\r\n            alert(`${errorCode}: ${errorMessage}`)\r\n            this.setState({ SHOWFIELDS: true });\r\n            return;\r\n            // ...\r\n        });\r\n\r\n        console.log(`username ${username} - logged in`)\r\n        // this.props.signIn();\r\n        return;\r\n\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        console.log(\"SignIn submit pressed\");\r\n        let username = this.state.username;\r\n        let password = this.state.password;\r\n        console.log(`SignUp submit pressed - username ${username}`);\r\n        if (!this.validateEmail(username)) {\r\n            alert('Bad email me thinks :(')\r\n            return;\r\n        }\r\n        // if (!this.validatePassword(password)) {\r\n        //     alert('Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character.')\r\n        //     return;\r\n        // }\r\n        this.setState({\r\n            username: '',\r\n            password: ''\r\n        });\r\n        this.hideSigninFields();\r\n\r\n        this.firebase.auth.signInWithEmailAndPassword(username, password).catch(function (error) {\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n\r\n            console.log(`${errorCode}: ${errorMessage}`)\r\n            alert(`${errorCode}: ${errorMessage}`)\r\n            this.setState({ SHOWFIELDS: true });\r\n            return;\r\n            // ...\r\n        });\r\n\r\n        console.log(`username ${username} - logged in`)\r\n        // this.props.signIn();\r\n        return;\r\n\r\n    }\r\n\r\n    hideSigninFields = () => {\r\n        this.setState({ SHOWFIELDS: false });\r\n    }\r\n\r\n    showSigninFields = () => {\r\n        this.setState({ SHOWFIELDS: true });\r\n    }\r\n\r\n    // handleGotoSignUp = () => {\r\n    //     this.props.gotoSignUp(\"signup\");\r\n    //     console.log(\"Goto signup pressed\");\r\n    // }\r\n\r\n    render() {\r\n\r\n        if (this.state.SHOWFIELDS) {\r\n            return (\r\n                <div id=\"signin-div\">\r\n                    <h3>Sign In</h3>\r\n                    <div>\r\n                        Email:\r\n                        <input id=\"signin-username\" value={this.state.username} onChange={this.handleUsernameChange} />\r\n                    </div>\r\n                    <div>\r\n                        Password:\r\n                        <input type=\"password\" id=\"signin-password\" value={this.state.password} \r\n                        onChange={this.handlePasswordChange}\r\n                        onKeyPress={(ev) => {\r\n                            console.log(`Pressed keyCode ${ev.key}`);\r\n                            if (ev.key === 'Enter' || ev.key === '13') {\r\n                              // Do code here\r\n                              this.enterSubmit()\r\n                            }\r\n                          }} />\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"submit-signin-btn\" onClick={this.handleSubmit} > Sign in! </button>\r\n                    </div>\r\n                    {/* <div>\r\n                        <button id=\"goto-signup-btn\" onClick={this.handleGotoSignUp} > Sign up! </button>\r\n                    </div> */}\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    One Moment...\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default SignIn;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\nimport Firebase from '../../config/firebaseConfig.js'\r\n\r\n\r\nclass SignUp extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            SHOWFIELDS: false\r\n        };\r\n\r\n        this.firebase = new Firebase()\r\n\r\n        this.firebase.auth.onAuthStateChanged((user) => {\r\n            if (user) {\r\n                this.postUserToFirebase(user.uid, user.email);\r\n            } else {\r\n                this.showSignupFields();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    postUserToFirebase(uid, username) {\r\n        let date = new Date()\r\n        let timestamp = date.getTime()\r\n\r\n        // A user entry.\r\n        var userData = {\r\n            uid: uid,\r\n            username: username,\r\n            createdAt: timestamp,\r\n            updatedAt: timestamp,\r\n        };\r\n\r\n        // Write the new post's data simultaneously in the posts list and the user's post list.\r\n        var updates = {};\r\n        updates['/users/' + uid] = userData;\r\n\r\n        return this.firebase.db.ref().update(updates);\r\n    }\r\n\r\n    validateEmail(testEmail) {\r\n        var emailRegex = /^\\S+@\\S+$/;\r\n        return emailRegex.test(String(testEmail).toLowerCase());\r\n    }\r\n\r\n    validatePassword(testPswd) {\r\n        var paswdRegex = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;\r\n        return paswdRegex.test(String(testPswd));\r\n    }\r\n\r\n    hideSignupFields = () => {\r\n        this.setState({ SHOWFIELDS: false });\r\n    }\r\n\r\n    showSignupFields = () => {\r\n        this.setState({ SHOWFIELDS: true });\r\n    }\r\n\r\n    handleUsernameChange = (event) => {\r\n        this.setState({ username: event.target.value });\r\n    }\r\n\r\n    handlePasswordChange = (event) => {\r\n        this.setState({ password: event.target.value });\r\n    }\r\n\r\n    handleSubmit = () => {\r\n        let username = this.state.username;\r\n        let password = this.state.password;\r\n        console.log(`SignUp submit pressed - username ${username}`);\r\n        if (!this.validateEmail(username)) {\r\n            alert('Bad email me thinks :(')\r\n            this.setState({\r\n                username: ''\r\n            });\r\n            return;\r\n        }\r\n        if (!this.validatePassword(password)) {\r\n            alert('Bad password. Must be 7-15 characters with at least 1 numeric digit and a special character.')\r\n            this.setState({\r\n                password: ''\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.firebase.auth.createUserWithEmailAndPassword(username, password).catch(function (error) {\r\n            // Handle Errors here.\r\n            var errorCode = error.code;\r\n            var errorMessage = error.message;\r\n\r\n            console.log(`${errorCode}: ${errorMessage}`)\r\n            return;\r\n            // ...\r\n        });\r\n        \r\n        return;\r\n    }\r\n\r\n    handleGotoSignIn = () => {\r\n        this.props.gotoSignIn(\"signin\");\r\n        console.log(\"Goto signin pressed\");\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.SHOWFIELDS) {\r\n            return (\r\n                <div id=\"signup-div\">\r\n                    <h3>Sign Up</h3>\r\n                    <div>\r\n                        Email:\r\n                        <input id=\"signup-username\" value={this.state.username} onChange={this.handleUsernameChange} />\r\n                    </div>\r\n                    <div>\r\n                        Password:\r\n                        <input type=\"password\" id=\"signup-password\" value={this.state.password} onChange={this.handlePasswordChange} />\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"submit-signup-btn\" onClick={this.handleSubmit} > Sign up! </button>\r\n                    </div>\r\n                    <div>\r\n                        <button id=\"goto-signin-btn\" onClick={this.handleGotoSignIn} > Sign in! </button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    One Moment...\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default SignUp;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass FeedChart extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Chart-Page\">\r\n                <iframe id=\"Food-Chart\" title=\"FoodChart\" src=\"https://docs.google.com/spreadsheets/d/e/2PACX-1vQiIvBEmBjgIFQ_5vSAZJrzVTepyDpyDYeNrOrfqWOuraA_MHZE_sRLyGkcARlIYR-INkuwq667Seqe/pubhtml?widget=true&amp;headers=false\">\r\n                </iframe>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default FeedChart;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport DatePicker from \"react-datepicker\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport Dropzone from 'react-dropzone';\r\n\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass JournalAddEditModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            content: '',\r\n            images: [],\r\n            addedImages: [],\r\n            journalID: this.props.journalID,\r\n            postDate: new Date(),\r\n            trueDate: new Date(),\r\n            growStage: 'veg', // pre, seedling, veg, flower, post\r\n            published: false,\r\n            entryID: ''\r\n        };\r\n\r\n        this.dbHelper = new DbHelper();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.editPost) {\r\n\r\n            var tempTrueDate = null\r\n            if (this.props.editPost.datetime_true) {\r\n                tempTrueDate = new Date(this.props.editPost.datetime_true)\r\n            } else {\r\n                tempTrueDate = this.state.trueDate\r\n            }\r\n\r\n            var tempPostDate = null\r\n            if (this.props.editPost.datetime_post) {\r\n                tempPostDate = new Date(this.props.editPost.datetime_post)\r\n            } else {\r\n                tempPostDate = this.state.postDate\r\n            }\r\n  \r\n\r\n            var tempContent = this.props.editPost.content\r\n            var tempTitle = this.props.editPost.title\r\n            var tempImages = this.props.editPost.images\r\n            if (tempImages === null || tempImages === undefined) {\r\n                tempImages = []\r\n            }\r\n            var tempGrowStage = null\r\n            if (this.props.editPost.grow_stage) {\r\n                tempGrowStage = this.props.editPost.grow_stage\r\n            } else {\r\n                tempGrowStage = this.state.growStage\r\n            }\r\n\r\n            var tempPostId = this.props.editPost.id\r\n\r\n            this.setState({\r\n                title: tempTitle,\r\n                content: tempContent,\r\n                trueDate: tempTrueDate,\r\n                postDate: tempPostDate,\r\n                growStage: tempGrowStage,\r\n                images: tempImages,\r\n                entryID: tempPostId,\r\n                published: true\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTitleChange = (event) => {\r\n        this.setState({ title: event.target.value });\r\n    }\r\n\r\n    handleContentChange = (event) => {\r\n        this.setState({ content: event.target.value });\r\n    }\r\n\r\n    cancelModal = () => {\r\n\r\n        this.deleteAllAddedImages();\r\n\r\n        this.props.closeModal(this.state.entryID);\r\n    }\r\n\r\n    saveEntry = async () => {\r\n        if (this.state.content === '' && this.state.images.length === 0) {\r\n            alert(\"Needs content or images!\")\r\n            return;\r\n        }\r\n        this.setState({ published: true });\r\n\r\n        var title = null;\r\n        if (this.state.title === '' || !this.state.title) {\r\n            title = ''\r\n        } else {\r\n            title = this.state.title\r\n        }\r\n\r\n        var content = null;\r\n        if (this.state.content === '' || !this.state.content) {\r\n            content = ''\r\n        } else {\r\n            content = this.state.content\r\n        }\r\n\r\n        this.dbHelper.saveJournalEntry(\r\n            this.state.journalID,\r\n            this.state.entryID,\r\n            this.state.trueDate,\r\n            title,\r\n            content,\r\n            this.state.growStage,\r\n            this.state.postDate,\r\n            this.state.images,\r\n            this.closeModal\r\n        )\r\n    }\r\n\r\n    closeModal = (entryID) => {\r\n        this.props.closeModal(entryID);\r\n    }\r\n\r\n    onImageDrop(files) {\r\n\r\n        console.log(files);\r\n\r\n        files.forEach((file) => {\r\n            this.handleImageUpload(file);\r\n            console.log(\"upload \" + file);\r\n        })\r\n\r\n    }\r\n\r\n    displayFullImage = () => {\r\n\r\n        console.log(\"JournalAddEditModal todo\")\r\n    }\r\n\r\n\r\n    handleImageUpload = async (file) => {\r\n        try {\r\n            await this.dbHelper.handleImageUpload(file, this.setImages)\r\n        } catch (e) {\r\n            console.log(e);\r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n    setImages = (url, thumbURL) => {\r\n        var tempImages = this.state.images;\r\n        var tempAddedImages = this.state.addedImages;\r\n        tempImages.push({ 'url': url, 'thumb': thumbURL })\r\n        tempAddedImages.push({ 'url': url, 'thumb': thumbURL })\r\n        this.setState({\r\n            images: tempImages,\r\n            addedImages: tempAddedImages\r\n        });\r\n    }\r\n\r\n    deleteImage = (ev) => {\r\n        let val = ev.target.dataset.value;\r\n        console.log(val);\r\n        console.log(this.state.images);\r\n\r\n        let tempImages = []\r\n\r\n        this.state.images.forEach((img) => {\r\n            if (img.url.toString() === val) {\r\n                this.handleImageDelete(img.url);\r\n                this.handleImageDelete(img.thumb)\r\n            } else {\r\n                tempImages.push(img)\r\n            }\r\n        })\r\n\r\n        this.setState({ images: tempImages });\r\n\r\n    }\r\n\r\n    deleteAllAddedImages = () => {\r\n        let imagesToDelete = this.state.addedImages;\r\n        // this.setState({ images: [] });\r\n\r\n        imagesToDelete.forEach((img) => {\r\n            this.handleImageDelete(img.url);\r\n            this.handleImageDelete(img.thumb);\r\n        })\r\n    }\r\n\r\n    handleImageDelete = (url) => {\r\n        this.dbHelper.handleImageDelete(url);\r\n    }\r\n\r\n    handleDateChange = (dt) => {\r\n        this.setState({ trueDate: dt });\r\n    }\r\n\r\n    handleGrowStageChange = (event) => {\r\n        this.setState({ growStage: event.target.value });\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        console.log(\"true DATE!!\")\r\n        console.log(this.state.trueDate)\r\n\r\n        if (this.state.images) {\r\n            var renderedThumbnails = this.state.images.map((image, i) => <div className=\"Temp-Image-Div\"><img key={i} alt=\"grow img\" data-value={image.url} src={image.url} className=\"Journal-Entry-Preview-Thumbnail\" onClick={this.displayFullImage} /><div data-value={image.url} onClick={this.deleteImage} className=\"Delete-Image-Btn\">X</div></div>)\r\n        }\r\n\r\n        return (\r\n            <div id=\"Journal-Modal-Space\">\r\n                <div id=\"Journal-Edit-Entry-Modal\">\r\n                    <div id=\"Journal-Edit-Topline\">\r\n                        {/* DATE PICKER  */}\r\n                        <DatePicker\r\n                            id=\"journal-edit-datepicker\"\r\n                            selected={this.state.trueDate}\r\n                            onChange={this.handleDateChange} />\r\n                        {/* STAGE PICKER  */}\r\n                        <select id=\"journal-edit-grow-stage\" onChange={this.handleGrowStageChange} value={this.state.growStage}>\r\n                            <option value=\"post\">Post</option>\r\n                            <option value=\"flower\">Flower</option>\r\n                            <option value=\"veg\">Veg</option>\r\n                            <option value=\"seedling\">Seedling</option>\r\n                            <option value=\"pre\">Pre</option>\r\n                        </select>\r\n                        {/* TITLE INPUT  */}\r\n                        <input className=\"journal-modal-edit-title\" placeholder=\"enter title...\" value={this.state.title} onChange={this.handleTitleChange} />\r\n                    </div>\r\n                    {/* BODY INPUT  */}\r\n                    <textarea className=\"journal-modal-edit-body\" placeholder=\"enter body content...\" value={this.state.content} onChange={this.handleContentChange} />\r\n                    {/* BODY INPUT  */}\r\n                    <div className=\"journal-add-images-area\">\r\n\r\n                        <Dropzone\r\n                            className=\"journal-add-images-dropzone\"\r\n                            onDrop={this.onImageDrop.bind(this)}\r\n                            accept=\"image/*\"\r\n                            multiple={true}>\r\n                            {({ getRootProps, getInputProps }) => {\r\n                                return (\r\n                                    <div {...getRootProps()}>\r\n                                        <input {...getInputProps()} />\r\n                                        {\r\n                                            <p id=\"Image-Drop-Text\">Try dropping some <br></br> images <span role=\"img\" aria-label=\"camera\">&#x1f4f7;</span> here, <br></br>or click to <br></br> select files.</p>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        </Dropzone>\r\n\r\n                        {(() => {\r\n                            if (renderedThumbnails) {\r\n                                return (\r\n                                    <div className=\"Journal-Edit-Post-Images\">\r\n                                        {renderedThumbnails}\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                    </div>\r\n\r\n                    <div id=\"journal-cancel-save-btns\">\r\n                        <button className=\"journal-cancel-btn\" onClick={this.cancelModal}>Cancel</button>\r\n                        <button className=\"journal-save-entry-btn\" onClick={this.saveEntry}>Save Entry</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalAddEditModal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass FullImageModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            imageList: this.props.imageList,\r\n            currentImage: this.props.currentFullImage,\r\n            fullSizeList: []\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.imageList) {\r\n            var tempFullSizeList = []\r\n            this.props.imageList.forEach((image) => {\r\n                tempFullSizeList[tempFullSizeList.length] = image.url\r\n            });\r\n            this.setState({ fullSizeList: tempFullSizeList });\r\n        }\r\n\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.props.closeModal('');\r\n    }\r\n\r\n    nextImage = () => {\r\n\r\n        this.state.fullSizeList.forEach((imageUrl, i) => {\r\n            if (imageUrl === this.state.currentImage) {\r\n                if (i < this.state.fullSizeList.length - 1) {\r\n                    this.setState({ currentImage: this.state.fullSizeList[i + 1] });\r\n                }\r\n                return;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    previousImage = () => {\r\n\r\n        this.state.fullSizeList.forEach((imageUrl, i) => {\r\n            if (imageUrl === this.state.currentImage) {\r\n                if (i > 0) {\r\n                    this.setState({ currentImage: this.state.fullSizeList[i - 1] });\r\n                }\r\n                return;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        console.log(\"FULLIMAGE MODAL!\")\r\n        console.log(this.state.imageList)\r\n        console.log(this.state.currentImage)\r\n\r\n        return (\r\n            <div id=\"Full-Image-Modal-Space\">\r\n                <img id=\"Full-Image-Image\" alt=\"full size\" src={this.state.currentImage} />\r\n                <button onClick={this.closeModal} id=\"Full-Image-Close-Btn\">x</button>\r\n                <button onClick={this.previousImage} id=\"Full-Image-Last-Btn\">&#8804;</button>\r\n                <button onClick={this.nextImage} id=\"Full-Image-Next-Btn\">&#8805;</button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FullImageModal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass JournalCreateModal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journalName: '',\r\n            journalID: this.props.journalID\r\n        };\r\n\r\n\t\tthis.dbHelper = new DbHelper();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    handleJournalNameChange = (event) => {\r\n        this.setState({ journalName: event.target.value });\r\n    }\r\n\r\n    cancelModal = () => {\r\n        this.props.setJournalID(null);\r\n    }\r\n\r\n    createJournal = async () => {\r\n        if (this.state.journalName === '') {\r\n            alert(\"Journal needs a name!\")\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await this.dbHelper.createJournal(this.state.journalName, this.openJournal)\r\n        } catch (e) {\r\n            console.log(e);\r\n            return 'caught ' + e\r\n        }\r\n\r\n    }\r\n\r\n    openJournal = (journalID) => {\r\n        this.setState({ journalID: journalID });\r\n        this.props.setJournalID(journalID);\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div id=\"Journal-Modal-Space\">\r\n                <div id=\"Journal-Create-Modal\">\r\n                    {/* TITLE INPUT  */}\r\n                    <input className=\"journal-modal-journal-name\" placeholder=\"enter journal name...\" value={this.state.journalName} onChange={this.handleJournalNameChange} />\r\n                    <div id=\"journal-create-btns\">\r\n                        <button className=\"journal-cancel-create-btn\" onClick={this.cancelModal}>Cancel</button>\r\n                        <button className=\"journal-create-journal-btn\" onClick={this.createJournal}>Create Journal</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalCreateModal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nclass JournalTimelineButton extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journalName: '',\r\n            journalID: this.props.journalID,\r\n            monthDayDate: ''\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if (this.props.entry) {\r\n            var timelineDate = new Date(this.props.entry.datetime_true)\r\n            var shortMonth = (timelineDate.getMonth() + 1) + \"-\"\r\n            if (shortMonth.length === 2) {\r\n                shortMonth = \"0\" + shortMonth;\r\n            }\r\n            var shortDateVar = shortMonth + timelineDate.getDate()\r\n            this.setState({ monthDayDate: shortDateVar });\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    setEntries = () => {\r\n        this.props.setEntries(this.props.entries);\r\n    }\r\n\r\n    render() {\r\n        var growStage = this.props.entry.grow_stage\r\n        var idVar = \"Timeline-Dot-\" + growStage.charAt(0).toUpperCase() + growStage.slice(1)\r\n\r\n        // Check if the button corresponds to the active entry\r\n        var isActiveEntry = false;\r\n        if (this.props.currentEntryID === this.props.entry.id) {\r\n            isActiveEntry = true;\r\n        }\r\n\r\n        var array = (this.props.entry.datetime_short).split(\"-\");\r\n        var datetimeShortMD = array[0] + \"-\" + array[1]\r\n\r\n        var dateString = new Date(this.props.entry.datetime_true).toDateString()\r\n\r\n        var previewImage = null;\r\n        if (this.props.entries[0].images) {\r\n            previewImage = this.props.entries[0].images[0].thumb;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {(() => {\r\n                    if (isActiveEntry) {\r\n                        return (\r\n                            <div className=\"Timeline-Dot-Connector\">\r\n                                <div className=\"Dot-Connector-Text-rotate-180\">\r\n\r\n                                    {datetimeShortMD}\r\n\r\n\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                        )\r\n                    }\r\n                })()}\r\n                <button data-value={this.props.entries} id={idVar} className=\"Timeline-Dot\" onClick={this.setEntries}>\r\n\r\n                    {(() => {\r\n                        if (!isActiveEntry) {\r\n                            return (\r\n                                <div className=\"Dot-Preview-rotate-180\">\r\n                                    <div className=\"Dot-Preview-Window\">\r\n                                        <div className=\"Dot-Preview-Date-String\">\r\n                                            {dateString}\r\n                                        </div>\r\n\r\n                                        {(() => {\r\n                                            if (previewImage) {\r\n                                                return <img alt=\"journal preview\" src={previewImage} className=\"Preview-Image-Thumbnail\" onClick={this.displayFullImage} />\r\n                                            }\r\n                                        })()}\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n\r\n\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalTimelineButton;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass JournalBoxItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journal: this.props.journal\r\n        };\r\n\r\n    }\r\n\r\n    openJournal = () => {\r\n        this.props.openJournal(this.props.journal)\r\n    }\r\n\r\n    render() {\r\n\r\n        var createdAt = new Date(this.props.journal.createdAt).toDateString()\r\n\r\n        // TODO... simplify below.\r\n        var updatedAtDate = new Date(this.props.journal.updatedAt)\r\n        var updatedAtHoursString = updatedAtDate.getHours().toString()\r\n        if (updatedAtHoursString.length === 1) {\r\n            updatedAtHoursString = \"0\" + updatedAtHoursString\r\n        }\r\n        var updatedAtMinutesString = updatedAtDate.getMinutes().toString()\r\n        if (updatedAtMinutesString.length === 1) {\r\n            updatedAtMinutesString = \"0\" + updatedAtMinutesString\r\n        }\r\n        var updatedAt = updatedAtDate.toDateString() + \" - \" + updatedAtHoursString + \":\" + updatedAtMinutesString\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"Journal-Box-Item\" data-value={this.props.journal.id} onClick={this.openJournal}>\r\n                <div className=\"Journal-Box-Item-Main\">\r\n                    <div className=\"Journal-Box-Item-Header\">\r\n                        <div>\r\n                            {this.props.journal.name}\r\n                        </div>\r\n                        <div className=\"Journal-Box-Created\">\r\n                            updated: <i><b>{updatedAt}</b></i>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"Journal-Box-Info\">\r\n                        created: <i><b>{createdAt}</b></i>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <img alt=\"preview\" src={this.props.journal.previewImage} className=\"Journal-Box-Preview-Image\" />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalBoxItem;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nclass JournalEntry extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.state.currentEntry) {\r\n            if (this.state.currentEntry.id === prevProps.currentEntry.id) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            currentEntry: prevProps.currentEntry\r\n        });\r\n\r\n    }\r\n\r\n    displayFullImage = (ev) => {\r\n        this.props.displayFullImage(this.props.currentEntry.images)\r\n        this.props.currentFullImage(ev.target.dataset.value)\r\n        // let val = ev.target.dataset.value;\r\n        // window.open(val);\r\n    }\r\n\r\n    editEntryByID = (ev) => {\r\n        this.props.editEntryByID(ev.target.dataset.value);\r\n    }\r\n\r\n    render() {\r\n\r\n        var renderedThumbnails = null;\r\n        if (this.props.currentEntry) {\r\n            if (this.props.currentEntry.images) {\r\n                renderedThumbnails = this.props.currentEntry.images.map((image, i) => <img key={i} alt=\"grow img\" data-value={image.url} src={image.thumb} className=\"Journal-Entry-Thumbnail\" onClick={this.displayFullImage} />)\r\n            }\r\n        }\r\n\r\n        var datetimeTrue = null;\r\n        if (this.props.currentEntry && (this.props.currentEntry !== '')) {\r\n            datetimeTrue = new Date(this.props.currentEntry.datetime_true)\r\n        }\r\n\r\n        return (\r\n            <div className=\"Journal-Post-View\">\r\n\r\n                <div className=\"Journal-Post-Header\">\r\n                    <div className=\"Journal-Post-Date\">\r\n                        {datetimeTrue.toDateString()}\r\n                    </div>\r\n\r\n                    <div className=\"Journal-Post-Title\">\r\n                        {this.props.currentEntry.title}\r\n                    </div>\r\n\r\n                    <button className=\"Journal-Edit-Post-Btn\" data-value={this.props.currentEntry.id} onClick={this.editEntryByID}>\r\n                        edit &#9998;\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"Journal-Post-Content\">\r\n                    {this.props.currentEntry.content}\r\n                </div>\r\n\r\n\r\n                {(() => {\r\n                    if (renderedThumbnails) {\r\n                        return (\r\n                            <div className=\"Journal-Post-Images-Wrapper\">\r\n                                <div className=\"Journal-Post-Images\">\r\n                                    {renderedThumbnails}\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                })()}\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default JournalEntry;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport JournalAddEditModal from './JournalAddEditModal'\r\nimport FullImageModal from './FullImageModal'\r\nimport JournalCreateModal from './JournalCreateModal'\r\nimport JournalTimelineButton from './JournalTimelineButton'\r\nimport JournalBoxItem from './JournalBoxItem'\r\nimport JournalEntry from './JournalEntry'\r\n\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\n\r\nclass GrowJournal extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            displayContent: \"main\",\r\n            displayEntries: [], // list of entries at selected date\r\n            currentEntry: null,\r\n            currentEntryID: null,\r\n            testContent: '',\r\n            timelineEntries: [],\r\n            journalID: this.props.journalID,\r\n            fullImageModalImages: null,\r\n            currentFullImage: null\r\n        };\r\n\r\n        this.dbHelper = new DbHelper();\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n\r\n        if (this.props.journalID) {\r\n            this.watchEntries(this.props.journalID)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    watchEntries = (journalID = this.props.journalID) => {\r\n        this.dbHelper.watchJournalEntries(journalID, this.setJournalEntries)\r\n    }\r\n\r\n    setJournalEntries = (entriesList, dotsList) => {\r\n        if (entriesList.length > 0) {\r\n            this.setState({\r\n                currentEntry: entriesList[entriesList.length - 1],\r\n                currentEntryID: entriesList[entriesList.length - 1].id,\r\n                timelineEntries: entriesList,\r\n                timelineDots: dotsList,\r\n                displayEntries: dotsList[dotsList.length - 1]\r\n            });\r\n        } else {\r\n            this.setState({\r\n                currentEntry: null,\r\n                currentEntryID: null,\r\n                timelineEntries: [],\r\n                timelineDots: [],\r\n                displayEntries: []\r\n            });\r\n        }\r\n\r\n        this.setEntries(dotsList[dotsList.length - 1]);\r\n    }\r\n\r\n    addTimelineEntry = () => {\r\n        this.setState({ displayContent: \"add\" });\r\n    }\r\n\r\n    editEntryByID = (entryID) => {\r\n        console.log(\"edit: \" + entryID)\r\n        console.log(entryID)\r\n\r\n        this.state.timelineEntries.forEach((timelineEntry) => {\r\n            if (timelineEntry.id === entryID) {\r\n                this.setState({\r\n                    currentEntry: timelineEntry,\r\n                    currentEntryID: timelineEntry.id,\r\n                    displayContent: \"edit\"\r\n                });\r\n                return;\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    openFullImageModal = (images) => {\r\n\r\n        this.setState({\r\n            displayContent: \"full-image\",\r\n            fullImageModalImages: images\r\n        });\r\n    }\r\n\r\n    openFullImage = (imageUrl) => {\r\n\r\n        console.log(\"imageURL\")\r\n        console.log(imageUrl)\r\n\r\n        this.setState({\r\n            currentFullImage: imageUrl\r\n        });\r\n    }\r\n\r\n\r\n    closeModal = (key) => {\r\n\r\n        if (!key || key === '') {\r\n            this.setState({ displayContent: \"main\" });\r\n            return;\r\n        }\r\n\r\n        this.setState({ displayContent: \"main\" });\r\n        this.state.timelineEntries.forEach((timelineEntry) => {\r\n            if (timelineEntry.id === key) {\r\n                this.setState({\r\n                    currentEntry: timelineEntry,\r\n                    currentEntryID: timelineEntry.id\r\n                });\r\n                return;\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    setJournalID = (id) => {\r\n        if (id === null) {\r\n            this.setState({\r\n                displayContent: \"main\",\r\n            });\r\n            this.props.setJournalID(null)\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            displayContent: \"main\",\r\n            journalID: id\r\n        });\r\n        this.props.setJournalID(id)\r\n        this.watchEntries(id)\r\n    }\r\n\r\n    setEntries = (entries) => {\r\n        if (!entries) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            currentEntry: entries[0],\r\n            currentEntryID: entries[0].id,\r\n            displayEntries: entries\r\n        });\r\n\r\n    }\r\n\r\n    handleJournalChange = (ev) => {\r\n        console.log(\"JOURNAL CHANGE!!!!\")\r\n        console.log(ev.target.value)\r\n        this.setState({\r\n            currentEntry: null,\r\n            currentEntryID: null,\r\n            displayEntries: []\r\n        });\r\n        this.props.setJournalID(ev.target.value)\r\n        this.watchEntries(ev.target.value)\r\n    }\r\n\r\n    openCreateJournalModal = () => {\r\n        this.setState({ displayContent: \"create-journal\" });\r\n    }\r\n\r\n    openJournal = (journal) => {\r\n        this.setState({\r\n            journalID: journal.id\r\n        });\r\n        this.props.setJournalID(journal.id);\r\n        this.watchEntries(journal.id);\r\n    }\r\n\r\n    render() {\r\n\r\n        var renderedJournalOptions = '';\r\n        if (this.props.userJournals.length > 0) {\r\n            renderedJournalOptions = this.props.userJournals.map((journal) => <option key={journal.id} value={journal.id}>{journal.name}</option>)\r\n        }\r\n\r\n        var renderedUserJournals = null;\r\n        if (this.props.userJournals) {\r\n            renderedUserJournals = this.props.userJournals.map((journal) =>\r\n                <div key={journal.id} className=\"Journal-Box-Item-Container\">\r\n                    <JournalBoxItem journal={journal} openJournal={this.openJournal} />\r\n                </div>\r\n            )\r\n        }\r\n\r\n        var renderedJournalEntries = null;\r\n        if (this.state.displayEntries) {\r\n            renderedJournalEntries = this.state.displayEntries.map((entry) =>\r\n                <JournalEntry key={entry.id} editEntryByID={this.editEntryByID} currentEntry={entry} currentFullImage={this.openFullImage} displayFullImage={this.openFullImageModal} />\r\n            )\r\n        }\r\n\r\n        var renderedTimelineDots = null;\r\n        if (this.state.timelineDots) {\r\n            renderedTimelineDots = this.state.timelineDots.map((dot) =>\r\n                <JournalTimelineButton key={dot[0].datetime_short} currentEntryID={this.state.currentEntryID} setEntries={this.setEntries} entry={dot[0]} entries={dot} />\r\n            )\r\n        }\r\n\r\n        return (\r\n\r\n\r\n            <div id=\"Journal-Page\">\r\n                <div id=\"Journal-Main\">\r\n                    <div id=\"Grow-Journal-Main-Area\">\r\n\r\n                        {(() => {\r\n                            if (renderedUserJournals && !this.props.journalID) {\r\n                                return (\r\n                                    <div id=\"Journal-Box-Area-Scroll\">\r\n\r\n\r\n                                        <div id=\"Grow-Journal-Header-Area\">\r\n                                            <div id=\"Grow-Journal-Header-Text\">Grow Journals</div>\r\n                                            <button className=\"New-Journal-Btn\" onClick={this.openCreateJournalModal}>\r\n                                                +\r\n                                            </button>\r\n                                        </div>\r\n\r\n\r\n                                        <div id=\"Journal-Box-Area\">\r\n                                            {renderedUserJournals}\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            } else if (!this.props.journalID) {\r\n                                return (\r\n                                    <div id=\"Grow-Journal-Header-Area\">\r\n                                        <div id=\"Grow-Journal-Header-Text\">Grow Journals</div>\r\n                                        <button className=\"New-Journal-Btn\" onClick={this.openCreateJournalModal}>\r\n                                            +\r\n                                        </button>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n\r\n                        {(() => {\r\n                            if (renderedJournalOptions && this.props.journalID) {\r\n                                return (\r\n                                    <div className=\"Grow-Journal-Title-Div\">\r\n                                        <select id=\"Grow-Journal-Title-Select\" onChange={this.handleJournalChange} value={this.props.journalID}>\r\n                                            {renderedJournalOptions}\r\n                                        </select>\r\n                                        <button className=\"New-Journal-Btn\" onClick={this.openCreateJournalModal}>\r\n                                            +\r\n                                        </button>\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                        {(() => {\r\n                            if (this.props.journalID) {\r\n                                return (\r\n                                    <div id=\"Journal-Posts-Container\">\r\n                                        {(() => {\r\n                                            if (renderedJournalEntries) {\r\n                                                return (\r\n                                                    <div>\r\n                                                        {renderedJournalEntries}\r\n                                                    </div>\r\n                                                )\r\n                                            } else {\r\n                                                return (\r\n                                                    <div className=\"Journal-Post-View\" >\r\n                                                        Let's get some journal entries...\r\n                                                    </div>\r\n                                                )\r\n                                            }\r\n                                        })()}\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                    {(() => {\r\n                        if (this.props.journalID) {\r\n                            return (\r\n                                <div id=\"Timeline-Container\">\r\n\r\n                                    <div id=\"Timeline-Inner-Container\">\r\n                                        <div id=\"Timeline-Line\" />\r\n                                        \r\n                                        <div id=\"Timeline-Spots\">\r\n\r\n                                            {renderedTimelineDots}\r\n\r\n                                            <button id=\"Timeline-Add-Dot\" onClick={this.addTimelineEntry}>+</button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            )\r\n\r\n                        }\r\n                    })()}\r\n\r\n                </div>\r\n\r\n\r\n                {/* MODAL */}\r\n\r\n                {(() => {\r\n\r\n                    switch (this.state.displayContent) {\r\n                        case 'add':\r\n                            return <JournalAddEditModal journalID={this.props.journalID} closeModal={this.closeModal} editPost=\"new\" />;\r\n                        case 'edit':\r\n                            return <JournalAddEditModal journalID={this.props.journalID} closeModal={this.closeModal} editPost={this.state.currentEntry} />;\r\n                        case 'full-image':\r\n                            return <FullImageModal closeModal={this.closeModal} imageList={this.state.fullImageModalImages} currentFullImage={this.state.currentFullImage} />;\r\n                        case 'create-journal':\r\n                            return <JournalCreateModal journalID={this.props.journalID} setJournalID={this.setJournalID} />;\r\n                        case 'main':\r\n                            return <div />;\r\n                        default:\r\n                            return <div />;\r\n                    }\r\n\r\n                })()}\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowJournal;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\n\r\nclass GrowDataDisplay extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            journalName: '',\r\n            journalID: this.props.journalID\r\n        };\r\n\r\n\r\n    }\r\n   \r\n    render() {\r\n\r\n        var cTemp = null;\r\n\t\tvar fanSpeed = null;\r\n\t\tvar humiPower = null;\r\n\t\tvar humidity = null;\r\n\t\t// var lastUpdate = null;\r\n\t\tif (this.props.liveData) {\r\n\t\t\tcTemp = this.props.liveData.cTemp\r\n\t\t\tcTemp = Math.round(cTemp * 10) / 10;\r\n\t\t\tfanSpeed = this.props.liveData.fanSpeed\r\n\t\t\thumiPower = this.props.liveData.humiPower\r\n\t\t\thumidity = this.props.liveData.humidity\r\n            humidity = Math.round(humidity * 10) / 10;\r\n        }\r\n\r\n        return (\r\n            <div id=\"Grow-Data-Display\">\r\n            {(() => {\r\n                if (cTemp) {\r\n                    var backgroundIndicator = null\r\n                    if (cTemp > 20 && cTemp < 27) {\r\n                        backgroundIndicator = \"Data-Optimal-Background\"\r\n                    } else if (cTemp <= 19 && cTemp > 28) {\r\n                        backgroundIndicator = \"Data-Danger-Background\"\r\n                    } else {\r\n                        backgroundIndicator = \"Data-Warning-Background\"\r\n                    }\r\n\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">TEMP</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className={backgroundIndicator}>\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Data-Raw\">{cTemp}</div >\r\n                                    <div className=\"Horizontal-20px-Gap\"></div>\r\n                                    <div className=\"Grow-Box-Data-Unit\">C</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            {(() => {\r\n                if (fanSpeed) {\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">FAN SPEED</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className=\"Data-Neutral-Background\">\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Data-Raw\">{fanSpeed}</div >\r\n                                    <div className=\"Horizontal-20px-Gap\"></div>\r\n                                    <div className=\"Grow-Box-Data-Unit\">%</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            {(() => {\r\n                if (humidity) {\r\n                    var backgroundIndicator = null\r\n                    if (humidity > 30 && humidity < 43) {\r\n                        backgroundIndicator = \"Data-Optimal-Background\"\r\n                    } else if (humidity <= 27 && humidity > 45) {\r\n                        backgroundIndicator = \"Data-Danger-Background\"\r\n                    } else {\r\n                        backgroundIndicator = \"Data-Warning-Background\"\r\n                    }\r\n\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">HUMIDITY</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className={backgroundIndicator}>\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Data-Raw\">{humidity}</div >\r\n                                    <div className=\"Horizontal-20px-Gap\"></div>\r\n                                    <div className=\"Grow-Box-Data-Unit\">%RH</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            {(() => {\r\n                if (humiPower) {\r\n                    return (\r\n                        <div className=\"Grow-Box-Info-Section\">\r\n                            <div className=\"Grow-Box-Info-Type\">HUMIDIFIER</div>\r\n                            <div className=\"Grow-Box-Dot-Lead\"><div className=\"Grow-Box-Dot-Lead-Dots\" /></div>\r\n                            <div className=\"Data-Neutral-Background\">\r\n                                <div className=\"Grow-Box-Info-Data\">\r\n                                    <div className=\"Grow-Box-Info-Data\">\r\n                                        <div className=\"Grow-Box-Data-Raw\">{humiPower}</div >\r\n                                        <div className=\"Horizontal-20px-Gap\"></div>\r\n                                        <div className=\"Grow-Box-Data-Unit\">%</div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n            })()}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowDataDisplay;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip } from 'recharts';\r\n\r\nimport moment from 'moment'\r\n\r\n\r\nclass GraphSensorsBox extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n        if (this.props.grow && this._ismounted) {\r\n            if (this.props.grow.id !== this.growID) {\r\n                this.growID = this.props.grow.id;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n\r\n        this.getGraphData = null;\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n\r\n        if (this.props.grow.id && this._ismounted) {\r\n            if (this.props.grow.id !== this.growID) {\r\n                this.growID = this.props.grow.id;\r\n            }\r\n        }\r\n\r\n        if (this.props.rawGrowData && this.props.grow.id) {\r\n\r\n            var gwID = this.props.grow.id\r\n            var rawData = this.props.rawGrowData\r\n\r\n            if (rawData[gwID]) {\r\n                var setData = rawData[gwID][rawData[gwID].length - 1]\r\n\r\n                if (this.data !== setData) {\r\n\r\n                    this.data = setData\r\n\r\n\r\n                    var processedData = []\r\n                    setData.forEach((dataPoint) => {\r\n                        var processedPoint = dataPoint\r\n\r\n                        if (new Date().getTime() - processedPoint.time < 7200000) {\r\n                            processedData[processedData.length] = processedPoint\r\n                        }\r\n                    })\r\n\r\n                    this.setState({\r\n                        processedData: processedData\r\n                    });\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    renderTooltip = (props) => {\r\n        var rawContent = props.payload\r\n        if (rawContent.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var readableTime = moment(props.payload[0].payload.time).fromNow()\r\n\r\n        const tooltipItems = rawContent.map((l) =>\r\n            (() => {\r\n                var tIndex = rawContent.indexOf(l)\r\n\r\n                if (this.props.grow.config.SENSORS[tIndex].type === \"airTemp\" || this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\") {\r\n                    return <div className=\"Grow-Details-Graph-Tooltip-Data\" key={this.props.grow.config.SENSORS[tIndex].PID} style={{ color: l.stroke }}>{l.name}: {rawContent[0].payload[l.dataKey]}C </div>\r\n                } else {\r\n                    return <div className=\"Grow-Details-Graph-Tooltip-Data\" key={this.props.grow.config.SENSORS[tIndex].PID} style={{ color: l.stroke }}>{l.name}: {rawContent[0].payload[l.dataKey]}% </div>\r\n                }\r\n\r\n            })()\r\n        );\r\n\r\n\r\n        return (\r\n            <div className=\"Grow-Details-Graph-Tooltip\">\r\n                <div>{readableTime}</div>\r\n\r\n                {tooltipItems}\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    render() {\r\n\r\n        var renderDayGraph = null\r\n        if (this.state.processedData && this.state.processedData[0]) {\r\n            if (this.props.parentSize) {\r\n                var xSize = Math.floor(this.props.parentSize[0] * 1)\r\n                var ySize = Math.floor(this.props.parentSize[1] * 0.9)\r\n\r\n                renderDayGraph = (\r\n                    <LineChart width={xSize} height={ySize} data={this.state.processedData}>\r\n                        <Line yAxisId=\"left\" type=\"monotone\" name=\"temp\" dataKey=\"sA1_Temp\" stroke=\"#ca2014\" dot={false} />\r\n                        <Line yAxisId=\"right\" type=\"monotone\" name=\"humi\" dataKey=\"sA1_Humi\" stroke=\"#db5e24\" dot={false} />\r\n                        <XAxis\r\n                            dataKey=\"time\"\r\n                            type=\"number\"\r\n                            domain={[new Date(this.state.processedData[0].time).getTime(), new Date(this.state.processedData[this.state.processedData.length - 1].time).getTime()]}\r\n                            tickFormatter={(unixTime) => moment(unixTime).format('HH:mm - MMM Do')}\r\n                            hide={true} />\r\n                        <YAxis yAxisId=\"left\" orientation=\"left\" domain={[21, 30]} />\r\n                        <YAxis yAxisId=\"right\" orientation=\"right\" />\r\n                        <Tooltip content={this.renderTooltip} />\r\n                    </LineChart>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"Chart-Container\">\r\n                {renderDayGraph}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GraphSensorsBox;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport GrowDataDisplay from './GrowDataDisplay'\r\n\r\nimport GraphSensorsBox from '../Graphs/GraphSensorsBox'\r\n\r\nimport moment from 'moment'\r\n\r\n\r\nclass GrowBoxItem extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tgrow: this.props.grow,\r\n\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle',\r\n\t\t\tgraphElementSize: [150, 150],\r\n\t\t};\r\n\r\n\t\tthis.graphSizeUpdated = 0;\r\n\t}\r\n\r\n\tcomponentDidMount = () => {\r\n\t\tthis._ismounted = true;\r\n\r\n\t}\r\n\r\n\tcomponentWillUnmount = () => {\r\n\t\tthis._ismounted = false;\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tvar dateNow = new Date()\r\n\r\n\t\tif (((this.state.graphElementSize !== [this.divRef.clientWidth, this.divRef.clientHeight]) && ((dateNow.getTime() - this.graphSizeUpdated) > 500))) {\r\n\r\n\t\t\t// tODO: remove, hacky\r\n\t\t\tif ((this.divRef.clientWidth - this.state.graphElementSize[0]) < 30) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tempSize = [this.divRef.clientWidth, this.divRef.clientHeight]\r\n\r\n\t\t\tif (tempSize !== this.state.graphElementSize) {\r\n\t\t\t\tif (this._ismounted) {\r\n\t\t\t\t\tthis.setState({ graphElementSize: tempSize });\r\n\t\t\t\t}\r\n\t\t\t\tthis.graphSizeUpdated = dateNow.getTime();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\topenGrow = () => {\r\n\t\tthis.props.openGrow(this.props.grow)\r\n\t}\r\n\r\n\topenMainPage = (ev) => {\r\n\t\tthis.props.openMainPage(ev.target.dataset.value, this.props.grow.id)\r\n\t}\r\n\r\n\tcheckActive = (lastUpdateTime) => {\r\n\r\n\t\tif (lastUpdateTime) {\r\n\t\t\tvar now = new Date().getTime();\r\n\r\n\t\t\tvar difference = now - lastUpdateTime\r\n\r\n\t\t\tif (this._ismounted) {\r\n\r\n\t\t\t\tif (difference >= 120000 && difference < 24000) {\r\n\t\t\t\t\tif (this.activeIndicatorStyle !== 'Grow-Active-Indicator-Circle Data-Warning-Background') {\r\n\t\t\t\t\t\tthis.activeIndicatorStyle = 'Grow-Active-Indicator-Circle Data-Warning-Background'\r\n\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Warning-Background'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (difference >= 240000) {\r\n\t\t\t\t\tif (this.activeIndicatorStyle !== 'Grow-Active-Indicator-Circle Data-Danger-Background') {\r\n\t\t\t\t\t\tthis.activeIndicatorStyle = 'Grow-Active-Indicator-Circle Data-Danger-Background'\r\n\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Danger-Background'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (difference < 120000) {\r\n\t\t\t\t\tif (this.activeIndicatorStyle !== 'Grow-Active-Indicator-Circle Data-Optimal-Background') {\r\n\t\t\t\t\t\tthis.activeIndicatorStyle = 'Grow-Active-Indicator-Circle Data-Optimal-Background'\r\n\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tactiveIndicatorStyle: 'Grow-Active-Indicator-Circle Data-Optimal-Background'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tconsole.log(\"NO LAST UPDATE ERROR\")\r\n\t\t}\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tvar lastUpdate = null;\r\n\t\tif (this.props.liveGrowData[this.props.grow.id]) {\r\n\r\n\t\t\tvar updatedAtDate = new Date(this.props.liveGrowData[this.props.grow.id].time * 1000)\r\n\r\n\t\t\tif (updatedAtDate !== this.updatedAtDate) {\r\n\t\t\t\tthis.updatedAtDate = updatedAtDate\r\n\t\t\t\tthis.checkActive(updatedAtDate.getTime())\r\n\t\t\t}\r\n\r\n\t\t\tlastUpdate = moment(updatedAtDate).fromNow()\r\n\t\t}\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"Grow-Box-Item\">\r\n\r\n\t\t\t\t<div className=\"Grow-Box-Item-Main\">\r\n\t\t\t\t\t<div className=\"Grow-Box-Item-Header\">\r\n\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Grow-Name\" onClick={this.openGrow}>\r\n\t\t\t\t\t\t\t{this.props.grow.name}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Updated\">\r\n\t\t\t\t\t\t\tupdate<i><b>: {lastUpdate}</b></i>\r\n\t\t\t\t\t\t\t<div className={this.state.activeIndicatorStyle} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Grow-Box-Function-Btns\">\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn\" data-value={'graphs'} onClick={this.openMainPage} >DATA <span role=\"img\" aria-label=\"grow data icon\">&#128200;</span></button>\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn\" data-value={'config'} onClick={this.openMainPage} >CONFIG <span role=\"img\" aria-label=\"grow config icon\">&#128187;</span></button>\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn-Feed\" data-value={'feed'} onClick={this.openMainPage} >FEED &#9619;&#9619;</button>\r\n\t\t\t\t\t\t<button className=\"Grow-Box-Function-Btn-Edit-Feed\" data-value={'edit-feed'} onClick={this.openMainPage} >&#9998;</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"Grow-Box-Info\">\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Info-Text-Area\">\r\n\r\n\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\tif (this.props.liveGrowData) {\r\n\t\t\t\t\t\t\t\t\treturn <GrowDataDisplay liveData={this.props.liveGrowData[this.props.grow.id]} />\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"Grow-Box-Info-Graph-Area\" ref={element => this.divRef = element}>\r\n\t\t\t\t\t\t\t<GraphSensorsBox parentSize={this.state.graphElementSize} grow={this.props.grow} rawGrowData={this.props.rawGrowData} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default GrowBoxItem;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, CartesianGrid } from 'recharts';\r\n\r\nimport moment from 'moment'\r\n\r\n\r\n\r\n\r\nclass GraphSensors extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            displayWindow: 72, // 1/2, 3, 12, 24, 72\r\n\r\n            lightsOnArray: [],\r\n            lightsOffArray: [],\r\n            tickArray: [],\r\n            lightBackgrounds: ['#7344e740', '#fff93640']\r\n        };\r\n\r\n        this.displayTemp = true\r\n        this.displayFan = true\r\n        this.displayHumidity = true\r\n        this.displayHumidifier = true\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n\r\n        if (this.props.grow && this.growConfig !== this.props.grow.config) {\r\n            this.growConfig = this.props.grow.config\r\n            this.generateTickSourceArrays()\r\n        }\r\n\r\n        if (this.props.rawGrowData && this.props.grow) {\r\n\r\n            var gwID = this.props.grow.id\r\n            var rawData = this.props.rawGrowData\r\n\r\n            if (rawData[gwID] && ((!this.rawRef) || rawData[gwID][rawData[gwID].length - 1] !== this.rawRef)) {\r\n                this.rawRef = rawData[gwID][rawData[gwID].length - 1]\r\n\r\n                var concatData = []\r\n\r\n                rawData[gwID].forEach((list) => {\r\n                    concatData = concatData.concat(list)\r\n                })\r\n\r\n                if (this.dataLength !== concatData.length) {\r\n                    this.dataLength = concatData.length\r\n                    concatData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n                    // process data\r\n                    this.concatData = concatData\r\n                    this.processData()\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    generateTickSourceArrays = () => {\r\n        var m = moment(new Date())\r\n        m.subtract(3, 'days')\r\n\r\n        var lightsOnArray = []\r\n        var lightsOffArray = []\r\n\r\n        lightsOnArray[lightsOnArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.on)).format('x')\r\n        lightsOffArray[lightsOffArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.off)).format('x')\r\n\r\n        m.add(1, 'days')\r\n\r\n        lightsOnArray[lightsOnArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.on)).format('x')\r\n        lightsOffArray[lightsOffArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.off)).format('x')\r\n\r\n        m.add(1, 'days')\r\n\r\n        lightsOnArray[lightsOnArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.on)).format('x')\r\n        lightsOffArray[lightsOffArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.off)).format('x')\r\n\r\n        m.add(1, 'days')\r\n\r\n        lightsOnArray[lightsOnArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.on)).format('x')\r\n        lightsOffArray[lightsOffArray.length] = moment(new Date(m.format('L') + ' ' + this.props.grow.config.LIGHTS.off)).format('x')\r\n\r\n        this.setState({\r\n            lightsOnArray: lightsOnArray,\r\n            lightsOffArray: lightsOffArray\r\n        })\r\n\r\n        this.lightsOnArray = lightsOnArray\r\n        this.lightsOffArray = lightsOffArray\r\n\r\n        this.createTickArray()\r\n\r\n    }\r\n\r\n    createTickArray = (processedData = this.state.processedData) => {\r\n        if (!processedData || !processedData[0]) {\r\n            return\r\n        }\r\n\r\n        var tickRange = [new Date(processedData[0].time).getTime(), new Date(processedData[processedData.length - 1].time).getTime()]\r\n\r\n        var ticks = []\r\n\r\n        var tempOnArray = this.lightsOnArray\r\n        var tempOffArray = this.lightsOffArray\r\n\r\n        if (!tempOffArray && !tempOnArray) {\r\n            return\r\n        }\r\n\r\n        var sourceArray = tempOnArray.concat(tempOffArray)\r\n\r\n        sourceArray.sort((a, b) => (a > b) ? 1 : -1)\r\n\r\n        sourceArray.forEach((tick) => {\r\n            if (tick > tickRange[0] && tick < tickRange[1]) {\r\n                ticks[ticks.length] = tick\r\n            }\r\n        })\r\n\r\n        //set backgrounds\r\n        if (tempOnArray.includes(ticks[0])) {\r\n            this.setState({ lightBackgrounds: ['#7344e740', '#fff93640'] })\r\n        } else {\r\n            this.setState({ lightBackgrounds: ['#fff93640', '#7344e740'] })\r\n\r\n        }\r\n\r\n        this.setState({ tickArray: ticks })\r\n\r\n    }\r\n\r\n    processData = (window = this.state.displayWindow) => {\r\n        var data = null\r\n        if (!this.concatData) {\r\n            return;\r\n        } else {\r\n            data = this.concatData\r\n        }\r\n\r\n        var processedData = []\r\n        var i = -1\r\n        var now = new Date().getTime()\r\n\r\n        switch (window) {\r\n            case 72:\r\n                data.forEach((dataPoint) => {\r\n                    i++;\r\n                    if (i === 0 || i % 10 === 0) {\r\n                        var processedPoint = dataPoint\r\n                        processedData[processedData.length] = processedPoint\r\n                    }\r\n                })\r\n\r\n                if (processedData.length >= data.length / 11) { //TODO: not sure why i've included this check, removed for other hours...\r\n                    this.setState({\r\n                        processedData: processedData\r\n                    });\r\n                }\r\n                break;\r\n            case 24:\r\n                data.forEach((dataPoint) => {\r\n                    if (now - dataPoint.time < 86400000) {\r\n                        i++;\r\n                        if (i === 0 || i % 4 === 0) {\r\n                            var processedPoint = dataPoint\r\n                            processedData[processedData.length] = processedPoint\r\n                        }\r\n                    }\r\n                })\r\n\r\n                this.setState({\r\n                    processedData: processedData\r\n                });\r\n                break;\r\n            case 12:\r\n                data.forEach((dataPoint) => {\r\n                    if (now - dataPoint.time < 43200000) {\r\n                        var processedPoint = dataPoint\r\n                        processedData[processedData.length] = processedPoint\r\n                    }\r\n                })\r\n\r\n                this.setState({\r\n                    processedData: processedData\r\n                });\r\n                break;\r\n            case 3:\r\n                data.forEach((dataPoint) => {\r\n                    if (now - dataPoint.time < 10800000) {\r\n                        var processedPoint = dataPoint\r\n                        processedData[processedData.length] = processedPoint\r\n                    }\r\n                })\r\n\r\n                this.setState({\r\n                    processedData: processedData\r\n                });\r\n                break;\r\n            case 1: // stupid naming for half hour... but if i'm using integers..\r\n                data.forEach((dataPoint) => {\r\n                    if (now - dataPoint.time < 1800000) {\r\n                        var processedPoint = dataPoint\r\n                        processedData[processedData.length] = processedPoint\r\n                    }\r\n                })\r\n\r\n                this.setState({\r\n                    processedData: processedData\r\n                });\r\n                break;\r\n            default: //72\r\n                data.forEach((dataPoint) => {\r\n                    i++;\r\n                    if (i === 0 || i % 10 === 0) {\r\n                        var processedPoint = dataPoint\r\n                        processedData[processedData.length] = processedPoint\r\n                    }\r\n                })\r\n\r\n                if (processedData.length >= data.length / 11) {\r\n                    this.setState({\r\n                        processedData: processedData\r\n                    });\r\n                }\r\n                break;\r\n        }\r\n\r\n        this.createTickArray(processedData)\r\n\r\n    }\r\n\r\n    renderTooltip = (props) => {\r\n        var rawContent = props.payload\r\n        if (rawContent === null || rawContent.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var readableTime = moment(props.payload[0].payload.time).format('ddd - HH:mm')\r\n\r\n        const listItems = rawContent.map((l) =>\r\n            (() => {\r\n                var tIndex = this.props.activeLines.indexOf(l.dataKey)\r\n                var curSensor = this.props.grow.config.SENSORS[tIndex]\r\n\r\n                if (curSensor.type === \"airTemp\" || curSensor.type === \"waterTemp\") {\r\n                    return <div className=\"Grow-Details-Graph-Tooltip-Data\" key={curSensor.PID} style={{ color: l.stroke }}>{l.name}: {rawContent[0].payload[l.dataKey]}C </div>\r\n                } else {\r\n                    return <div className=\"Grow-Details-Graph-Tooltip-Data\" key={curSensor.PID} style={{ color: l.stroke }}>{l.name}: {rawContent[0].payload[l.dataKey]}% </div>\r\n                }\r\n            })()\r\n        );\r\n\r\n\r\n        return (\r\n            <div className=\"Grow-Details-Graph-Tooltip\">\r\n                <div>{readableTime}</div>\r\n\r\n                {listItems}\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    toggle1 = () => {\r\n        this.setState({ displayWindow: 1 })\r\n        this.processData(1)\r\n    }\r\n\r\n    toggle3 = () => {\r\n        this.setState({ displayWindow: 3 })\r\n        this.processData(3)\r\n    }\r\n\r\n    toggle12 = () => {\r\n        this.setState({ displayWindow: 12 })\r\n        this.processData(12)\r\n    }\r\n\r\n    toggle24 = () => {\r\n        this.setState({ displayWindow: 24 })\r\n        this.processData(24)\r\n    }\r\n\r\n    toggle72 = () => {\r\n        this.setState({ displayWindow: 72 })\r\n        this.processData(72)\r\n    }\r\n\r\n    render() {\r\n\r\n        const lineItems = this.props.grow.config.SENSORS.map((l) =>\r\n            (() => {\r\n                if (this.props.activeLines && this.props.activeLines.includes(l.PID)) {\r\n                    if (l.type === \"airTemp\" || l.type === \"waterTemp\") {\r\n                        return <Line yAxisId=\"left\" type=\"monotone\" name={l.name} dataKey={l.PID} key={l.PID} stroke={l.color} strokeWidth={l.thickness} dot={false} />\r\n                    } else {\r\n                        return <Line yAxisId=\"right\" type=\"monotone\" name={l.name} dataKey={l.PID} key={l.PID} stroke={l.color} strokeWidth={l.thickness} dot={false} />\r\n                    }\r\n                }\r\n            })()\r\n        );\r\n\r\n        var renderDayGraph = null\r\n        if (this.state.processedData && this.state.processedData[0]) {\r\n            if (this.props.parentSize) {\r\n                var xSize = Math.floor(this.props.parentSize[0] * 0.95)\r\n                var ySize = Math.floor(this.props.parentSize[1] * 0.9)\r\n\r\n                renderDayGraph = (\r\n                    <LineChart width={xSize} height={ySize} data={this.state.processedData}>\r\n\r\n                        {lineItems}\r\n\r\n                        <CartesianGrid vertical horizontal={false} verticalFill={[this.state.lightBackgrounds[0], this.state.lightBackgrounds[1]]} stroke=\"none\" fillOpacity={0.2} />\r\n\r\n                        <XAxis\r\n                            dataKey=\"time\"\r\n                            type=\"number\"\r\n                            domain={[new Date(this.state.processedData[0].time).getTime(), new Date(this.state.processedData[this.state.processedData.length - 1].time).getTime()]}\r\n                            ticks={this.state.tickArray}\r\n                            tickFormatter={(tick) => moment(tick * 1).format('ddd - HH:mm')}\r\n                        />\r\n                        <YAxis yAxisId=\"left\" orientation=\"left\" domain={[21, 24]} />\r\n                        <YAxis yAxisId=\"right\" orientation=\"right\" />\r\n                        <Tooltip content={this.renderTooltip} />\r\n                    </LineChart>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        return (\r\n\r\n            <div className=\"Chart-Container\">\r\n\r\n                {renderDayGraph}\r\n\r\n                <div style={{ width: '18px', display: 'flex', flexDirection: 'column', position: 'absolute', marginLeft: '10x' }}>\r\n\r\n                    <div>\r\n                        {(() => {\r\n                            if (this.state.displayWindow === 1) {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0' }} onClick={this.toggle1}>&#189;h</button>\r\n                            } else {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0', color: '#FFF', backgroundColor: '#0b2e11' }} onClick={this.toggle1}>&#189;h</button>\r\n                            }\r\n                        })()}\r\n                        {(() => {\r\n                            if (this.state.displayWindow === 3) {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0' }} onClick={this.toggle3}>3h</button>\r\n                            } else {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0', color: '#FFF', backgroundColor: '#0b2e11' }} onClick={this.toggle3}>3h</button>\r\n                            }\r\n                        })()}\r\n                        {(() => {\r\n                            if (this.state.displayWindow === 12) {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0' }} onClick={this.toggle12}>12h</button>\r\n                            } else {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0', color: '#FFF', backgroundColor: '#0b2e11' }} onClick={this.toggle12}>12h</button>\r\n                            }\r\n                        })()}\r\n                        {(() => {\r\n                            if (this.state.displayWindow === 24) {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0' }} onClick={this.toggle24}>24h</button>\r\n                            } else {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0', color: '#FFF', backgroundColor: '#0b2e11' }} onClick={this.toggle24}>24h</button>\r\n                            }\r\n                        })()}\r\n                        {(() => {\r\n                            if (this.state.displayWindow === 72) {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0' }} onClick={this.toggle72}>72h</button>\r\n                            } else {\r\n                                return <button style={{ width: '18px', height: '18px', fontSize: '0.45em', padding: '0', color: '#FFF', backgroundColor: '#0b2e11' }} onClick={this.toggle72}>72h</button>\r\n                            }\r\n                        })()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GraphSensors;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport GraphSensors from '../Graphs/GraphSensors.js'\r\n\r\n\r\nclass GrowDetailsGraphs extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elementSize: [],\r\n        };\r\n\r\n        this.graphSizeUpdated = 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this._ismounted === false) {\r\n            return;\r\n        }\r\n\r\n        var dateNow = new Date()\r\n        if (((this.state.elementSize !== [this.divRef.clientWidth, this.divRef.clientHeight]) && ((dateNow.getTime() - this.graphSizeUpdated) > 500))) {\r\n            var tempSize = [this.divRef.clientWidth, this.divRef.clientHeight]\r\n\r\n            if (tempSize !== this.state.elementSize) {\r\n                this.setState({ elementSize: tempSize });\r\n                this.graphSizeUpdated = dateNow.getTime();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Grow-Details-Graphs-Page\" ref={element => this.divRef = element}>\r\n                <GraphSensors activeLines={this.props.activeLines} parentSize={this.state.elementSize} rawGrowData={this.props.rawGrowData} grow={this.props.grow} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowDetailsGraphs;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport TimePicker from 'react-time-picker'\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\nimport { WiThermometer, WiHumidity, WiHurricane, WiCloudUp, WiThermometerExterior } from 'react-icons/wi';\r\n\r\nclass GrowSettings extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            config: null\r\n        };\r\n\r\n        this.dbHelper = new DbHelper()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n        this.watchConfig = this.getConfig(this.setFetchedConfig);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    getConfig = async (setData) => {\r\n        try {\r\n            await this.dbHelper.getGrowConfig(this.props.grow.id, setData)\r\n        } catch (e) {\r\n            console.log(e);\r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n    setFetchedConfig = (configObj) => {\r\n        this.setState({\r\n            config: configObj\r\n        });\r\n    }\r\n\r\n\r\n    // UI METHODS\r\n    postConfig = () => {\r\n        // Post config\r\n        this.dbHelper.setGrowConfig(this.props.grow.id, this.state.config)\r\n        // Refresh page data\r\n        this.props.refreshGrows(this.state.config)\r\n        // Close settings menu\r\n        this.props.close()\r\n    }\r\n\r\n    sensorMeanChange = (e) => {\r\n        console.log(\"Change \" + e.target.id + \": \" + e.target.value)\r\n\r\n        var tempConfig = this.state.config\r\n        tempConfig.SENSORS.forEach((sensor) => {\r\n            if (sensor.PID === e.target.id) {\r\n                sensor._mean = parseFloat(e.target.value)\r\n            }\r\n        })\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    sensorDeviationChange = (e) => {\r\n        console.log(\"Change \" + e.target.id + \": \" + e.target.value)\r\n\r\n        var tempConfig = this.state.config\r\n        tempConfig.SENSORS.forEach((sensor) => {\r\n            if (sensor.PID === e.target.id) {\r\n                sensor._deviation = parseFloat(e.target.value)\r\n            }\r\n        })\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    sensorWeightChange = (e) => {\r\n        console.log(\"Change \" + e.target.id + \": \" + e.target.value)\r\n\r\n        var tempConfig = this.state.config\r\n        tempConfig.SENSORS.forEach((sensor) => {\r\n            if (sensor.PID === e.target.id) {\r\n                sensor.thickness = e.target.value\r\n            }\r\n        })\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    sensorColorChange = (e) => {\r\n        var tempConfig = this.state.config\r\n        tempConfig.SENSORS.forEach((sensor) => {\r\n            if (sensor.PID === e.target.id) {\r\n                sensor.color = e.target.value\r\n            }\r\n        })\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    sensorTypeChange = (e) => {\r\n        console.log(\"Change \" + e.target.id + \": \" + e.target.value)\r\n\r\n        var tempConfig = this.state.config\r\n        tempConfig.SENSORS.forEach((sensor) => {\r\n            if (sensor.PID === e.target.id) {\r\n                sensor.type = e.target.value\r\n            }\r\n        })\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    sensorNameChange = (e) => {\r\n        console.log(\"Change \" + e.target.id + \": \" + e.target.value)\r\n\r\n        var tempConfig = this.state.config\r\n        tempConfig.SENSORS.forEach((sensor) => {\r\n            if (sensor.PID === e.target.id) {\r\n                sensor.name = e.target.value\r\n            }\r\n        })\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    handleLightsOnChange = (value) => {\r\n        var tempConfig = this.state.config\r\n        tempConfig.LIGHTS.on = value\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    handleLightsOffChange = (value) => {\r\n        var tempConfig = this.state.config\r\n        tempConfig.LIGHTS.off = value\r\n\r\n        this.setState({\r\n            config: tempConfig\r\n        });\r\n    }\r\n\r\n    close = () => {\r\n        this.props.close();\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const sensorSettingRows = this.props.grow.config.SENSORS.map((sensor) =>\r\n\r\n            <div key={sensor.PID} className=\"Config-Settings-Field\" style={{ backgroundColor: '#3d7a80' }}>\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n\r\n                    <div style={{ userSelect: 'none', fontsize: '0.6em', color: \"#FFF\", background: '#131B14' }} >\r\n\r\n                        {(() => {\r\n                            if (sensor.type === \"airTemp\") {\r\n                                return (<WiThermometer style={{ fontSize: '1.3em', color: sensor.color }} />)\r\n                            } else if (sensor.type === \"waterTemp\") {\r\n                                return (<WiThermometerExterior style={{ fontSize: '1.3em', color: sensor.color }} />)\r\n                            } else if (sensor.type === \"humidity\") {\r\n                                return (<WiHumidity style={{ fontSize: '1.3em', color: sensor.color }} />)\r\n                            } else if (sensor.type === \"fan\") {\r\n                                return (<WiHurricane style={{ fontSize: '1.3em', color: sensor.color }} />)\r\n                            } else if (sensor.type === \"humidifier\") {\r\n                                return (<WiCloudUp style={{ fontSize: '1.3em', color: sensor.color }} />)\r\n                            } else {\r\n                                return (<div />)\r\n                            }\r\n                        })()}\r\n                        {sensor.PID}\r\n                    </div>\r\n\r\n                    <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-evenly' }}>\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <div style={{ fontSize: '0.7em', userSelect: 'none' }}>\r\n                                Name\r\n                            </div>\r\n                            <div style={{ fontWeight: '400' }}>\r\n                                <input onChange={this.sensorNameChange} id={sensor.PID} name=\"name\" type=\"name\" defaultValue={sensor.name} maxLength=\"16\" style={{ fontSize: '0.8em', maxWidth: \"70px\" }} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <div style={{ fontSize: '0.7em', userSelect: 'none' }}>\r\n                                Type\r\n                            </div>\r\n                            <div>\r\n                                <select onChange={this.sensorTypeChange} id={sensor.PID} defaultValue={sensor.type} style={{ fontSize: '0.8em', maxWidth: \"74px\", height: '20px' }} >\r\n                                    <option value=\"airTemp\">airTemp</option>\r\n                                    <option value=\"waterTemp\">waterTemp</option>\r\n                                    <option value=\"humidity\">humidity</option>\r\n                                    <option value=\"fan\">fan</option>\r\n                                    <option value=\"humidifier\">humidifier</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <div style={{ fontSize: '0.7em', userSelect: 'none' }}>\r\n                                Weight\r\n                            </div>\r\n                            <div>\r\n                                <select onChange={this.sensorWeightChange} id={sensor.PID} defaultValue={sensor.thickness} style={{ fontSize: '0.7em', maxWidth: \"44px\", height: '20px' }} >\r\n                                    <option value=\"3\">3</option>\r\n                                    <option value=\"2\">2</option>\r\n                                    <option value=\"1.5\">1.5</option>\r\n                                    <option value=\"1\">1</option>\r\n                                    <option value=\"0.75\">0.75</option>\r\n                                    <option value=\"0.5\">0.5</option>\r\n                                    <option value=\"0.25\">0.25</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <div style={{ fontSize: '0.7em', userSelect: 'none' }}>\r\n                                Mean\r\n                            </div>\r\n                            <div style={{ fontSize: '1em', fontWeight: '400' }}>\r\n                                <input type='number' onChange={this.sensorMeanChange} id={sensor.PID} name=\"_mean\" defaultValue={sensor._mean} style={{ fontSize: '0.8em', maxWidth: \"36px\" }} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <div style={{ fontSize: '0.7em', userSelect: 'none' }}>\r\n                                SDev\r\n                            </div>\r\n                            <div style={{ fontSize: '1em', fontWeight: '400' }}>\r\n                                <input type='number' onChange={this.sensorDeviationChange} id={sensor.PID} name=\"_deviation\" defaultValue={sensor._deviation} style={{ fontSize: '0.8em', maxWidth: \"36px\" }} />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <div style={{ fontSize: '0.7em', userSelect: 'none' }}>\r\n                                Color\r\n                            </div>\r\n                            <div style={{ fontSize: '1em', fontWeight: '400' }}>\r\n                                <input onChange={this.sensorColorChange} id={sensor.PID} name=\"color\" type=\"color\" defaultValue={sensor.color} maxLength=\"10\" style={{ fontSize: '0.8em', padding: 0, marginTop: '1px', maxWidth: \"18px\", maxHeight: '18px' }} />\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n\r\n\r\n\r\n        return (\r\n\r\n            <div style={{ height: '100%', maxHeight: '100%', width: '100%', maxWidth: '100%', backgroundColor: '#000000BF', position: 'fixed', justifyItems: 'center', justifyContent: 'center', alignContent: 'center', zIndex: 3 }}>\r\n                <div style={{ margin: 'auto', width: '90%', height: '90%', border: '3px solid #262626', padding: '10px', background: '#303630', color: '#d3dbd5' }}>\r\n\r\n                    <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                        <div style={{ fontSize: '1.2em', userSelect: 'none' }}></div>\r\n                        <div style={{ fontSize: '1em', fontWeight: '100', userSelect: 'none' }}>Settings</div>\r\n                        <div onClick={this.close} style={{ fontSize: '1.2em', color: '#FF0000', userSelect: 'none', cursor: 'pointer' }}>X</div>\r\n                    </div>\r\n                    {(() => {\r\n                        if (this.state.config) {\r\n                            return (\r\n                                <div id=\"Grow-Details-Config-Settings-Div\" style={{ margin: '4px', height: \"95%\" }}>\r\n                                    <div id=\"Grow-Details-Config-Scroll\" style={{ overflowY: 'scroll' }}>\r\n\r\n                                        {/* LIGHTS */}\r\n                                        <div className=\"Config-Item-Header-Text\">LIGHTS</div>\r\n\r\n                                        <div className=\"Config-Settings-Field\" style={{ backgroundColor: '#e8e81e' }}>\r\n                                            <div className=\"Settings-Data-Line\">\r\n                                                <div>on <TimePicker\r\n                                                    clearIcon={null}\r\n                                                    id=\"lights_on\"\r\n                                                    value={this.state.config.LIGHTS.on}\r\n                                                    onChange={this.handleLightsOnChange.bind(this)} />\r\n                                                </div>\r\n                                                <div>off <TimePicker\r\n                                                    clearIcon={null}\r\n                                                    id=\"lights_off\"\r\n                                                    value={this.state.config.LIGHTS.off}\r\n                                                    onChange={this.handleLightsOffChange.bind(this)} />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* SENSORS */}\r\n                                        <div className=\"Config-Item-Header-Text\">SENSORS</div>\r\n\r\n                                        {sensorSettingRows}\r\n\r\n\r\n                                        {/* Doubly hid for now */}\r\n                                        <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginTop: '4px' }}>\r\n                                            <div id=\"GROW-DETAILS-SAVE-CONFIG-BTN\" onClick={() => this.postConfig()}>SAVE <br></br> SETTINGS</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n\r\n                </div>\r\n\r\n                {/* use me! */}\r\n                {\r\n                    (() => {\r\n                    })()\r\n                }\r\n            </div >\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowSettings;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport GrowDetailsGraphs from './GrowDetailsGraphs'\r\nimport GrowSettings from './GrowSettings';\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\nimport moment from 'moment'\r\n\r\nimport { WiThermometer, WiHumidity, WiHurricane, WiCloudUp, WiThermometerExterior } from 'react-icons/wi';\r\nimport { BsGearFill } from 'react-icons/bs';\r\n\r\n\r\n\r\nclass GrowDetailsPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activeIndicatorStyle: 'Grow-Active-Indicator-Circle',\r\n\r\n            SENSOR_PIDS: [],\r\n            SENSORS_INIT: false,\r\n\r\n            DAILY_HIGHS: [],\r\n            DAILY_HIGHS_TIMES: [],\r\n            DAILY_LOWS: [],\r\n            DAILY_LOWS_TIMES: [],\r\n            DAILY_AVGS: [],\r\n            YEST_AVGS: [],\r\n\r\n            ACTIVE_LINES: [],\r\n            ACTIVE_INIT: false,\r\n\r\n            TABLE_INIT: false,\r\n\r\n            SHOW_SETTINGS: false\r\n        };\r\n\r\n        this.dbHelper = new DbHelper(); // Need for linked journals\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n\r\n        if (this.props.rawGrowData && this.state.SENSOR_PIDS) {\r\n            if (!this.props.rawGrowData[this.props.grow.id]) {\r\n                return;\r\n            }\r\n\r\n            var dataLengthRef = this.props.rawGrowData[this.props.grow.id][this.props.rawGrowData[this.props.grow.id].length - 1].length\r\n\r\n            if (this.dataLengthRef !== dataLengthRef) {\r\n                this.dataLengthRef = dataLengthRef\r\n                this.processGrowData(this.props.rawGrowData)\r\n            }\r\n            this.forceUpdate()\r\n        }\r\n\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n        if (this.props.rawGrowData) {\r\n            if (!this.props.rawGrowData[this.props.grow.id]) {\r\n                return;\r\n            }\r\n\r\n            var dataLengthRef = this.props.rawGrowData[this.props.grow.id][this.props.rawGrowData[this.props.grow.id].length - 1].length\r\n\r\n            if (this.dataLengthRef !== dataLengthRef) {\r\n                this.dataLengthRef = dataLengthRef\r\n                this.processGrowData(this.props.rawGrowData)\r\n            } else if (!this.state.TABLE_INIT) {\r\n                // Gotta get this process in the first time for things to go smooth... not quite sure why.\r\n                this.dataLengthRef = dataLengthRef\r\n                this.processGrowData(this.props.rawGrowData)\r\n                this.setState({ TABLE_INIT: true })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    processGrowData = (growData) => {\r\n\r\n        var concatData = []\r\n        growData[this.props.grow.id].forEach((list) => {\r\n            concatData = concatData.concat(list)\r\n        })\r\n        concatData.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n\r\n        this.setState({\r\n            liveData: concatData[concatData.length - 1],\r\n            lastLiveData: concatData[concatData.length - 2],\r\n        })\r\n\r\n        var now = new Date().getTime()\r\n\r\n        var DAILY_HIGHS = []\r\n        var DAILY_HIGHS_TIMES = []\r\n        var DAILY_LOWS = []\r\n        var DAILY_LOWS_TIMES = []\r\n        var DAILY_AVGS = []\r\n        var YEST_AVGS = []\r\n\r\n        var DAILY_POINT_COUNT = 0\r\n        var YEST_POINT_COUNT = 0\r\n\r\n        var lastDayData = []\r\n        var yesterdayData = []\r\n\r\n        // INITIALIZING SENSOR INFO\r\n        var SENSOR_PIDS = []\r\n        if (this.state.SENSORS_INIT === false && this.props.grow.config.SENSORS !== this.state.SENSOR_PIDS) {\r\n            this.props.grow.config.SENSORS.forEach((sensor, key) => {\r\n\r\n                if (SENSOR_PIDS[key] !== sensor.PID) {\r\n                    SENSOR_PIDS[key] = sensor.PID\r\n                }\r\n            });\r\n\r\n            this.setState({\r\n                SENSOR_PIDS: SENSOR_PIDS\r\n            });\r\n\r\n            if (this.state.ACTIVE_INIT === false) {\r\n                this.setState({\r\n                    ACTIVE_LINES: SENSOR_PIDS,\r\n                    ACTIVE_INIT: true\r\n                });\r\n            }\r\n        }\r\n\r\n        concatData.forEach((dataPoint) => {\r\n            if (now - dataPoint.time < 86400000) {\r\n                DAILY_POINT_COUNT += 1\r\n\r\n                lastDayData[lastDayData.length] = dataPoint\r\n\r\n                // DATA and CALCS for avgs/lows/highs\r\n                for (const pid in dataPoint) {\r\n\r\n                    if (SENSOR_PIDS.includes(pid)) {\r\n                        var tIndex = SENSOR_PIDS.indexOf(pid)\r\n\r\n                        // HIGHS\r\n                        if (!DAILY_HIGHS[tIndex] || parseFloat(dataPoint[pid]) >= DAILY_HIGHS[tIndex]) {\r\n                            DAILY_HIGHS[tIndex] = dataPoint[pid]\r\n                            DAILY_HIGHS_TIMES[tIndex] = dataPoint.time\r\n                        }\r\n                        // LOWS\r\n                        if (!DAILY_LOWS[tIndex] || parseFloat(dataPoint[pid]) <= DAILY_LOWS[tIndex]) {\r\n                            DAILY_LOWS[tIndex] = dataPoint[pid]\r\n                            DAILY_LOWS_TIMES[tIndex] = dataPoint.time\r\n                        }\r\n                        //AVERAGES\r\n                        if (!DAILY_AVGS[tIndex]) {\r\n                            DAILY_AVGS[tIndex] = 0\r\n                        }\r\n                        DAILY_AVGS[tIndex] = parseFloat(dataPoint[pid]) + parseFloat(DAILY_AVGS[tIndex])\r\n                    }\r\n                }\r\n            }\r\n\r\n            // YESTERDAY AVERAGES\r\n            if ((now - dataPoint.time < (86400000 * 2)) && (now - dataPoint.time > 86400000)) {\r\n                YEST_POINT_COUNT += 1\r\n\r\n                yesterdayData[yesterdayData.length] = dataPoint\r\n\r\n                // DATA and CALCS for avgs/lows/highs\r\n                for (const pid in dataPoint) {\r\n\r\n                    if (SENSOR_PIDS.includes(pid)) {\r\n                        var yIndex = SENSOR_PIDS.indexOf(pid)\r\n\r\n                        //AVERAGES\r\n                        if (!YEST_AVGS[yIndex]) {\r\n                            YEST_AVGS[yIndex] = 0\r\n                        }\r\n                        YEST_AVGS[yIndex] = parseFloat(dataPoint[pid]) + parseFloat(YEST_AVGS[yIndex])\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n        // CALCULATE AVERAGES\r\n        DAILY_AVGS.forEach((avg, key) => {\r\n            DAILY_AVGS[key] = DAILY_AVGS[key] / DAILY_POINT_COUNT\r\n        });\r\n\r\n        YEST_AVGS.forEach((avg, key) => {\r\n            YEST_AVGS[key] = YEST_AVGS[key] / YEST_POINT_COUNT\r\n        });\r\n\r\n        this.setState({\r\n            DAILY_HIGHS: DAILY_HIGHS,\r\n            DAILY_HIGHS_TIMES: DAILY_HIGHS_TIMES,\r\n            DAILY_LOWS: DAILY_LOWS,\r\n            DAILY_LOWS_TIMES: DAILY_LOWS_TIMES,\r\n            DAILY_AVGS: DAILY_AVGS,\r\n            YEST_AVGS: YEST_AVGS\r\n        });\r\n    }\r\n\r\n    toggleLine = (e) => {\r\n        var pid = e.currentTarget.getAttribute('data-value')\r\n\r\n        var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n        var tActiveLines = this.state.ACTIVE_LINES\r\n\r\n        if (tActiveLines.includes(pid)) {\r\n            tActiveLines[tIndex] = null\r\n        } else {\r\n            tActiveLines[tIndex] = pid\r\n        }\r\n\r\n        this.setState({ ACTIVE_LINES: tActiveLines })\r\n        this.forceUpdate()\r\n    }\r\n\r\n    openCloseSettings = () => {\r\n        if (this.state.SHOW_SETTINGS) {\r\n            this.setState({ SHOW_SETTINGS: false })\r\n        } else {\r\n            this.setState({ SHOW_SETTINGS: true })\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        const sensorInfoRows = this.state.SENSOR_PIDS.map((pid) =>\r\n            <div className=\"Grow-Details-Main-Data-Display-Row\" key={pid}>\r\n\r\n                {(() => {\r\n                    var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                    if (this.state.ACTIVE_LINES.includes(pid)) {\r\n                        if (this.props.grow.config.SENSORS[tIndex].type === \"airTemp\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', background: '#0c140d', color: this.props.grow.config.SENSORS[tIndex].color }}  >\r\n                                {this.props.grow.config.SENSORS[tIndex].name} <WiThermometer style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"humidity\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', background: '#0c140d', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiHumidity style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"fan\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', background: '#0c140d', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiHurricane style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"humidifier\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', background: '#0c140d', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiCloudUp style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', background: '#0c140d', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiThermometerExterior style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', background: '#0c140d', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}\r\n                            </div>)\r\n                        }\r\n                    } else {\r\n                        if (this.props.grow.config.SENSORS[tIndex].type === \"airTemp\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', opacity: '0.3', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name} <WiThermometer style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"humidity\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', opacity: '0.3', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiHumidity style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"fan\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', opacity: '0.3', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiHurricane style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"humidifier\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', opacity: '0.3', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiCloudUp style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else if (this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\") {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', opacity: '0.3', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}  <WiThermometerExterior style={{ color: '#FFF', fontSize: '30px' }} />\r\n                            </div>)\r\n                        } else {\r\n                            return (<div data-value={pid} key={pid} onClick={this.toggleLine} style={{ width: '120px', maxHeight: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'flex-end', fontSize: '0.65em', cursor: 'pointer', opacity: '0.3', color: this.props.grow.config.SENSORS[tIndex].color }}>\r\n                                {this.props.grow.config.SENSORS[tIndex].name}\r\n                            </div>)\r\n                        }\r\n                    }\r\n\r\n\r\n                })()}\r\n\r\n                <div className=\"Grow-Details-Main-Data-Current-Data\">\r\n                    {(() => {\r\n                        if (this.state.liveData[pid] > this.state.lastLiveData[pid]) {\r\n                            return <div style={{ fontSize: '14px', color: '#a02525' }}><span role=\"img\" aria-label=\"higher value\">&#9650;</span></div>\r\n                        } else if (this.state.liveData[pid] < this.state.lastLiveData[pid]) {\r\n                            return <div style={{ fontSize: '14px', color: '#242490' }}><span role=\"img\" aria-label=\"lower value\">&#9660;</span></div>\r\n                        } else {\r\n                            return <div style={{ fontSize: '14px', visibility: 'hidden' }}><span role=\"img\" aria-label=\"lower value\">&#9660;</span></div>\r\n                        }\r\n                    })()}\r\n\r\n                    {(() => {\r\n                        var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                        if ((this.props.grow.config.SENSORS[tIndex].type === \"airTemp\" || this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\")) {\r\n\r\n                            return <div>{Math.round(this.state.liveData[pid] * 10) / 10}C</div>\r\n                        } else {\r\n                            return <div>{Math.round(this.state.liveData[pid] * 10) / 10}%</div>\r\n                        }\r\n                    })()}\r\n                </div>\r\n\r\n\r\n                <div className=\"Grow-Details-Main-Data-Data\" style={{ marginBottom: '1px' }}>\r\n                    <div className=\"Grow-Details-Main-Yest-Data\" style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                        {(() => {\r\n                            var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                            if (this.state.YEST_AVGS[tIndex]) {\r\n                                if (this.props.grow.config.SENSORS[tIndex].type === \"airTemp\" || this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\") {\r\n                                    return Math.round(this.state.YEST_AVGS[tIndex] * 10) / 10 + 'C'\r\n                                } else {\r\n                                    return Math.round(this.state.YEST_AVGS[tIndex] * 10) / 10 + '%'\r\n                                }\r\n                            }\r\n                        })()}\r\n\r\n\r\n                        {(() => {\r\n                            var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                            if (this.state.DAILY_AVGS[tIndex] && this.state.YEST_AVGS[tIndex]) {\r\n\r\n                                if (this.state.DAILY_AVGS[tIndex] > this.state.YEST_AVGS[tIndex]) {\r\n                                    return <div style={{ color: '#FFF' }}><span role=\"img\" aria-label=\"higher value\">&#9650;</span></div>\r\n                                } else if (this.state.DAILY_AVGS[tIndex] < this.state.YEST_AVGS[tIndex]) {\r\n                                    return <div style={{ color: '#FFF' }}><span role=\"img\" aria-label=\"lower value\">&#9660;</span></div>\r\n                                } else {\r\n                                    return <div style={{ visibility: 'hidden' }}><span role=\"img\" aria-label=\"lower value\">&#9660;</span></div>\r\n                                }\r\n                            }\r\n                        })()}\r\n                    </div>\r\n\r\n\r\n                    {(() => {\r\n                        var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                        if (this.state.DAILY_AVGS[tIndex]) {\r\n                            if (this.props.grow.config.SENSORS[tIndex].type === \"airTemp\" || this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\") {\r\n                                return Math.round(this.state.DAILY_AVGS[tIndex] * 10) / 10 + 'C'\r\n                            } else {\r\n                                return Math.round(this.state.DAILY_AVGS[tIndex] * 10) / 10 + '%'\r\n                            }\r\n                        }\r\n                    })()}\r\n                </div>\r\n\r\n\r\n                <div className=\"Grow-Details-Main-Data-Data\" style={{ backgroundColor: '#c77725', marginBottom: '1px' }}>\r\n                    <div className=\"Grow-Details-Main-Data-Time\">\r\n                        {(() => {\r\n                            var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                            if (this.state.DAILY_HIGHS_TIMES) {\r\n                                var m = moment(this.state.DAILY_HIGHS_TIMES[tIndex])\r\n                                return m.format('HH:mm')\r\n                            }\r\n                        })()}\r\n                    </div>\r\n\r\n                    {(() => {\r\n                        var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                        if (this.state.DAILY_HIGHS) {\r\n                            if (this.props.grow.config.SENSORS[tIndex].type === \"airTemp\" || this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\") {\r\n                                return Math.round(this.state.DAILY_HIGHS[tIndex] * 10) / 10 + 'C'\r\n                            } else {\r\n                                return Math.round(this.state.DAILY_HIGHS[tIndex] * 10) / 10 + '%'\r\n                            }\r\n                        }\r\n                    })()}\r\n                </div>\r\n\r\n                <div className=\"Grow-Details-Main-Data-Data\" style={{ backgroundColor: '#2584c7', marginBottom: '1px' }}>\r\n                    <div className=\"Grow-Details-Main-Data-Time\">\r\n                        {(() => {\r\n                            var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                            if (this.state.DAILY_LOWS_TIMES) {\r\n                                var m = moment(this.state.DAILY_LOWS_TIMES[tIndex])\r\n                                return m.format('HH:mm')\r\n                            }\r\n                        })()}\r\n                    </div>\r\n\r\n                    {(() => {\r\n                        var tIndex = this.state.SENSOR_PIDS.indexOf(pid)\r\n\r\n                        if (this.state.DAILY_LOWS) {\r\n                            if (this.props.grow.config.SENSORS[tIndex].type === \"airTemp\" || this.props.grow.config.SENSORS[tIndex].type === \"waterTemp\") {\r\n                                return Math.round(this.state.DAILY_LOWS[tIndex] * 10) / 10 + 'C'\r\n                            } else {\r\n                                return Math.round(this.state.DAILY_LOWS[tIndex] * 10) / 10 + '%'\r\n                            }\r\n                        }\r\n                    })()}\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n\r\n\r\n        // MAIN RENDER RETURN\r\n        return (\r\n            <div className=\"Grow-Details-Page\">\r\n\r\n                <div className=\"Grow-Details-Page-Content\">\r\n\r\n                    <div className=\"Grow-Details-Content-Bottom\">\r\n                        <div className=\"Grow-Details-Header\">\r\n                            <div style={{ display: 'flex', flexDirection: 'row', flex: 1 }}>\r\n                                <div className={this.state.activeIndicatorStyle} />\r\n                                <div id=\"Grow-Header-Text\">{this.props.grow.name}</div>\r\n                            </div>\r\n                            <div onClick={() => this.openCloseSettings()} style={{ paddingRight: '30px', color: '#A9A9A9', userSelect: 'none', cursor: 'pointer' }}>\r\n                                <BsGearFill style={{ color: '#9e9e9e', fontSize: '22px', marginTop: '8px' }} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"Grow-Details-Bottom-Item\" >\r\n                            <GrowDetailsGraphs activeLines={this.state.ACTIVE_LINES} rawGrowData={this.props.rawGrowData} grow={this.props.grow} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {(() => {\r\n                        if (this.state.SHOW_SETTINGS) {\r\n                            return (\r\n                                <GrowSettings grow={this.props.grow} refreshGrows={this.props.refreshGrows} close={this.openCloseSettings} />\r\n                            )\r\n                        }\r\n                    })()}\r\n\r\n                    <div className=\"Grow-Details-Page-Panel\">\r\n                        <div id=\"Grow-Details-Data-Display\">\r\n                            {(() => {\r\n                                if (this.state.liveData) {\r\n                                    return (\r\n                                        <div id=\"Grow-Details-Main-Data-Display\">\r\n                                            <div className=\"Grow-Details-Headers-Display-Row\">\r\n                                                <div className=\"Grow-Details-Main-Data-Row-Header\" style={{ color: '#FFF', width: '120px', maxWidth: '120px' }}></div>\r\n                                                <div className=\"Grow-Details-Main-Data-Row-Header\" style={{ width: '86px', maxWidth: '86px' }}></div>\r\n                                                <div className=\"Grow-Details-Main-Data-Row-Header\" style={{ width: '60px', maxWidth: '60px' }}>24h~</div>\r\n                                                <div className=\"Grow-Details-Main-Data-Row-Header\" style={{ width: '60px', maxWidth: '60px' }}>24h&#8593;</div>\r\n                                                <div className=\"Grow-Details-Main-Data-Row-Header\" style={{ width: '60px', maxWidth: '60px' }}>24h&#8595;</div>\r\n                                            </div>\r\n\r\n                                            {sensorInfoRows}\r\n\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                            })()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowDetailsPage;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport GrowBoxItem from './GrowBoxItem'\r\nimport GrowDetailsPage from './GrowDetailsPage'\r\n\r\n\r\nclass GrowPage extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tdisplayContent: \"main\", // main\r\n\t\t\tgrow: this.props.grow\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._ismounted = true;\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._ismounted = false;\r\n\t}\r\n\r\n\tcomponentDidUpdate = () => {\r\n\t\tif (!this._ismounted) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tcloseModal = (key) => {\r\n\t\tif (!key || key === '') {\r\n\t\t\tthis.setState({ displayContent: \"main\" });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.setState({ displayContent: \"main\" });\r\n\t}\r\n\r\n\topenMainPage = (page, id) => {\r\n\t\tthis.props.openMainPage(page, id)\r\n\t}\r\n\r\n\topenCreateGrowModal = () => {\r\n\t\talert(\"GrowPage.js openCreateGrowModal() TODO\")\r\n\t}\r\n\r\n\topenGrow = (grow) => {\r\n\t\tif (!grow) {\r\n\t\t\tthis.props.setGrow(null)\r\n\t\t}\r\n\r\n\t\tthis.props.setGrow(grow)\r\n\t}\r\n\r\n\tsetJournalID = (journalID) => {\r\n\t\tconsole.log(\"GROW PAGE!\")\r\n\t\tconsole.log(journalID)\r\n\t\tthis.props.setJournalID(journalID)\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tif (this.props.growID) {\r\n\t\t\tthis.props.userGrows.forEach((grow) => {\r\n\t\t\t\tif (grow.id === this.props.growID) {\r\n\t\t\t\t\tthis.props.setGrow(grow)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar renderedGrowBoxes = null;\r\n\t\tif (this.props.grow === null && this.props.userGrows) {\r\n\t\t\trenderedGrowBoxes = this.props.userGrows.map((grow) =>\r\n\t\t\t\t<div key={grow.id} className=\"Grow-Box-Item-Container\">\r\n\t\t\t\t\t<GrowBoxItem grow={grow} openGrow={this.openGrow} openMainPage={this.openMainPage} liveGrowData={this.props.liveGrowData} rawGrowData={this.props.rawGrowData} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<div id=\"Grow-Page\">\r\n\t\t\t\t<div id=\"Grow-Main\">\r\n\t\t\t\t\t<div id=\"Grow-Main-Area\">\r\n\r\n\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\tif (this.props.grow === null) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div id=\"Grow-List-Main-Area\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (renderedGrowBoxes) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Box-Area-Scroll\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Area\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Text\">Grows</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"New-Grow-Btn\" onClick={this.openCreateGrowModal}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Box-Area\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderedGrowBoxes}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Area\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"Grow-Header-Text\">Grows</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"New-Grow-Btn\" onClick={this.openCreateGrowModal}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})()}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\tif (this.props.grow) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<GrowDetailsPage grow={this.props.grow} refreshGrows={this.props.refreshGrows} openMainPage={this.openMainPage} setJournalID={this.setJournalID} rawGrowData={this.props.rawGrowData} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})()}\r\n\r\n\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default GrowPage;\r\n","import React, { Component } from 'react';\r\nimport '../../../styles/App.css';\r\n\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip } from 'recharts';\r\n\r\nimport moment from 'moment'\r\n\r\nimport DbHelper from '../../_utils/DbHelper.js'\r\n\r\n\r\nclass GraphSensorsTest extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n        };\r\n\r\n        this.dbHelper = new DbHelper()\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        this._ismounted = true;\r\n\r\n        if (this.props.growDeprecate) {\r\n            if (this.props.growDeprecate !== this.growDeprecate) {\r\n                this.growDeprecate = this.props.growDeprecate;\r\n                this.getData()\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n\r\n        if (this.props.growDeprecate) {\r\n            if (this.props.growDeprecate !== this.growDeprecate) {\r\n                this.growDeprecate = this.props.growDeprecate;\r\n                this.getData()\r\n            }\r\n        }\r\n    }\r\n\r\n    getData = async () => {\r\n        try {\r\n            await this.dbHelper.getThreeDays(this.props.growDeprecate, this.setData)\r\n        } catch(e) {\r\n            console.log(e); \r\n            return 'caught ' + e\r\n        }\r\n    }\r\n\r\n    setData = (data) => {\r\n        if (this._ismounted) {\r\n            this.setState({\r\n                data: data\r\n            });\r\n        }\r\n    }\r\n\r\n    renderTooltip = (props) => {\r\n        var rawContent = props.payload\r\n        if (rawContent.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var readableTime = moment(props.payload[0].payload.time).format('ddd - HH:mm')\r\n\r\n        var tempTemp = null;\r\n        var tempTempColor = \"#000\"\r\n        var tempFanPower = null;\r\n        var tempFanSpdColor = \"#000\"\r\n        var tempHumidity = null;\r\n        var tempHumidityColor = \"#000\"\r\n        var tempHumidifierPower = null;\r\n        var tempHumiPwrColor = \"#000\"\r\n\r\n        rawContent.forEach((line) => {\r\n            if (line.dataKey === \"cTemp\") {\r\n                tempTempColor = line.stroke\r\n                tempTemp = rawContent[0].payload.cTemp\r\n            }\r\n\r\n            if (line.dataKey === \"fanSpeed\") {\r\n                tempFanSpdColor = line.stroke\r\n                tempFanPower = rawContent[0].payload.fanSpeed\r\n            }\r\n\r\n            if (line.dataKey === \"humidity\") {\r\n                tempHumidityColor = line.stroke\r\n                tempHumidity = rawContent[0].payload.humidity\r\n            }\r\n\r\n            if (line.dataKey === \"humiPower\") {\r\n                tempHumiPwrColor = line.stroke\r\n                tempHumidifierPower = rawContent[0].payload.humiPower\r\n            }\r\n        })\r\n\r\n        return (\r\n            <div className=\"Grow-Details-Graph-Tooltip\">\r\n                <div>{readableTime}</div>\r\n\r\n                {(() => {\r\n                    if (tempTemp) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempTempColor }}>TEMP: {tempTemp}C </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempFanPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempFanSpdColor }}>FAN-PWR: {tempFanPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidity) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumidityColor }}>HUMID: {tempHumidity}% RH </div>\r\n                    }\r\n                })()}\r\n\r\n                {(() => {\r\n                    if (tempHumidifierPower) {\r\n                        return <div className=\"Grow-Details-Graph-Tooltip-Data\" style={{ color: tempHumiPwrColor }}>HUM-PWR: {tempHumidifierPower}% </div>\r\n                    }\r\n                })()}\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        var renderDayGraph = null\r\n        if (this.state.data && this.state.data[0]) {\r\n            if (this.props.parentSize) {\r\n                var xSize = Math.floor(this.props.parentSize[0] * 0.95)\r\n                var ySize = Math.floor(this.props.parentSize[1] * 0.9)\r\n\r\n                console.log(\"WOW GraphSensorsTest graph size:\")\r\n                console.log(xSize + \", \" + ySize)\r\n                console.log(\"WOW GraphSensorsTest datalength at render:\")\r\n                console.log(this.state.data.length)\r\n\r\n                renderDayGraph = (\r\n                    <LineChart width={xSize} height={ySize} data={this.state.data}>\r\n                        <Line type=\"monotone\" dataKey=\"cTemp\" stroke=\"#ca2014\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"fanSpeed\" stroke=\"#db5e24\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humidity\" stroke=\"#387d14\" dot={false} />\r\n                        <Line type=\"monotone\" dataKey=\"humiPower\" stroke=\"#8884d8\" dot={false} />\r\n                        <XAxis\r\n                            dataKey=\"time\"\r\n                            type=\"number\"\r\n                            domain={[new Date(this.state.data[0].time).getTime(), new Date(this.state.data[this.state.data.length - 1].time).getTime()]}\r\n                            tickFormatter={(unixTime) => moment(unixTime).format('HH:mm - MMM Do')} />\r\n                        <YAxis />\r\n                        <Tooltip content={this.renderTooltip} />\r\n                    </LineChart>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        return (\r\n\r\n\r\n            <div className=\"Chart-Container\">\r\n                {renderDayGraph}\r\n            </div>\r\n\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GraphSensorsTest;\r\n","import React, { Component } from 'react';\r\nimport '../../styles/App.css';\r\n\r\nimport GraphSensorsTest from '../main-content/Graphs/GraphSensorsTest.js'\r\n\r\n\r\nclass GrowGraphsTest extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elementSize: [800, 400],\r\n            growDeprecate: null\r\n        };\r\n\r\n        this.graphSizeUpdated = 0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ismounted = true;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this._ismounted === false) {\r\n            return;\r\n        }\r\n\r\n        var dateNow = new Date()\r\n        if (((this.state.elementSize !== [this.divRef.clientWidth, this.divRef.clientHeight]) && ((dateNow.getTime() - this.graphSizeUpdated) > 500))) {\r\n            var tempSize = [this.divRef.clientWidth, this.divRef.clientHeight]\r\n\r\n            if (tempSize !== this.state.elementSize) {\r\n                this.setState({ elementSize: tempSize });\r\n                this.graphSizeUpdated = dateNow.getTime();\r\n            }\r\n        }\r\n\r\n        if (this.props.growDeprecate) {\r\n            if (this.state.growDeprecate !== this.props.growDeprecate) {\r\n                this.setState({ growDeprecate: this.props.growDeprecate });\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._ismounted = false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div id=\"Grow-Details-Graphs-Page\" ref={element => this.divRef = element}>\r\n                <GraphSensorsTest parentSize={this.state.elementSize} growDeprecate={this.props.growDeprecate} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default GrowGraphsTest;\r\n","import React, { Component } from 'react';\r\n\r\nimport '../../styles/App.css';\r\n\r\n\r\nclass AppBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n    }\r\n\r\n    openJournals = () => {\r\n        this.props.setMainContent('journals')\r\n    }\r\n\r\n    openGrows = () => {\r\n        this.props.setMainContent('grows')\r\n    }\r\n\r\n    // Replace with a setGrow \r\n    openGanjaGrove = () => {\r\n        this.props.openGanjaGrove()\r\n    }\r\n    openVegger = () => {\r\n        this.props.openVegger()\r\n    }\r\n\r\n    setGrow = (ev) => {\r\n        this.props.setGrowByID(ev.target.dataset.value)\r\n    }\r\n\r\n    //TODO: why is this here (also in App.js)?\r\n    handleSignOut = () => {\r\n        this.firebase.auth.signOut().then(function () {\r\n            // Sign-out successful.\r\n            console.log(`signed out`)\r\n            window.location.reload();\r\n        }).catch(function (error) {\r\n            // An error happened.\r\n            console.log(`Error signing out: ${error}`)\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        var renderedLiveGrowButtons = null;\r\n        if (this.props.userGrows !== null) {\r\n            renderedLiveGrowButtons = this.props.userGrows.map((grow) => {\r\n\r\n                var liveButtonData = null\r\n                if (this.props.liveGrowData[grow.id]) {\r\n                    liveButtonData = this.props.liveGrowData[grow.id]\r\n                }\r\n\r\n                var brokenName = grow.name.split(\" \")\r\n                var acroName = \"\"\r\n                brokenName.forEach((piece) => {\r\n                    acroName += piece.charAt(0)\r\n                })\r\n\r\n                return (\r\n                    <div className=\"App-Bar-Button-Grow\" key={grow.id} onClick={this.setGrow} data-value={grow.id}>\r\n                        <div className=\"App-Bar-Button-Grow-Name\" data-value={grow.id}>\r\n                            {acroName}\r\n                        </div>\r\n                        {(() => {\r\n                            if (liveButtonData) {\r\n                                return (\r\n                                    <div ref={this.flowerTempRef} className=\"App-Bar-Button-Grow-Temp\" data-value={grow.id}>\r\n                                        {Math.round(liveButtonData.sA1_Temp * 10) / 10}C\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n\r\n                        {(() => {\r\n                            if (liveButtonData) {\r\n                                return (\r\n                                    <div ref={this.flowerHumidityRef} className=\"App-Bar-Button-Grow-Humidity\" data-value={grow.id}>\r\n                                        {Math.round(liveButtonData.sA1_Humi * 10) / 10}%\r\n                                    </div>\r\n                                )\r\n                            }\r\n                        })()}\r\n\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n\r\n        return (\r\n\r\n            <div id=\"App-Bar\" >\r\n                <div id=\"App-Bar-Logo\" onClick={this.openGrows}>\r\n                    grovv\r\n                </div>\r\n\r\n                {renderedLiveGrowButtons}\r\n\r\n                <div className=\"App-Bar-Button\" onClick={this.openJournals}>\r\n                    JRNLS\r\n                </div>\r\n\r\n                <div className=\"App-Bar-Filler-Div\"></div>\r\n                <div className=\"App-Bar-Logout-Button\" onClick={this.handleSignOut}>\r\n                    &#10162;\r\n                </div>\r\n            </div >\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppBar;\r\n","import React, { Component } from 'react';\r\nimport '../styles/App.css';\r\n\r\n\r\nimport Firebase from '../config/firebaseConfig.js'\r\n\r\nimport DbHelper from './_utils/DbHelper.js'\r\n\r\n\r\n// Auth\r\nimport SignIn from './auth/SignIn.js'\r\nimport SignUp from './auth/SignUp.js'\r\n\r\n// Main Content\r\nimport FeedChart from './main-content/FeedChart/FeedChart.js'\r\nimport GrowJournal from './main-content/GrowJournal/GrowJournal.js'\r\nimport GrowPage from './main-content/GrowPage/GrowPage.js'\r\n//import GraphSensors from './main-content/Graphs/GraphSensors.js'\r\nimport GrowGraphsTest from './graphs/GrowGraphsTest.js'\r\n\r\n\r\n// Top Bar\r\nimport AppBar from './app-bar/AppBar.js'\r\n\r\n\r\nclass App extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmainContent: 'signin', // signin, signup, main, chart, config, journal, grows, graphs, etc.\r\n\t\t\tUID: null,\r\n\t\t\tusername: '',\r\n\t\t\tjournalID: null,\r\n\t\t\tcurrentGrow: null,\r\n\t\t\tgrowID: null, //todo: remove, use currentGrow\r\n\r\n\t\t\tuserGrows: [],\r\n\t\t\tuserJournals: [],\r\n\t\t\tliveGrowData: [],\r\n\r\n\t\t\tthreeDayData: []\r\n\t\t};\r\n\r\n\t\tthis.refreshGrows = this.refreshGrows.bind(this)\r\n\r\n\t\tthis.dbHelper = new DbHelper();\r\n\r\n\t\tthis.firebase = new Firebase();\r\n\r\n\t\tthis.firebase.auth.onAuthStateChanged((user) => {\r\n\t\t\tif (user) {\r\n\t\t\t\tthis.setState({ UID: user.uid });\r\n\t\t\t\tthis.getUsername();\r\n\r\n\t\t\t\tthis.dbHelper.getUserGrows(this.setUserGrows)\r\n\t\t\t\tthis.dbHelper.getUserJournals(this.setUserJournals)\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\trefreshGrows = (newGrowConfig) => {\r\n\t\tvar tempGrow = this.state.currentGrow\r\n\t\ttempGrow.config = newGrowConfig\r\n\r\n\t\tconsole.log(\"REFRESHOO\")\r\n\r\n\t\tthis.setState({ currentGrow: tempGrow });\r\n\t}\r\n\r\n\tsetUserGrows = (userGrows) => {\r\n\t\tconsole.log(\"USER GROWS!\")\r\n\t\tconsole.log(userGrows)\r\n\r\n\t\tuserGrows.forEach((grow) => {\r\n\t\t\tthis.dbHelper.getThreeDayData(grow.id, this.setThreeDayData)\r\n\t\t})\r\n\r\n\t\tthis.setState({ userGrows: userGrows });\r\n\r\n\t\tthis.dbHelper.getLiveGrowData(userGrows, this.setLiveGrowData)\r\n\t}\r\n\r\n\tsetUserJournals = (userJournals) => {\r\n\t\tthis.setState({ userJournals: userJournals });\r\n\t}\r\n\r\n\tsetLiveGrowData = (dataID, newGrowData) => {\r\n\t\tif (newGrowData === null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar currentData = this.state.liveGrowData\r\n\t\tcurrentData[dataID.toString()] = newGrowData\r\n\r\n\t\tthis.setState({ liveGrowData: currentData });\r\n\t}\r\n\r\n\tsetThreeDayData = (growDeprecate, day, data) => {\r\n\t\tvar previousData = this.state.threeDayData\r\n\r\n\t\tvar tempThreeDayData = []\r\n\r\n\t\tday = parseInt(day)\r\n\r\n\t\tif (previousData[growDeprecate]) {\r\n\t\t\ttempThreeDayData = previousData[growDeprecate]\r\n\t\t}\r\n\r\n\t\tif (tempThreeDayData[day]) {\r\n\t\t\ttempThreeDayData[day] = null\r\n\t\t}\r\n\r\n\t\ttempThreeDayData[day] = data\r\n\r\n\t\tpreviousData[growDeprecate] = tempThreeDayData\r\n\r\n\t\tthis.setState({ threeDayData: previousData });\r\n\t}\r\n\r\n\r\n\tgetUsername = () => {\r\n\t\t// Users location in tree\r\n\t\tvar ref = this.firebase.db.ref().child('users').child(this.state.UID)\r\n\r\n\t\tref.on(\"value\", (snapshot) => {\r\n\t\t\tthis.setState({ username: snapshot.val().username });\r\n\t\t}, function (errorObject) {\r\n\t\t\tconsole.log(\"The username read failed: \" + errorObject.code);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\thandleSignOut = () => {\r\n\t\tthis.setState({\r\n\t\t\tUID: null\r\n\t\t});\r\n\t\tthis.firebase.auth.signOut().then(function () {\r\n\t\t\t// Sign-out successful.\r\n\t\t\tconsole.log(`signed out`)\r\n\t\t}).catch(function (error) {\r\n\t\t\t// An error happened.\r\n\t\t\tconsole.log(`Error signing out: ${error}`)\r\n\t\t});\r\n\t}\r\n\r\n\tsetMainContent = (setValue, id) => {\r\n\t\tthis.setState({\r\n\t\t\tmainContent: setValue,\r\n\t\t\tcurrentGrow: null,\r\n\t\t\tgrowID: id,\r\n\t\t\tjournalID: null\r\n\t\t});\r\n\t}\r\n\r\n\tsetGrowByID = (growID) => {\r\n\t\t// TODO: Send actual grow\r\n\t\tthis.setState({\r\n\t\t\tmainContent: 'grows',\r\n\t\t\tcurrentGrow: null,\r\n\t\t\tgrowID: growID\r\n\t\t});\r\n\r\n\t}\r\n\r\n\topenChart = () => {\r\n\t\tif (this.state.mainContent !== 'chart') {\r\n\t\t\tthis.setState({ mainContent: 'chart' });\r\n\t\t}\r\n\t}\r\n\r\n\teditChart = () => {\r\n\t\twindow.open('https://docs.google.com/spreadsheets/d/1i7EDfBIwj4eYU2LxyS02YwDDeNROcdgXjROKfzCtp60/edit?usp=sharing', 'sharer', 'toolbar=0,status=0,width=548,height=325');\r\n\t}\r\n\r\n\topenConfig = () => {\r\n\t\tif (this.state.mainContent !== 'config') {\r\n\t\t\tthis.setState({ mainContent: 'config' });\r\n\t\t}\r\n\t}\r\n\r\n\topenJournals = () => {\r\n\t\tif (this.state.mainContent !== 'journals') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmainContent: 'journals',\r\n\t\t\t\tjournalID: null\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tjournalID: null\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\topenGrows = () => {\r\n\t\tif (this.state.mainContent !== 'grows') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmainContent: 'grows',\r\n\t\t\t\tcurrentGrow: null\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcurrentGrow: null\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tsetGrow = (grow) => {\r\n\t\tconsole.log(\"APP Setgrow\")\r\n\t\tconsole.log(grow)\r\n\t\tthis.setState({\r\n\t\t\tgrowID: null,\r\n\t\t\tcurrentGrow: grow\r\n\t\t});\r\n\t}\r\n\r\n\tsetJournalID = (journalID) => {\r\n\t\tconsole.log(\"APP SetJournalID\")\r\n\t\tconsole.log(journalID)\r\n\t\tthis.setState({\r\n\t\t\tmainContent: 'journals',\r\n\t\t\tjournalID: journalID\r\n\t\t});\r\n\t}\r\n\r\n\r\n\topenMainPageFromExternal = (page, id) => {\r\n\t\tconsole.log(\"todo: get rid of this system...\")\r\n\t\tconsole.log(page)\r\n\t\tswitch (page) {\r\n\t\t\tcase 'config':\r\n\t\t\t\tthis.configGrowID = id;\r\n\t\t\t\tthis.openConfig()\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'feed':\r\n\t\t\t\tthis.openChart()\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'edit-feed':\r\n\t\t\t\tthis.editChart()\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'graphs':\r\n\t\t\t\tthis.openGraphs()\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthis.openGraphs()\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\topenGraphs = () => {\r\n\t\tthis.setState({\r\n\t\t\tmainContent: 'graphs',\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<header className=\"App-body\">\r\n\r\n\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\tif (this.state.UID) {\r\n\t\t\t\t\t\t\treturn <AppBar mainContent={this.state.mainContent} setGrowByID={this.setGrowByID} setMainContent={this.setMainContent} liveGrowData={this.state.liveGrowData} userGrows={this.state.userGrows} />\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t<div id=\"App-Inner-Body\">\r\n\r\n\r\n\t\t\t\t\t\t<div id=\"App-Body-Content\">\r\n\t\t\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\t\t\tif (this.state.UID) {\r\n\t\t\t\t\t\t\t\t\tswitch (this.state.mainContent) {\r\n\t\t\t\t\t\t\t\t\t\tcase 'journals':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <GrowJournal setJournalID={this.setJournalID} journalID={this.state.journalID} userJournals={this.state.userJournals} />\r\n\t\t\t\t\t\t\t\t\t\tcase 'grows':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <GrowPage refreshGrows={this.refreshGrows} openMainPage={this.openMainPageFromExternal} setJournalID={this.setJournalID} setGrow={this.setGrow} grow={this.state.currentGrow} growID={this.state.growID} userGrows={this.state.userGrows} liveGrowData={this.state.liveGrowData} rawGrowData={this.state.threeDayData} />\r\n\t\t\t\t\t\t\t\t\t\tcase 'chart':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <FeedChart />\r\n\r\n\t\t\t\t\t\t\t\t\t\tcase 'graphs':\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"Chart-Page\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* TODO REMOVE */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflower 3 day\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GrowGraphsTest growDeprecate={'-LdtfBTlG6Fgg-ADD8-b'} />\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvegger 3 day\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<GrowGraphsTest growDeprecate={'-LdtkOvSXRrm1zIZ6EOx'} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\treturn <GrowPage refreshGrows={this.refreshGrows} openMainPage={this.openMainPageFromExternal} setJournalID={this.setJournalID} setGrow={this.setGrow} grow={this.state.currentGrow} growID={this.state.growID} userGrows={this.state.userGrows} liveGrowData={this.state.liveGrowData} rawGrowData={this.state.threeDayData} />\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tswitch (this.state.mainContent) {\r\n\t\t\t\t\t\t\t\t\t\tcase 'signin':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <SignIn gotoSignUp={this.setMainContent} />;\r\n\t\t\t\t\t\t\t\t\t\tcase 'signup':\r\n\t\t\t\t\t\t\t\t\t\t\treturn <SignUp gotoSignIn={this.setMainContent} />;\r\n\t\t\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t\t\treturn <SignIn gotoSignUp={this.setMainContent} />;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})()}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App/App';\r\nimport * as serviceWorker from './js/serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}